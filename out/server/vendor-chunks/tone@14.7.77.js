/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/tone@14.7.77";
exports.ids = ["vendor-chunks/tone@14.7.77"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/tone@14.7.77/node_modules/tone/build/Tone.js":
/*!*************************************************************************!*\
  !*** ./node_modules/.pnpm/tone@14.7.77/node_modules/tone/build/Tone.js ***!
  \*************************************************************************/
/***/ (function(module) {

eval("!function(t,e){ true?module.exports=e():0}(\"undefined\"!=typeof self?self:this,(function(){return function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"\",s(s.s=9)}([function(t,e,s){!function(t,e,s,n){\"use strict\";function i(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var o=i(e),r=i(s),a=i(n),c=function(t,e,s){return{endTime:e,insertTime:s,type:\"exponentialRampToValue\",value:t}},h=function(t,e,s){return{endTime:e,insertTime:s,type:\"linearRampToValue\",value:t}},u=function(t,e){return{startTime:e,type:\"setValue\",value:t}},l=function(t,e,s){return{duration:s,startTime:e,type:\"setValueCurve\",values:t}},p=function(t,e,s){var n=s.startTime,i=s.target,o=s.timeConstant;return i+(e-i)*Math.exp((n-t)/o)},d=function(t){return\"exponentialRampToValue\"===t.type},f=function(t){return\"linearRampToValue\"===t.type},_=function(t){return d(t)||f(t)},m=function(t){return\"setValue\"===t.type},g=function(t){return\"setValueCurve\"===t.type},v=function t(e,s,n,i){var o=e[s];return void 0===o?i:_(o)||m(o)?o.value:g(o)?o.values[o.values.length-1]:p(n,t(e,s-1,o.startTime,i),o)},y=function(t,e,s,n,i){return void 0===s?[n.insertTime,i]:_(s)?[s.endTime,s.value]:m(s)?[s.startTime,s.value]:g(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,v(t,e-1,s.startTime,i)]},x=function(t){return\"cancelAndHold\"===t.type},w=function(t){return\"cancelScheduledValues\"===t.type},b=function(t){return x(t)||w(t)?t.cancelTime:d(t)||f(t)?t.endTime:t.startTime},T=function(t,e,s,n){var i=n.endTime,o=n.value;return s===o?o:0<s&&0<o||s<0&&o<0?s*Math.pow(o/s,(t-e)/(i-e)):0},S=function(t,e,s,n){return s+(t-e)/(n.endTime-e)*(n.value-s)},k=function(t,e){var s=e.duration,n=e.startTime,i=e.values;return function(t,e){var s=Math.floor(e),n=Math.ceil(e);return s===n?t[s]:(1-(e-s))*t[s]+(1-(n-e))*t[n]}(i,(t-n)/s*(i.length-1))},C=function(t){return\"setTarget\"===t.type},A=function(){function t(e){r.default(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a.default(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:\"add\",value:function(t){var e=b(t);if(x(t)||w(t)){var s=this._automationEvents.findIndex((function(s){return w(t)&&g(s)?s.startTime+s.duration>=e:b(s)>=e})),n=this._automationEvents[s];if(-1!==s&&(this._automationEvents=this._automationEvents.slice(0,s)),x(t)){var i=this._automationEvents[this._automationEvents.length-1];if(void 0!==n&&_(n)){if(C(i))throw new Error(\"The internal list is malformed.\");var o=g(i)?i.startTime+i.duration:b(i),r=g(i)?i.values[i.values.length-1]:i.value,a=d(n)?T(e,o,r,n):S(e,o,r,n),p=d(n)?c(a,e,this._currenTime):h(a,e,this._currenTime);this._automationEvents.push(p)}void 0!==i&&C(i)&&this._automationEvents.push(u(this.getValue(e),e)),void 0!==i&&g(i)&&i.startTime+i.duration>e&&(this._automationEvents[this._automationEvents.length-1]=l(new Float32Array([6,7]),i.startTime,e-i.startTime))}}else{var m=this._automationEvents.findIndex((function(t){return b(t)>e})),v=-1===m?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[m-1];if(void 0!==v&&g(v)&&b(v)+v.duration>e)return!1;var y=d(t)?c(t.value,t.endTime,this._currenTime):f(t)?h(t.value,e,this._currenTime):t;if(-1===m)this._automationEvents.push(y);else{if(g(t)&&e+t.duration>b(this._automationEvents[m]))return!1;this._automationEvents.splice(m,0,y)}}return!0}},{key:\"flush\",value:function(t){var e=this._automationEvents.findIndex((function(e){return b(e)>t}));if(e>1){var s=this._automationEvents.slice(e-1),n=s[0];C(n)&&s.unshift(u(v(this._automationEvents,e-2,n.startTime,this._defaultValue),n.startTime)),this._automationEvents=s}}},{key:\"getValue\",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents[this._automationEvents.length-1],s=this._automationEvents.findIndex((function(e){return b(e)>t})),n=this._automationEvents[s],i=b(e)<=t?e:this._automationEvents[s-1];if(void 0!==i&&C(i)&&(void 0===n||!_(n)||n.insertTime>t))return p(t,v(this._automationEvents,s-2,i.startTime,this._defaultValue),i);if(void 0!==i&&m(i)&&(void 0===n||!_(n)))return i.value;if(void 0!==i&&g(i)&&(void 0===n||!_(n)||i.startTime+i.duration>t))return t<i.startTime+i.duration?k(t,i):i.values[i.values.length-1];if(void 0!==i&&_(i)&&(void 0===n||!_(n)))return i.value;if(void 0!==n&&d(n)){var r=y(this._automationEvents,s-1,i,n,this._defaultValue),a=o.default(r,2),c=a[0],h=a[1];return T(t,c,h,n)}if(void 0!==n&&f(n)){var u=y(this._automationEvents,s-1,i,n,this._defaultValue),l=o.default(u,2),x=l[0],w=l[1];return S(t,x,w,n)}return this._defaultValue}}]),t}();t.AutomationEventList=A,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:\"cancelAndHold\"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:\"cancelScheduledValues\"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:\"exponentialRampToValue\",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:\"linearRampToValue\",value:t}},t.createSetTargetAutomationEvent=function(t,e,s){return{startTime:e,target:t,timeConstant:s,type:\"setTarget\"}},t.createSetValueAutomationEvent=u,t.createSetValueCurveAutomationEvent=l,Object.defineProperty(t,\"__esModule\",{value:!0})}(e,s(1),s(7),s(8))},function(t,e,s){var n=s(2),i=s(3),o=s(4),r=s(6);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||r()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t)){var s=[],n=!0,i=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(s.push(r.value),!e||s.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return s}}},function(t,e,s){var n=s(5);t.exports=function(t,e){if(t){if(\"string\"==typeof t)return n(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===s&&t.constructor&&(s=t.constructor.name),\"Map\"===s||\"Set\"===s?Array.from(t):\"Arguments\"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},function(t,e){function s(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}},function(t,e,s){\"use strict\";s.r(e),s.d(e,\"getContext\",(function(){return Ji})),s.d(e,\"setContext\",(function(){return Ki})),s.d(e,\"Clock\",(function(){return qo})),s.d(e,\"Context\",(function(){return Gi})),s.d(e,\"BaseContext\",(function(){return Wi})),s.d(e,\"Delay\",(function(){return Fo})),s.d(e,\"Gain\",(function(){return ko})),s.d(e,\"Offline\",(function(){return Io})),s.d(e,\"OfflineContext\",(function(){return Yi})),s.d(e,\"Param\",(function(){return xo})),s.d(e,\"ToneAudioBuffer\",(function(){return Xi})),s.d(e,\"ToneAudioBuffers\",(function(){return Vo})),s.d(e,\"ToneAudioNode\",(function(){return wo})),s.d(e,\"connectSeries\",(function(){return bo})),s.d(e,\"connect\",(function(){return To})),s.d(e,\"disconnect\",(function(){return So})),s.d(e,\"FrequencyClass\",(function(){return lo})),s.d(e,\"Frequency\",(function(){return _o})),s.d(e,\"MidiClass\",(function(){return No})),s.d(e,\"Midi\",(function(){return Po})),s.d(e,\"TimeClass\",(function(){return ho})),s.d(e,\"Time\",(function(){return uo})),s.d(e,\"TicksClass\",(function(){return jo})),s.d(e,\"Ticks\",(function(){return Lo})),s.d(e,\"TransportTimeClass\",(function(){return mo})),s.d(e,\"TransportTime\",(function(){return go})),s.d(e,\"Emitter\",(function(){return Bi})),s.d(e,\"IntervalTimeline\",(function(){return Bo})),s.d(e,\"StateTimeline\",(function(){return yo})),s.d(e,\"Timeline\",(function(){return Ni})),s.d(e,\"isUndef\",(function(){return ai})),s.d(e,\"isDefined\",(function(){return ci})),s.d(e,\"isFunction\",(function(){return hi})),s.d(e,\"isNumber\",(function(){return ui})),s.d(e,\"isObject\",(function(){return li})),s.d(e,\"isBoolean\",(function(){return pi})),s.d(e,\"isArray\",(function(){return di})),s.d(e,\"isString\",(function(){return fi})),s.d(e,\"isNote\",(function(){return _i})),s.d(e,\"dbToGain\",(function(){return eo})),s.d(e,\"gainToDb\",(function(){return so})),s.d(e,\"intervalToFrequencyRatio\",(function(){return no})),s.d(e,\"ftom\",(function(){return oo})),s.d(e,\"mtof\",(function(){return ao})),s.d(e,\"optionsFromArguments\",(function(){return Di})),s.d(e,\"defaultArg\",(function(){return Oi})),s.d(e,\"Unit\",(function(){return i})),s.d(e,\"debug\",(function(){return n})),s.d(e,\"Noise\",(function(){return Jo})),s.d(e,\"UserMedia\",(function(){return er})),s.d(e,\"Oscillator\",(function(){return ir})),s.d(e,\"AMOscillator\",(function(){return hr})),s.d(e,\"FMOscillator\",(function(){return ur})),s.d(e,\"PulseOscillator\",(function(){return lr})),s.d(e,\"FatOscillator\",(function(){return pr})),s.d(e,\"PWMOscillator\",(function(){return dr})),s.d(e,\"OmniOscillator\",(function(){return _r})),s.d(e,\"ToneOscillatorNode\",(function(){return nr})),s.d(e,\"LFO\",(function(){return yr})),s.d(e,\"ToneBufferSource\",(function(){return $o})),s.d(e,\"Player\",(function(){return br})),s.d(e,\"Players\",(function(){return Tr})),s.d(e,\"GrainPlayer\",(function(){return Sr})),s.d(e,\"Add\",(function(){return mr})),s.d(e,\"Abs\",(function(){return kr})),s.d(e,\"AudioToGain\",(function(){return ar})),s.d(e,\"GainToAudio\",(function(){return Cr})),s.d(e,\"GreaterThan\",(function(){return Mr})),s.d(e,\"GreaterThanZero\",(function(){return Or})),s.d(e,\"Multiply\",(function(){return cr})),s.d(e,\"Negate\",(function(){return Ar})),s.d(e,\"Pow\",(function(){return Er})),s.d(e,\"Signal\",(function(){return Do})),s.d(e,\"connectSignal\",(function(){return Oo})),s.d(e,\"Scale\",(function(){return gr})),s.d(e,\"ScaleExp\",(function(){return Rr})),s.d(e,\"Subtract\",(function(){return Dr})),s.d(e,\"SyncedSignal\",(function(){return qr})),s.d(e,\"WaveShaper\",(function(){return rr})),s.d(e,\"Zero\",(function(){return vr})),s.d(e,\"AMSynth\",(function(){return zr})),s.d(e,\"DuoSynth\",(function(){return Qr})),s.d(e,\"FMSynth\",(function(){return Zr})),s.d(e,\"MetalSynth\",(function(){return Yr})),s.d(e,\"MembraneSynth\",(function(){return Hr})),s.d(e,\"MonoSynth\",(function(){return Ur})),s.d(e,\"NoiseSynth\",(function(){return $r})),s.d(e,\"PluckSynth\",(function(){return oa})),s.d(e,\"PolySynth\",(function(){return ra})),s.d(e,\"Sampler\",(function(){return aa})),s.d(e,\"Synth\",(function(){return jr})),s.d(e,\"Loop\",(function(){return ha})),s.d(e,\"Part\",(function(){return ua})),s.d(e,\"Pattern\",(function(){return xa})),s.d(e,\"Sequence\",(function(){return wa})),s.d(e,\"ToneEvent\",(function(){return ca})),s.d(e,\"AutoFilter\",(function(){return ka})),s.d(e,\"AutoPanner\",(function(){return Aa})),s.d(e,\"AutoWah\",(function(){return Oa})),s.d(e,\"BitCrusher\",(function(){return Ma})),s.d(e,\"Chebyshev\",(function(){return Ra})),s.d(e,\"Chorus\",(function(){return Na})),s.d(e,\"Distortion\",(function(){return Pa})),s.d(e,\"FeedbackDelay\",(function(){return La})),s.d(e,\"FrequencyShifter\",(function(){return Ba})),s.d(e,\"Freeverb\",(function(){return Ua})),s.d(e,\"JCReverb\",(function(){return Ya})),s.d(e,\"PingPongDelay\",(function(){return $a})),s.d(e,\"PitchShift\",(function(){return Ja})),s.d(e,\"Phaser\",(function(){return Ka})),s.d(e,\"Reverb\",(function(){return tc})),s.d(e,\"StereoWidener\",(function(){return ic})),s.d(e,\"Tremolo\",(function(){return oc})),s.d(e,\"Vibrato\",(function(){return rc})),s.d(e,\"Analyser\",(function(){return ac})),s.d(e,\"Meter\",(function(){return hc})),s.d(e,\"FFT\",(function(){return uc})),s.d(e,\"DCMeter\",(function(){return lc})),s.d(e,\"Waveform\",(function(){return pc})),s.d(e,\"Follower\",(function(){return Da})),s.d(e,\"Channel\",(function(){return _c})),s.d(e,\"CrossFade\",(function(){return ba})),s.d(e,\"Merge\",(function(){return Fa})),s.d(e,\"MidSideMerge\",(function(){return sc})),s.d(e,\"MidSideSplit\",(function(){return ec})),s.d(e,\"Mono\",(function(){return mc})),s.d(e,\"MultibandSplit\",(function(){return gc})),s.d(e,\"Panner\",(function(){return Ca})),s.d(e,\"Panner3D\",(function(){return yc})),s.d(e,\"PanVol\",(function(){return fc})),s.d(e,\"Recorder\",(function(){return xc})),s.d(e,\"Solo\",(function(){return dc})),s.d(e,\"Split\",(function(){return qa})),s.d(e,\"Volume\",(function(){return Go})),s.d(e,\"Compressor\",(function(){return wc})),s.d(e,\"Gate\",(function(){return bc})),s.d(e,\"Limiter\",(function(){return Tc})),s.d(e,\"MidSideCompressor\",(function(){return Sc})),s.d(e,\"MultibandCompressor\",(function(){return kc})),s.d(e,\"AmplitudeEnvelope\",(function(){return Pr})),s.d(e,\"Envelope\",(function(){return Fr})),s.d(e,\"FrequencyEnvelope\",(function(){return Gr})),s.d(e,\"EQ3\",(function(){return Cc})),s.d(e,\"Filter\",(function(){return Wr})),s.d(e,\"OnePoleFilter\",(function(){return na})),s.d(e,\"FeedbackCombFilter\",(function(){return sa})),s.d(e,\"LowpassCombFilter\",(function(){return ia})),s.d(e,\"Convolver\",(function(){return Ac})),s.d(e,\"BiquadFilter\",(function(){return Br})),s.d(e,\"version\",(function(){return o})),s.d(e,\"start\",(function(){return to})),s.d(e,\"supported\",(function(){return Kn})),s.d(e,\"now\",(function(){return Dc})),s.d(e,\"immediate\",(function(){return Oc})),s.d(e,\"Transport\",(function(){return Mc})),s.d(e,\"getTransport\",(function(){return Ec})),s.d(e,\"Destination\",(function(){return Rc})),s.d(e,\"Master\",(function(){return qc})),s.d(e,\"getDestination\",(function(){return Fc})),s.d(e,\"Listener\",(function(){return Ic})),s.d(e,\"getListener\",(function(){return Vc})),s.d(e,\"Draw\",(function(){return Nc})),s.d(e,\"getDraw\",(function(){return Pc})),s.d(e,\"context\",(function(){return jc})),s.d(e,\"loaded\",(function(){return Lc})),s.d(e,\"Buffer\",(function(){return zc})),s.d(e,\"Buffers\",(function(){return Bc})),s.d(e,\"BufferSource\",(function(){return Wc}));var n={};s.r(n),s.d(n,\"assert\",(function(){return ti})),s.d(n,\"assertRange\",(function(){return ei})),s.d(n,\"assertContextRunning\",(function(){return si})),s.d(n,\"setLogger\",(function(){return ii})),s.d(n,\"log\",(function(){return oi})),s.d(n,\"warn\",(function(){return ri}));var i={};s.r(i);const o=\"14.7.77\";var r=s(0);const a=new WeakSet,c=new WeakMap,h=new WeakMap,u=new WeakMap,l=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakMap,_=new WeakMap,m=new WeakMap,g={construct:()=>g},v=/^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/,y=(t,e)=>{const s=[];let n=t.replace(/^[\\s]+/,\"\"),i=n.match(v);for(;null!==i;){const t=i[1].slice(1,-1),o=i[0].replace(/([\\s]+)?;?$/,\"\").replace(t,new URL(t,e).toString());s.push(o),n=n.slice(i[0].length).replace(/^[\\s]+/,\"\"),i=n.match(v)}return[s.join(\";\"),n]},x=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError(\"The parameterDescriptors property of given value for processorCtor is not an array.\")},w=t=>{if(!(t=>{try{new new Proxy(t,g)}catch{return!1}return!0})(t))throw new TypeError(\"The given value for processorCtor should be a constructor.\");if(null===t.prototype||\"object\"!=typeof t.prototype)throw new TypeError(\"The given value for processorCtor should have a prototype.\")},b=(t,e)=>{const s=t.get(e);if(void 0===s)throw new Error(\"A value with the given key could not be found.\");return s},T=(t,e)=>{const s=Array.from(t).filter(e);if(s.length>1)throw Error(\"More than one element was found.\");if(0===s.length)throw Error(\"No element was found.\");const[n]=s;return t.delete(n),n},S=(t,e,s,n)=>{const i=b(t,e),o=T(i,t=>t[0]===s&&t[1]===n);return 0===i.size&&t.delete(e),o},k=t=>b(d,t),C=t=>{if(a.has(t))throw new Error(\"The AudioNode is already stored.\");a.add(t),k(t).forEach(t=>t(!0))},A=t=>\"port\"in t,D=t=>{if(!a.has(t))throw new Error(\"The AudioNode is not stored.\");a.delete(t),k(t).forEach(t=>t(!1))},O=(t,e)=>{!A(t)&&e.every(t=>0===t.size)&&D(t)},M={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},E=(t,e)=>t.context===e,R=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},q=()=>new DOMException(\"\",\"IndexSizeError\"),F=t=>{var e;t.getChannelData=(e=t.getChannelData,s=>{try{return e.call(t,s)}catch(t){if(12===t.code)throw q();throw t}})},I={numberOfChannels:1},V=-34028234663852886e22,N=-V,P=t=>a.has(t),j={buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},L=t=>b(c,t),z=t=>b(u,t),B=(t,e)=>{const{activeInputs:s}=L(t);s.forEach(s=>s.forEach(([s])=>{e.includes(t)||B(s,[...e,t])}));const n=(t=>\"playbackRate\"in t)(t)?[t.playbackRate]:A(t)?Array.from(t.parameters.values()):(t=>\"frequency\"in t&&\"gain\"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>\"offset\"in t)(t)?[t.offset]:(t=>!(\"frequency\"in t)&&\"gain\"in t)(t)?[t.gain]:(t=>\"detune\"in t&&\"frequency\"in t)(t)?[t.detune,t.frequency]:(t=>\"pan\"in t)(t)?[t.pan]:[];for(const t of n){const s=z(t);void 0!==s&&s.activeInputs.forEach(([t])=>B(t,e))}P(t)&&D(t)},W=t=>{B(t.destination,[])},G=t=>void 0===t||\"number\"==typeof t||\"string\"==typeof t&&(\"balanced\"===t||\"interactive\"===t||\"playback\"===t),U=t=>\"context\"in t,Q=t=>U(t[0]),Z=(t,e,s,n)=>{for(const e of t)if(s(e)){if(n)return!1;throw Error(\"The set contains at least one similar element.\")}return t.add(e),!0},X=(t,e,[s,n],i)=>{Z(t,[e,s,n],t=>t[0]===e&&t[1]===s,i)},Y=(t,[e,s,n],i)=>{const o=t.get(e);void 0===o?t.set(e,new Set([[s,n]])):Z(o,[s,n],t=>t[0]===s,i)},H=t=>\"inputs\"in t,$=(t,e,s,n)=>{if(H(e)){const i=e.inputs[n];return t.connect(i,s,0),[i,s,0]}return t.connect(e,s,n),[e,s,n]},J=(t,e,s)=>{for(const n of t)if(n[0]===e&&n[1]===s)return t.delete(n),n;return null},K=(t,e)=>{if(!k(t).delete(e))throw new Error(\"Missing the expected event listener.\")},tt=(t,e,s)=>{const n=b(t,e),i=T(n,t=>t[0]===s);return 0===n.size&&t.delete(e),i},et=(t,e,s,n)=>{H(e)?t.disconnect(e.inputs[n],s,0):t.disconnect(e,s,n)},st=t=>b(h,t),nt=t=>b(l,t),it=t=>f.has(t),ot=t=>!a.has(t),rt=t=>new Promise(e=>{const s=t.createScriptProcessor(256,1,1),n=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const r=t.createBufferSource();r.buffer=i,r.loop=!0,r.connect(s).connect(t.destination),r.connect(n),r.disconnect(n),s.onaudioprocess=n=>{const i=n.inputBuffer.getChannelData(0);Array.prototype.some.call(i,t=>1===t)?e(!0):e(!1),r.stop(),s.onaudioprocess=null,r.disconnect(s),s.disconnect(t.destination)},r.start()}),at=(t,e)=>{const s=new Map;for(const e of t)for(const t of e){const e=s.get(t);s.set(t,void 0===e?1:e+1)}s.forEach((t,s)=>e(s,t))},ct=t=>\"context\"in t,ht=(t,e,s,n)=>{const{activeInputs:i,passiveInputs:o}=z(e),{outputs:r}=L(t),a=k(t),c=r=>{const a=st(t),c=nt(e);if(r){const e=tt(o,t,s);X(i,t,e,!1),n||it(t)||a.connect(c,s)}else{const e=((t,e,s)=>T(t,t=>t[0]===e&&t[1]===s))(i,t,s);Y(o,e,!1),n||it(t)||a.disconnect(c,s)}};return!!Z(r,[e,s],t=>t[0]===e&&t[1]===s,!0)&&(a.add(c),P(t)?X(i,t,[s,c],!0):Y(o,[t,s,c],!0),!0)},ut=(t,e,s,n,i)=>{const[o,r]=((t,e,s,n)=>{const{activeInputs:i,passiveInputs:o}=L(e),r=J(i[n],t,s);if(null===r){return[S(o,t,s,n)[2],!1]}return[r[2],!0]})(t,s,n,i);if(null!==o&&(K(t,o),!r||e||it(t)||et(st(t),st(s),n,i)),P(s)){const{activeInputs:t}=L(s);O(s,t)}},lt=(t,e,s,n)=>{const[i,o]=((t,e,s)=>{const{activeInputs:n,passiveInputs:i}=z(e),o=J(n,t,s);if(null===o){return[tt(i,t,s)[1],!1]}return[o[2],!0]})(t,s,n);null!==i&&(K(t,i),!o||e||it(t)||st(t).disconnect(nt(s),n))};class pt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((s,n)=>t.call(e,s,n,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const dt={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ft(t,e,s,n,i){if(\"function\"==typeof t.copyFromChannel)0===e[s].byteLength&&(e[s]=new Float32Array(128)),t.copyFromChannel(e[s],n,i);else{const o=t.getChannelData(n);if(0===e[s].byteLength)e[s]=o.slice(i,i+128);else{const t=new Float32Array(o.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[s].set(t)}}}const _t=(t,e,s,n,i)=>{\"function\"==typeof t.copyToChannel?0!==e[s].byteLength&&t.copyToChannel(e[s],n,i):0!==e[s].byteLength&&t.getChannelData(n).set(e[s],i)},mt=(t,e)=>{const s=[];for(let n=0;n<t;n+=1){const t=[],i=\"number\"==typeof e?e:e[n];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));s.push(t)}return s},gt=async(t,e,s,n,i,o,r)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,c=n.channelCount*n.numberOfInputs,h=i.reduce((t,e)=>t+e,0),u=0===h?null:s.createBuffer(h,a,s.sampleRate);if(void 0===o)throw new Error(\"Missing the processor constructor.\");const l=L(t),p=await((t,e)=>{const s=b(m,t),n=st(e);return b(s,n)})(s,t),d=mt(n.numberOfInputs,n.channelCount),f=mt(n.numberOfOutputs,i),_=Array.from(t.parameters.keys()).reduce((t,e)=>({...t,[e]:new Float32Array(128)}),{});for(let h=0;h<a;h+=128){if(n.numberOfInputs>0&&null!==e)for(let t=0;t<n.numberOfInputs;t+=1)for(let s=0;s<n.channelCount;s+=1)ft(e,d[t],s,s,h);void 0!==o.parameterDescriptors&&null!==e&&o.parameterDescriptors.forEach(({name:t},s)=>{ft(e,_,t,c+s,h)});for(let t=0;t<n.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=d.map((t,e)=>0===l.activeInputs[e].size?[]:t),e=r(h/s.sampleRate,s.sampleRate,()=>p.process(t,f,_));if(null!==u)for(let t=0,e=0;t<n.numberOfOutputs;t+=1){for(let s=0;s<i[t];s+=1)_t(u,f[t],s,e+s,h);e+=i[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return u},vt={Q:1,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:350,gain:0,type:\"lowpass\"},yt={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6},xt={channelCount:6,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:6},wt={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",offset:1},bt={buffer:null,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",disableNormalization:!1},Tt={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",delayTime:0,maxDelayTime:1},St=(t,e,s)=>{const n=e[s];if(void 0===n)throw t();return n},kt={attack:.003,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",knee:30,ratio:12,release:.25,threshold:-24},Ct={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",gain:1},At=()=>new DOMException(\"\",\"InvalidStateError\"),Dt=()=>new DOMException(\"\",\"InvalidAccessError\"),Ot={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\"},Mt=(t,e,s,n,i,o,r,a,c,h,u)=>{const l=h.length;let p=a;for(let a=0;a<l;a+=1){let l=s[0]*h[a];for(let e=1;e<i;e+=1){const n=p-e&c-1;l+=s[e]*o[n],l-=t[e]*r[n]}for(let t=i;t<n;t+=1)l+=s[t]*o[p-t&c-1];for(let s=i;s<e;s+=1)l-=t[s]*r[p-s&c-1];o[p]=h[a],r[p]=l,p=p+1&c-1,u[a]=l}return p},Et={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\"},Rt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=t.decodeAudioData(e.buffer,()=>{});return void 0!==s&&(s.catch(()=>{}),!0)}catch{}return!1},qt={numberOfChannels:1},Ft=(t,e,s)=>{const n=e[s];void 0!==n&&n!==t[s]&&(t[s]=n)},It=(t,e)=>{Ft(t,e,\"channelCount\"),Ft(t,e,\"channelCountMode\"),Ft(t,e,\"channelInterpretation\")},Vt=t=>\"function\"==typeof t.getFloatTimeDomainData,Nt=(t,e,s)=>{const n=e[s];void 0!==n&&n!==t[s].value&&(t[s].value=n)},Pt=t=>{var e;t.start=(e=t.start,(s=0,n=0,i)=>{if(\"number\"==typeof i&&i<0||n<0||s<0)throw new RangeError(\"The parameters can't be negative.\");e.call(t,s,n,i)})},jt=t=>{var e;t.stop=(e=t.stop,(s=0)=>{if(s<0)throw new RangeError(\"The parameter can't be negative.\");e.call(t,s)})},Lt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),zt=async(t,e)=>new t(await(t=>new Promise((e,s)=>{const{port1:n,port2:i}=new MessageChannel;n.onmessage=({data:t})=>{n.close(),i.close(),e(t)},n.onmessageerror=({data:t})=>{n.close(),i.close(),s(t)},i.postMessage(t)}))(e)),Bt=(t,e)=>{const s=t.createBiquadFilter();return It(s,e),Nt(s,e,\"Q\"),Nt(s,e,\"detune\"),Nt(s,e,\"frequency\"),Nt(s,e,\"gain\"),Ft(s,e,\"type\"),s},Wt=(t,e)=>{const s=t.createChannelSplitter(e.numberOfOutputs);return It(s,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,\"channelCount\",{get:()=>e,set:t=>{if(t!==e)throw At()}}),Object.defineProperty(t,\"channelCountMode\",{get:()=>\"explicit\",set:t=>{if(\"explicit\"!==t)throw At()}}),Object.defineProperty(t,\"channelInterpretation\",{get:()=>\"discrete\",set:t=>{if(\"discrete\"!==t)throw At()}})})(s),s},Gt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ut=(t,e)=>{const s=t.createDelay(e.maxDelayTime);return It(s,e),Nt(s,e,\"delayTime\"),s},Qt=(t,e)=>{const s=t.createGain();return It(s,e),Nt(s,e,\"gain\"),s};function Zt(t,e){const s=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/s,(t[1]*e[0]-t[0]*e[1])/s]}function Xt(t,e){let s=[0,0];for(let o=t.length-1;o>=0;o-=1)i=e,s=[(n=s)[0]*i[0]-n[1]*i[1],n[0]*i[1]+n[1]*i[0]],s[0]+=t[o];var n,i;return s}const Yt=(t,e,s,n)=>t.createScriptProcessor(e,s,n),Ht=()=>new DOMException(\"\",\"NotSupportedError\"),$t={numberOfChannels:1},Jt={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:440,periodicWave:void 0,type:\"sine\"},Kt={channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},te={disableNormalization:!1},ee={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",pan:0},se=()=>new DOMException(\"\",\"UnknownError\"),ne={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",curve:null,oversample:\"none\"},ie=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},oe=(t,e,s,n)=>{let i=Object.getPrototypeOf(t);for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:o,set:r}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:s(o),set:n(r)})},re=(t,e,s)=>{try{t.setValueAtTime(e,s)}catch(n){if(9!==n.code)throw n;re(t,e,s+1e-7)}},ae=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},ce=t=>{const e=t.createBuffer(1,1,44100),s=t.createBufferSource();s.buffer=e,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},he=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},ue=()=>{try{new DOMException}catch{return!1}return!0},le=()=>new Promise(t=>{const e=new ArrayBuffer(0),{port1:s,port2:n}=new MessageChannel;s.onmessage=({data:e})=>t(null!==e),n.postMessage(e,[e])}),pe=(t,e)=>{const s=e.createGain();t.connect(s);const n=(i=t.disconnect,()=>{i.call(t,s),t.removeEventListener(\"ended\",n)});var i;t.addEventListener(\"ended\",n),Gt(t,s),t.stop=(e=>{let n=!1;return(i=0)=>{if(n)try{e.call(t,i)}catch{s.gain.setValueAtTime(0,i)}else e.call(t,i),n=!0}})(t.stop)},de=(t,e)=>s=>{const n={value:t};return Object.defineProperties(s,{currentTarget:n,target:n}),\"function\"==typeof e?e.call(t,s):e.handleEvent.call(t,s)},fe=(_e=Z,(t,e,[s,n,i],o)=>{_e(t[n],[e,s,i],t=>t[0]===e&&t[1]===s,o)});var _e;const me=(t=>(e,s,[n,i,o],r)=>{const a=e.get(n);void 0===a?e.set(n,new Set([[i,s,o]])):t(a,[i,s,o],t=>t[0]===i&&t[1]===s,r)})(Z),ge=(t=>(e,s,n,i)=>t(e[i],t=>t[0]===s&&t[1]===n))(T),ve=new WeakMap,ye=(t=>e=>{var s;return null!==(s=t.get(e))&&void 0!==s?s:0})(ve),xe=(we=new Map,be=new WeakMap,(t,e)=>{const s=be.get(t);if(void 0!==s)return s;const n=we.get(t);if(void 0!==n)return n;try{const s=e();return s instanceof Promise?(we.set(t,s),s.catch(()=>!1).then(e=>(we.delete(t),be.set(t,e),e))):(be.set(t,s),s)}catch{return be.set(t,!1),!1}});var we,be;const Te=\"undefined\"==typeof window?null:window,Se=(ke=xe,Ce=q,(t,e)=>{const s=t.createAnalyser();if(It(s,e),!(e.maxDecibels>e.minDecibels))throw Ce();return Ft(s,e,\"fftSize\"),Ft(s,e,\"maxDecibels\"),Ft(s,e,\"minDecibels\"),Ft(s,e,\"smoothingTimeConstant\"),ke(Vt,()=>Vt(s))||(t=>{t.getFloatTimeDomainData=e=>{const s=new Uint8Array(e.length);t.getByteTimeDomainData(s);const n=Math.max(s.length,t.fftSize);for(let t=0;t<n;t+=1)e[t]=.0078125*(s[t]-128);return e}})(s),s});var ke,Ce;const Ae=(De=L,t=>{const e=De(t);if(null===e.renderer)throw new Error(\"Missing the renderer of the given AudioNode in the audio graph.\");return e.renderer});var De;const Oe=((t,e,s)=>async(n,i,o,r)=>{const a=t(n),c=[...r,n];await Promise.all(a.activeInputs.map((t,r)=>Array.from(t).filter(([t])=>!c.includes(t)).map(async([t,a])=>{const h=e(t),u=await h.render(t,i,c),l=n.context.destination;s(t)||n===l&&s(n)||u.connect(o,a,r)})).reduce((t,e)=>[...t,...e],[]))})(L,Ae,it),Me=(Ee=Se,Re=st,qe=Oe,()=>{const t=new WeakMap;return{render(e,s,n){const i=t.get(s);return void 0!==i?Promise.resolve(i):(async(e,s,n)=>{let i=Re(e);if(!E(i,s)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,fftSize:i.fftSize,maxDecibels:i.maxDecibels,minDecibels:i.minDecibels,smoothingTimeConstant:i.smoothingTimeConstant};i=Ee(s,t)}return t.set(s,i),await qe(e,s,i,n),i})(e,s,n)}}});var Ee,Re,qe;const Fe=(Ie=p,t=>{const e=Ie.get(t);if(void 0===e)throw At();return e});var Ie;const Ve=(t=>null===t?null:t.hasOwnProperty(\"OfflineAudioContext\")?t.OfflineAudioContext:t.hasOwnProperty(\"webkitOfflineAudioContext\")?t.webkitOfflineAudioContext:null)(Te),Ne=(Pe=Ve,t=>null!==Pe&&t instanceof Pe);var Pe;const je=new WeakMap,Le=(ze=de,class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,e,s){if(null!==e){let n=this._listeners.get(e);void 0===n&&(n=ze(this,e),\"function\"==typeof e&&this._listeners.set(e,n)),this._nativeEventTarget.addEventListener(t,n,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,s){const n=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===n?null:n,s)}});var ze;const Be=(t=>null===t?null:t.hasOwnProperty(\"AudioContext\")?t.AudioContext:t.hasOwnProperty(\"webkitAudioContext\")?t.webkitAudioContext:null)(Te),We=(Ge=Be,t=>null!==Ge&&t instanceof Ge);var Ge;const Ue=(t=>e=>null!==t&&\"function\"==typeof t.AudioNode&&e instanceof t.AudioNode)(Te),Qe=(t=>e=>null!==t&&\"function\"==typeof t.AudioParam&&e instanceof t.AudioParam)(Te),Ze=((t,e,s,n,i,o,r,a,c,u,l,p,f,_,m)=>class extends u{constructor(e,n,i,o){super(i),this._context=e,this._nativeAudioNode=i;const r=l(e);p(r)&&!0!==s(rt,()=>rt(r))&&(t=>{const e=new Map;var s,n;t.connect=(s=t.connect.bind(t),(t,n=0,i=0)=>{const o=ct(t)?s(t,n,i):s(t,n),r=e.get(t);return void 0===r?e.set(t,[{input:i,output:n}]):r.every(t=>t.input!==i||t.output!==n)&&r.push({input:i,output:n}),o}),t.disconnect=(n=t.disconnect,(s,i,o)=>{if(n.apply(t),void 0===s)e.clear();else if(\"number\"==typeof s)for(const[t,n]of e){const i=n.filter(t=>t.output!==s);0===i.length?e.delete(t):e.set(t,i)}else if(e.has(s))if(void 0===i)e.delete(s);else{const t=e.get(s);if(void 0!==t){const n=t.filter(t=>t.output!==i&&(t.input!==o||void 0===o));0===n.length?e.delete(s):e.set(s,n)}}for(const[s,n]of e)n.forEach(e=>{ct(s)?t.connect(s,e.output,e.input):t.connect(s,e.output)})})})(i),h.set(this,i),d.set(this,new Set),\"closed\"!==e.state&&n&&C(this),t(this,o,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,s=0,a=0){if(s<0||s>=this._nativeAudioNode.numberOfOutputs)throw i();const h=l(this._context),u=m(h);if(f(t)||_(t))throw o();if(U(t)){const i=st(t);try{const e=$(this._nativeAudioNode,i,s,a),n=ot(this);(u||n)&&this._nativeAudioNode.disconnect(...e),\"closed\"!==this.context.state&&!n&&ot(t)&&C(t)}catch(t){if(12===t.code)throw o();throw t}if(e(this,t,s,a,u)){const e=c([this],t);at(e,n(u))}return t}const p=nt(t);if(\"playbackRate\"===p.name)throw r();try{this._nativeAudioNode.connect(p,s),(u||ot(this))&&this._nativeAudioNode.disconnect(p,s)}catch(t){if(12===t.code)throw o();throw t}if(ht(this,t,s,u)){const e=c([this],t);at(e,n(u))}}disconnect(t,e,s){let n;const r=l(this._context),h=m(r);if(void 0===t)n=((t,e)=>{const s=L(t),n=[];for(const i of s.outputs)Q(i)?ut(t,e,...i):lt(t,e,...i),n.push(i[0]);return s.outputs.clear(),n})(this,h);else if(\"number\"==typeof t){if(t<0||t>=this.numberOfOutputs)throw i();n=((t,e,s)=>{const n=L(t),i=[];for(const o of n.outputs)o[1]===s&&(Q(o)?ut(t,e,...o):lt(t,e,...o),i.push(o[0]),n.outputs.delete(o));return i})(this,h,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(U(t)&&void 0!==s&&(s<0||s>=t.numberOfInputs))throw i();if(n=((t,e,s,n,i)=>{const o=L(t);return Array.from(o.outputs).filter(t=>!(t[0]!==s||void 0!==n&&t[1]!==n||void 0!==i&&t[2]!==i)).map(s=>(Q(s)?ut(t,e,...s):lt(t,e,...s),o.outputs.delete(s),s[0]))})(this,h,t,e,s),0===n.length)throw o()}for(const t of n){const e=c([this],t);at(e,a)}}})((Xe=c,(t,e,s)=>{const n=[];for(let t=0;t<s.numberOfInputs;t+=1)n.push(new Set);Xe.set(t,{activeInputs:n,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,s,n,i,o,r,a,c,h,u,l,p)=>(d,f,_,m,g)=>{const{activeInputs:v,passiveInputs:y}=o(f),{outputs:x}=o(d),w=a(d),b=o=>{const a=c(f),h=c(d);if(o){const e=S(y,d,_,m);t(v,d,e,!1),g||l(d)||s(h,a,_,m),p(f)&&C(f)}else{const t=n(v,d,_,m);e(y,m,t,!1),g||l(d)||i(h,a,_,m);const s=r(f);0===s?u(f)&&O(f,v):setTimeout(()=>{u(f)&&O(f,v)},1e3*s)}};return!!h(x,[f,_,m],t=>t[0]===f&&t[1]===_&&t[2]===m,!0)&&(w.add(b),u(d)?t(v,d,[_,m,b],!0):e(y,m,[d,_,b],!0),!0)})(fe,me,$,ge,et,L,ye,k,st,Z,P,it,ot),xe,((t,e,s,n,i,o)=>r=>(a,c)=>{const h=t.get(a);if(void 0===h){if(!r&&o(a)){const t=n(a),{outputs:o}=s(a);for(const s of o)if(Q(s)){const i=n(s[0]);e(t,i,s[1],s[2])}else{const e=i(s[0]);t.disconnect(e,s[1])}}t.set(a,c)}else t.set(a,h+c)})(f,et,L,st,nt,P),q,Dt,Ht,((t,e,s,n,i,o,r,a)=>(c,h)=>{const u=e.get(c);if(void 0===u)throw new Error(\"Missing the expected cycle count.\");const l=o(c.context),p=a(l);if(u===h){if(e.delete(c),!p&&r(c)){const e=n(c),{outputs:o}=s(c);for(const s of o)if(Q(s)){const i=n(s[0]);t(e,i,s[1],s[2])}else{const t=i(s[0]);e.connect(t,s[1])}}}else e.set(c,u-h)})($,f,L,st,nt,Fe,P,Ne),((t,e,s)=>function n(i,o){const r=U(o)?o:s(t,o);if((t=>\"delayTime\"in t)(r))return[];if(i[0]===r)return[i];if(i.includes(r))return[];const{outputs:a}=e(r);return Array.from(a).map(t=>n([...i,r],t[0])).reduce((t,e)=>t.concat(e),[])})(je,L,b),Le,Fe,We,Ue,Qe,Ne);var Xe;const Ye=((t,e,s,n,i,o)=>class extends t{constructor(t,s){const r=i(t),a={...M,...s},c=n(r,a);super(t,!1,c,o(r)?e():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Ze,Me,q,Se,Fe,Ne),He=new WeakSet,$e=(t=>null===t?null:t.hasOwnProperty(\"AudioBuffer\")?t.AudioBuffer:null)(Te),Je=(Ke=new Uint32Array(1),t=>(Ke[0]=t,Ke[0]));var Ke;const ts=((t,e)=>s=>{s.copyFromChannel=(n,i,o=0)=>{const r=t(o),a=t(i);if(a>=s.numberOfChannels)throw e();const c=s.length,h=s.getChannelData(a),u=n.length;for(let t=r<0?-r:0;t+r<c&&t<u;t+=1)n[t]=h[t+r]},s.copyToChannel=(n,i,o=0)=>{const r=t(o),a=t(i);if(a>=s.numberOfChannels)throw e();const c=s.length,h=s.getChannelData(a),u=n.length;for(let t=r<0?-r:0;t+r<c&&t<u;t+=1)h[t+r]=n[t]}})(Je,q),es=(t=>e=>{e.copyFromChannel=(s=>(n,i,o=0)=>{const r=t(o),a=t(i);if(r<e.length)return s.call(e,n,a,r)})(e.copyFromChannel),e.copyToChannel=(s=>(n,i,o=0)=>{const r=t(o),a=t(i);if(r<e.length)return s.call(e,n,a,r)})(e.copyToChannel)})(Je),ss=((t,e,s,n,i,o,r,a)=>{let c=null;return class h{constructor(h){if(null===i)throw new Error(\"Missing the native OfflineAudioContext constructor.\");const{length:u,numberOfChannels:l,sampleRate:p}={...I,...h};null===c&&(c=new i(1,1,44100));const d=null!==n&&e(o,o)?new n({length:u,numberOfChannels:l,sampleRate:p}):c.createBuffer(l,u,p);if(0===d.numberOfChannels)throw s();return\"function\"!=typeof d.copyFromChannel?(r(d),F(d)):e(R,()=>R(d))||a(d),t.add(d),d}static[Symbol.hasInstance](e){return null!==e&&\"object\"==typeof e&&Object.getPrototypeOf(e)===h.prototype||t.has(e)}}})(He,xe,Ht,$e,Ve,(ns=$e,()=>{if(null===ns)return!1;try{new ns({length:1,sampleRate:44100})}catch{return!1}return!0}),ts,es);var ns;const is=(os=Qt,(t,e)=>{const s=os(t,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});e.connect(s).connect(t.destination);const n=()=>{e.removeEventListener(\"ended\",n),e.disconnect(s),s.disconnect()};e.addEventListener(\"ended\",n)});var os;const rs=((t,e,s)=>async(n,i,o,r)=>{const a=e(n);await Promise.all(Array.from(a.activeInputs).map(async([e,n])=>{const a=t(e),c=await a.render(e,i,r);s(e)||c.connect(o,n)}))})(Ae,z,it),as=(t=>(e,s,n,i)=>t(s,e,n,i))(rs),cs=((t,e,s,n,i,o,r,a,c,h,u)=>(l,p)=>{const d=l.createBufferSource();return It(d,p),Nt(d,p,\"playbackRate\"),Ft(d,p,\"buffer\"),Ft(d,p,\"loop\"),Ft(d,p,\"loopEnd\"),Ft(d,p,\"loopStart\"),e(s,()=>s(l))||(t=>{t.start=(e=>{let s=!1;return(n=0,i=0,o)=>{if(s)throw At();e.call(t,n,i,o),s=!0}})(t.start)})(d),e(n,()=>n(l))||c(d),e(i,()=>i(l))||h(d,l),e(o,()=>o(l))||Pt(d),e(r,()=>r(l))||u(d,l),e(a,()=>a(l))||jt(d),t(l,d),d})(is,xe,t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},t=>{const e=t.createBufferSource(),s=t.createBuffer(1,1,44100);e.buffer=s;try{e.start(0,1)}catch{return!1}return!0},t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},ae,ce,he,t=>{var e;t.start=(e=t.start,(s=0,n=0,i)=>{const o=t.buffer,r=null===o?n:Math.min(o.duration,n);null!==o&&r>o.duration-.5/t.context.sampleRate?e.call(t,s,0,0):e.call(t,s,r,i)})},(hs=oe,(t,e)=>{const s=e.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=s),hs(t,\"buffer\",e=>()=>{const n=e.call(t);return n===s?null:n},e=>n=>e.call(t,null===n?s:n))}),pe);var hs;const us=((t,e)=>(s,n,i,o)=>(t(n).replay(i),e(n,s,i,o)))((t=>e=>{const s=t(e);if(null===s.renderer)throw new Error(\"Missing the renderer of the given AudioParam in the audio graph.\");return s.renderer})(z),rs),ls=((t,e,s,n,i)=>()=>{const o=new WeakMap;let r=null,a=null;return{set start(t){r=t},set stop(t){a=t},render(c,h,u){const l=o.get(h);return void 0!==l?Promise.resolve(l):(async(c,h,u)=>{let l=s(c);const p=E(l,h);if(!p){const t={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=e(h,t),null!==r&&l.start(...r),null!==a&&l.stop(a)}return o.set(h,l),p?await t(h,c.playbackRate,l.playbackRate,u):await n(h,c.playbackRate,l.playbackRate,u),await i(c,h,l,u),l})(c,h,u)}}})(as,cs,st,us,Oe),ps=((t,e,s,n,i,o,a,c,h,u,l,p,d)=>(f,_,m,g=null,v=null)=>{const y=new r.AutomationEventList(m.defaultValue),x=_?n(y):null,w={get defaultValue(){return m.defaultValue},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===v?m.minValue:v},get value(){return m.value},set value(t){m.value=t,w.setValueAtTime(t,f.context.currentTime)},cancelAndHoldAtTime(t){if(\"function\"==typeof m.cancelAndHoldAtTime)null===x&&y.flush(f.context.currentTime),y.add(i(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(y).pop();null===x&&y.flush(f.context.currentTime),y.add(i(t));const s=Array.from(y).pop();m.cancelScheduledValues(t),e!==s&&void 0!==s&&(\"exponentialRampToValue\"===s.type?m.exponentialRampToValueAtTime(s.value,s.endTime):\"linearRampToValue\"===s.type?m.linearRampToValueAtTime(s.value,s.endTime):\"setValue\"===s.type?m.setValueAtTime(s.value,s.startTime):\"setValueCurve\"===s.type&&m.setValueCurveAtTime(s.values,s.startTime,s.duration))}return w},cancelScheduledValues:t=>(null===x&&y.flush(f.context.currentTime),y.add(o(t)),m.cancelScheduledValues(t),w),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===x&&y.flush(f.context.currentTime),y.add(a(t,e)),m.exponentialRampToValueAtTime(t,e),w},linearRampToValueAtTime:(t,e)=>(null===x&&y.flush(f.context.currentTime),y.add(c(t,e)),m.linearRampToValueAtTime(t,e),w),setTargetAtTime:(t,e,s)=>(null===x&&y.flush(f.context.currentTime),y.add(h(t,e,s)),m.setTargetAtTime(t,e,s),w),setValueAtTime:(t,e)=>(null===x&&y.flush(f.context.currentTime),y.add(u(t,e)),m.setValueAtTime(t,e),w),setValueCurveAtTime(t,e,s){const n=t instanceof Float32Array?t:new Float32Array(t);if(null!==p&&\"webkitAudioContext\"===p.name){const t=e+s,i=f.context.sampleRate,o=Math.ceil(e*i),r=Math.floor(t*i),a=r-o,c=new Float32Array(a);for(let t=0;t<a;t+=1){const r=(n.length-1)/s*((o+t)/i-e),a=Math.floor(r),h=Math.ceil(r);c[t]=a===h?n[a]:(1-(r-a))*n[a]+(1-(h-r))*n[h]}null===x&&y.flush(f.context.currentTime),y.add(l(c,e,s)),m.setValueCurveAtTime(c,e,s);const h=r/i;h<t&&d(w,c[c.length-1],h),d(w,n[n.length-1],t)}else null===x&&y.flush(f.context.currentTime),y.add(l(n,e,s)),m.setValueCurveAtTime(n,e,s);return w}};return s.set(w,m),e.set(w,f),t(w,x),w})((ds=u,(t,e)=>{ds.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),je,l,t=>({replay(e){for(const s of t)if(\"exponentialRampToValue\"===s.type){const{endTime:t,value:n}=s;e.exponentialRampToValueAtTime(n,t)}else if(\"linearRampToValue\"===s.type){const{endTime:t,value:n}=s;e.linearRampToValueAtTime(n,t)}else if(\"setTarget\"===s.type){const{startTime:t,target:n,timeConstant:i}=s;e.setTargetAtTime(n,t,i)}else if(\"setValue\"===s.type){const{startTime:t,value:n}=s;e.setValueAtTime(n,t)}else{if(\"setValueCurve\"!==s.type)throw new Error(\"Can't apply an unknown automation.\");{const{duration:t,startTime:n,values:i}=s;e.setValueCurveAtTime(i,n,t)}}}}),r.createCancelAndHoldAutomationEvent,r.createCancelScheduledValuesAutomationEvent,r.createExponentialRampToValueAutomationEvent,r.createLinearRampToValueAutomationEvent,r.createSetTargetAutomationEvent,r.createSetValueAutomationEvent,r.createSetValueCurveAutomationEvent,Be,re);var ds;const fs=((t,e,s,n,i,o,r,a)=>class extends t{constructor(t,n){const a=o(t),c={...j,...n},h=i(a,c),u=r(a),l=u?e():null;super(t,!1,h,l),this._audioBufferSourceNodeRenderer=l,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=h,this._onended=null,this._playbackRate=s(this,u,h.playbackRate,N,V)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e=\"function\"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const s=this._nativeAudioBufferSourceNode.onended;this._onended=null!==s&&s===e?t:s}get playbackRate(){return this._playbackRate}start(t=0,e=0,s){if(this._nativeAudioBufferSourceNode.start(t,e,s),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===s?[t,e]:[t,e,s]),\"closed\"!==this.context.state){C(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener(\"ended\",t),P(this)&&D(this)};this._nativeAudioBufferSourceNode.addEventListener(\"ended\",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Ze,ls,ps,At,cs,Fe,Ne,de),_s=((t,e,s,n,i,o,r,a)=>class extends t{constructor(t,s){const n=o(t),c=r(n),h=i(n,s,c);super(t,!1,h,c?e(a):null),this._isNodeOfNativeOfflineAudioContext=c,this._nativeAudioDestinationNode=h}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Ze,t=>{let e=null;return{render:(s,n,i)=>(null===e&&(e=(async(e,s,n)=>{const i=s.destination;return await t(e,s,i,n),i})(s,n,i)),e)}},q,At,((t,e)=>(s,n,i)=>{const o=s.destination;if(o.channelCount!==n)try{o.channelCount=n}catch{}i&&\"explicit\"!==o.channelCountMode&&(o.channelCountMode=\"explicit\"),0===o.maxChannelCount&&Object.defineProperty(o,\"maxChannelCount\",{value:n});const r=t(s,{channelCount:n,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(r,\"channelCount\",t=>()=>t.call(r),t=>e=>{t.call(r,e);try{o.channelCount=e}catch(t){if(e>o.maxChannelCount)throw t}}),e(r,\"channelCountMode\",t=>()=>t.call(r),t=>e=>{t.call(r,e),o.channelCountMode=e}),e(r,\"channelInterpretation\",t=>()=>t.call(r),t=>e=>{t.call(r,e),o.channelInterpretation=e}),Object.defineProperty(r,\"maxChannelCount\",{get:()=>o.maxChannelCount}),r.connect(o),r})(Qt,oe),Fe,Ne,Oe),ms=((t,e,s,n,i)=>()=>{const o=new WeakMap;return{render(r,a,c){const h=o.get(a);return void 0!==h?Promise.resolve(h):(async(r,a,c)=>{let h=s(r);const u=E(h,a);if(!u){const t={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(a,t)}return o.set(a,h),u?(await t(a,r.Q,h.Q,c),await t(a,r.detune,h.detune,c),await t(a,r.frequency,h.frequency,c),await t(a,r.gain,h.gain,c)):(await n(a,r.Q,h.Q,c),await n(a,r.detune,h.detune,c),await n(a,r.frequency,h.frequency,c),await n(a,r.gain,h.gain,c)),await i(r,a,h,c),h})(r,a,c)}}})(as,Bt,st,us,Oe),gs=(t=>(e,s)=>t.set(e,s))(ve),vs=(ys=Ze,xs=ps,ws=ms,bs=Dt,Ts=Bt,Ss=Fe,ks=Ne,Cs=gs,class extends ys{constructor(t,e){const s=Ss(t),n={...vt,...e},i=Ts(s,n),o=ks(s);super(t,!1,i,o?ws():null),this._Q=xs(this,o,i.Q,N,V),this._detune=xs(this,o,i.detune,1200*Math.log2(N),-1200*Math.log2(N)),this._frequency=xs(this,o,i.frequency,t.sampleRate/2,0),this._gain=xs(this,o,i.gain,40*Math.log10(N),V),this._nativeBiquadFilterNode=i,Cs(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,s){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,s)}catch(t){if(11===t.code)throw bs();throw t}if(t.length!==e.length||e.length!==s.length)throw bs()}});var ys,xs,ws,bs,Ts,Ss,ks,Cs;const As=((t,e)=>(s,n,i)=>{const o=new Set;var r,a;return s.connect=(r=s.connect,(i,a=0,c=0)=>{const h=0===o.size;if(e(i))return r.call(s,i,a,c),t(o,[i,a,c],t=>t[0]===i&&t[1]===a&&t[2]===c,!0),h&&n(),i;r.call(s,i,a),t(o,[i,a],t=>t[0]===i&&t[1]===a,!0),h&&n()}),s.disconnect=(a=s.disconnect,(t,n,r)=>{const c=o.size>0;if(void 0===t)a.apply(s),o.clear();else if(\"number\"==typeof t){a.call(s,t);for(const e of o)e[1]===t&&o.delete(e)}else{e(t)?a.call(s,t,n,r):a.call(s,t,n);for(const e of o)e[0]!==t||void 0!==n&&e[1]!==n||void 0!==r&&e[2]!==r||o.delete(e)}const h=0===o.size;c&&h&&i()}),s})(Z,Ue),Ds=(Os=At,Ms=As,(t,e)=>{e.channelCount=1,e.channelCountMode=\"explicit\",Object.defineProperty(e,\"channelCount\",{get:()=>1,set:()=>{throw Os()}}),Object.defineProperty(e,\"channelCountMode\",{get:()=>\"explicit\",set:()=>{throw Os()}});const s=t.createBufferSource();Ms(e,()=>{const t=e.numberOfInputs;for(let n=0;n<t;n+=1)s.connect(e,0,n)},()=>s.disconnect(e))});var Os,Ms;const Es=((t,e)=>(s,n)=>{const i=s.createChannelMerger(n.numberOfInputs);return null!==t&&\"webkitAudioContext\"===t.name&&e(s,i),It(i,n),i})(Be,Ds),Rs=((t,e,s,n,i)=>class extends t{constructor(t,o){const r=n(t),a={...yt,...o};super(t,!1,s(r,a),i(r)?e():null)}})(Ze,((t,e,s)=>()=>{const n=new WeakMap;return{render(i,o,r){const a=n.get(o);return void 0!==a?Promise.resolve(a):(async(i,o,r)=>{let a=e(i);if(!E(a,o)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,e)}return n.set(o,a),await s(i,o,a,r),a})(i,o,r)}}})(Es,st,Oe),Es,Fe,Ne),qs=((t,e,s,n,i,o)=>class extends t{constructor(t,r){const a=n(t),c=o({...xt,...r});super(t,!1,s(a,c),i(a)?e():null)}})(Ze,((t,e,s)=>()=>{const n=new WeakMap;return{render(i,o,r){const a=n.get(o);return void 0!==a?Promise.resolve(a):(async(i,o,r)=>{let a=e(i);if(!E(a,o)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,e)}return n.set(o,a),await s(i,o,a,r),a})(i,o,r)}}})(Wt,st,Oe),Wt,Fe,Ne,t=>({...t,channelCount:t.numberOfOutputs})),Fs=((t,e,s,n)=>(i,{offset:o,...r})=>{const a=i.createBuffer(1,2,44100),c=e(i,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=s(i,{...r,gain:o}),u=a.getChannelData(0);u[0]=1,u[1]=1,c.buffer=a,c.loop=!0;const l={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(t){h.channelCount=t},get channelCountMode(){return h.channelCountMode},set channelCountMode(t){h.channelCountMode=t},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return c.onended},set onended(t){c.onended=t},addEventListener:(...t)=>c.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>c.dispatchEvent(t[0]),removeEventListener:(...t)=>c.removeEventListener(t[0],t[1],t[2]),start(t=0){c.start.call(c,t)},stop(t=0){c.stop.call(c,t)}};return t(i,c),n(Gt(l,h),()=>c.connect(h),()=>c.disconnect(h))})(is,cs,Qt,As),Is=((t,e,s,n,i)=>(o,r)=>{if(void 0===o.createConstantSource)return s(o,r);const a=o.createConstantSource();return It(a,r),Nt(a,r,\"offset\"),e(n,()=>n(o))||Pt(a),e(i,()=>i(o))||jt(a),t(o,a),a})(is,xe,Fs,ae,he),Vs=((t,e,s,n,i,o,r)=>class extends t{constructor(t,r){const a=i(t),c={...wt,...r},h=n(a,c),u=o(a),l=u?s():null;super(t,!1,h,l),this._constantSourceNodeRenderer=l,this._nativeConstantSourceNode=h,this._offset=e(this,u,h.offset,N,V),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e=\"function\"==typeof t?r(this,t):null;this._nativeConstantSourceNode.onended=e;const s=this._nativeConstantSourceNode.onended;this._onended=null!==s&&s===e?t:s}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),\"closed\"!==this.context.state){C(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener(\"ended\",t),P(this)&&D(this)};this._nativeConstantSourceNode.addEventListener(\"ended\",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Ze,ps,((t,e,s,n,i)=>()=>{const o=new WeakMap;let r=null,a=null;return{set start(t){r=t},set stop(t){a=t},render(c,h,u){const l=o.get(h);return void 0!==l?Promise.resolve(l):(async(c,h,u)=>{let l=s(c);const p=E(l,h);if(!p){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,offset:l.offset.value};l=e(h,t),null!==r&&l.start(r),null!==a&&l.stop(a)}return o.set(h,l),p?await t(h,c.offset,l.offset,u):await n(h,c.offset,l.offset,u),await i(c,h,l,u),l})(c,h,u)}}})(as,Is,st,us,Oe),Is,Fe,Ne,de),Ns=((t,e)=>(s,n)=>{const i=s.createConvolver();if(It(i,n),n.disableNormalization===i.normalize&&(i.normalize=!n.disableNormalization),Ft(i,n,\"buffer\"),n.channelCount>2)throw t();if(e(i,\"channelCount\",t=>()=>t.call(i),e=>s=>{if(s>2)throw t();return e.call(i,s)}),\"max\"===n.channelCountMode)throw t();return e(i,\"channelCountMode\",t=>()=>t.call(i),e=>s=>{if(\"max\"===s)throw t();return e.call(i,s)}),i})(Ht,oe),Ps=((t,e,s,n,i,o)=>class extends t{constructor(t,r){const a=n(t),c={...bt,...r},h=s(a,c);super(t,!1,h,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=h,null!==c.buffer&&o(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Ze,((t,e,s)=>()=>{const n=new WeakMap;return{render(i,o,r){const a=n.get(o);return void 0!==a?Promise.resolve(a):(async(i,o,r)=>{let a=e(i);if(!E(a,o)){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,e)}return n.set(o,a),H(a)?await s(i,o,a.inputs[0],r):await s(i,o,a,r),a})(i,o,r)}}})(Ns,st,Oe),Ns,Fe,Ne,gs),js=((t,e,s,n,i,o,r)=>class extends t{constructor(t,a){const c=i(t),h={...Tt,...a},u=n(c,h),l=o(c);super(t,!1,u,l?s(h.maxDelayTime):null),this._delayTime=e(this,l,u.delayTime),r(this,h.maxDelayTime)}get delayTime(){return this._delayTime}})(Ze,ps,((t,e,s,n,i)=>o=>{const r=new WeakMap;return{render(a,c,h){const u=r.get(c);return void 0!==u?Promise.resolve(u):(async(a,c,h)=>{let u=s(a);const l=E(u,c);if(!l){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:o};u=e(c,t)}return r.set(c,u),l?await t(c,a.delayTime,u.delayTime,h):await n(c,a.delayTime,u.delayTime,h),await i(a,c,u,h),u})(a,c,h)}}})(as,Ut,st,us,Oe),Ut,Fe,Ne,gs),Ls=(zs=Ht,(t,e)=>{const s=t.createDynamicsCompressor();if(It(s,e),e.channelCount>2)throw zs();if(\"max\"===e.channelCountMode)throw zs();return Nt(s,e,\"attack\"),Nt(s,e,\"knee\"),Nt(s,e,\"ratio\"),Nt(s,e,\"release\"),Nt(s,e,\"threshold\"),s});var zs;const Bs=((t,e,s,n,i,o,r,a)=>class extends t{constructor(t,i){const c=o(t),h={...kt,...i},u=n(c,h),l=r(c);super(t,!1,u,l?s():null),this._attack=e(this,l,u.attack),this._knee=e(this,l,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,l,u.ratio),this._release=e(this,l,u.release),this._threshold=e(this,l,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,\"max\"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return\"number\"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Ze,ps,((t,e,s,n,i)=>()=>{const o=new WeakMap;return{render(r,a,c){const h=o.get(a);return void 0!==h?Promise.resolve(h):(async(r,a,c)=>{let h=s(r);const u=E(h,a);if(!u){const t={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(a,t)}return o.set(a,h),u?(await t(a,r.attack,h.attack,c),await t(a,r.knee,h.knee,c),await t(a,r.ratio,h.ratio,c),await t(a,r.release,h.release,c),await t(a,r.threshold,h.threshold,c)):(await n(a,r.attack,h.attack,c),await n(a,r.knee,h.knee,c),await n(a,r.ratio,h.ratio,c),await n(a,r.release,h.release,c),await n(a,r.threshold,h.threshold,c)),await i(r,a,h,c),h})(r,a,c)}}})(as,Ls,st,us,Oe),Ls,Ht,Fe,Ne,gs),Ws=((t,e,s,n,i,o)=>class extends t{constructor(t,r){const a=i(t),c={...Ct,...r},h=n(a,c),u=o(a);super(t,!1,h,u?s():null),this._gain=e(this,u,h.gain,N,V)}get gain(){return this._gain}})(Ze,ps,((t,e,s,n,i)=>()=>{const o=new WeakMap;return{render(r,a,c){const h=o.get(a);return void 0!==h?Promise.resolve(h):(async(r,a,c)=>{let h=s(r);const u=E(h,a);if(!u){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(a,t)}return o.set(a,h),u?await t(a,r.gain,h.gain,c):await n(a,r.gain,h.gain,c),await i(r,a,h,c),h})(r,a,c)}}})(as,Qt,st,us,Oe),Qt,Fe,Ne),Gs=((t,e,s,n)=>(i,o,{channelCount:r,channelCountMode:a,channelInterpretation:c,feedback:h,feedforward:u})=>{const l=Lt(o,i.sampleRate),p=h instanceof Float64Array?h:new Float64Array(h),d=u instanceof Float64Array?u:new Float64Array(u),f=p.length,_=d.length,m=Math.min(f,_);if(0===f||f>20)throw n();if(0===p[0])throw e();if(0===_||_>20)throw n();if(0===d[0])throw e();if(1!==p[0]){for(let t=0;t<_;t+=1)d[t]/=p[0];for(let t=1;t<f;t+=1)p[t]/=p[0]}const g=s(i,l,r,r);g.channelCount=r,g.channelCountMode=a,g.channelInterpretation=c;const v=[],y=[],x=[];for(let t=0;t<r;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),y.push(t),x.push(e)}g.onaudioprocess=t=>{const e=t.inputBuffer,s=t.outputBuffer,n=e.numberOfChannels;for(let t=0;t<n;t+=1){const n=e.getChannelData(t),i=s.getChannelData(t);v[t]=Mt(p,f,d,_,m,y[t],x[t],v[t],32,n,i)}};const w=i.sampleRate/2;return Gt({get bufferSize(){return l},get channelCount(){return g.channelCount},set channelCount(t){g.channelCount=t},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){g.channelCountMode=t},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(t){g.channelInterpretation=t},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener:(...t)=>g.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>g.dispatchEvent(t[0]),getFrequencyResponse(e,s,n){if(e.length!==s.length||s.length!==n.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/w),o=[Math.cos(i),Math.sin(i)],r=Zt(Xt(d,o),Xt(p,o));s[t]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[t]=Math.atan2(r[1],r[0])}},removeEventListener:(...t)=>g.removeEventListener(t[0],t[1],t[2])},g)})(Dt,At,Yt,Ht),Us=((t,e,s,n)=>i=>t(Rt,()=>Rt(i))?Promise.resolve(t(n,n)).then(t=>{if(!t){const t=s(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()}):new Promise(t=>{const s=e(i,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});i.oncomplete=e=>{s.disconnect(),t(e.renderedBuffer)},s.connect(i.destination),i.startRendering()}))(xe,Qt,Yt,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const s=new e(1,1,44100),n=t(s,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});return new Promise(t=>{s.oncomplete=()=>{n.disconnect(),t(0!==s.currentTime)},s.startRendering()})})(Qt,Ve)),Qs=((t,e,s,n,i)=>(o,r)=>{const a=new WeakMap;let c=null;const h=async(h,u,l)=>{let p=null,d=e(h);const f=E(d,u);if(void 0===u.createIIRFilter?p=t(u,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(d=u.createIIRFilter(r,o)),a.set(u,null===p?d:p),null!==p){if(null===c){if(null===s)throw new Error(\"Missing the native OfflineAudioContext constructor.\");const t=new s(h.context.destination.channelCount,h.context.length,u.sampleRate);c=(async()=>{await n(h,t,t.destination,l);return((t,e,s,n)=>{const i=s instanceof Float64Array?s:new Float64Array(s),o=n instanceof Float64Array?n:new Float64Array(n),r=i.length,a=o.length,c=Math.min(r,a);if(1!==i[0]){for(let t=0;t<r;t+=1)o[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const h=new Float32Array(32),u=new Float32Array(32),l=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let e=0;e<p;e+=1){const s=t.getChannelData(e),n=l.getChannelData(e);h.fill(0),u.fill(0),Mt(i,r,o,a,c,h,u,0,32,s,n)}return l})(await i(t),u,o,r)})()}const t=await c;return p.buffer=t,p.start(0),p}return await n(h,u,d,l),d};return{render(t,e,s){const n=a.get(e);return void 0!==n?Promise.resolve(n):h(t,e,s)}}})(cs,st,Ve,Oe,Us);var Zs;const Xs=((t,e,s,n,i,o)=>class extends t{constructor(t,r){const a=n(t),c=i(a),h={...Ot,...r},u=e(a,c?null:t.baseLatency,h);super(t,!1,u,c?s(h.feedback,h.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(s,n,i)=>{if(s.length!==n.length||n.length!==i.length)throw Dt();return e.call(t,s,n,i)})})(u),this._nativeIIRFilterNode=u,o(this,1)}getFrequencyResponse(t,e,s){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,s)}})(Ze,(Zs=Gs,(t,e,s)=>{if(void 0===t.createIIRFilter)return Zs(t,e,s);const n=t.createIIRFilter(s.feedforward,s.feedback);return It(n,s),n}),Qs,Fe,Ne,gs),Ys=((t,e,s,n,i)=>(o,r)=>{const a=r.listener,{forwardX:c,forwardY:h,forwardZ:u,positionX:l,positionY:p,positionZ:d,upX:f,upY:_,upZ:m}=void 0===a.forwardX?(()=>{const c=e(r,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:9}),h=i(r),u=n(r,256,9,0),l=(e,n)=>{const i=s(r,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:n});return i.connect(c,0,e),i.start(),Object.defineProperty(i.offset,\"defaultValue\",{get:()=>n}),t({context:o},h,i.offset,N,V)};let p=[0,0,-1,0,1,0],d=[0,0,0];return u.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some((t,e)=>t!==p[e])&&(a.setOrientation(...e),p=e);const s=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];s.some((t,e)=>t!==d[e])&&(a.setPosition(...s),d=s)},c.connect(u),{forwardX:l(0,0),forwardY:l(1,0),forwardZ:l(2,-1),positionX:l(6,0),positionY:l(7,0),positionZ:l(8,0),upX:l(3,0),upY:l(4,1),upZ:l(5,0)}})():a;return{get forwardX(){return c},get forwardY(){return h},get forwardZ(){return u},get positionX(){return l},get positionY(){return p},get positionZ(){return d},get upX(){return f},get upY(){return _},get upZ(){return m}}})(ps,Es,Is,Yt,Ne),Hs=new WeakMap,$s=((t,e,s,n,i,o)=>class extends s{constructor(s,o){super(s),this._nativeContext=s,p.set(this,s),n(s)&&i.set(s,new Set),this._destination=new t(this,o),this._listener=e(this,s),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e=\"function\"==typeof t?o(this,t):null;this._nativeContext.onstatechange=e;const s=this._nativeContext.onstatechange;this._onstatechange=null!==s&&s===e?t:s}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(_s,Ys,Le,Ne,Hs,de),Js=((t,e,s,n,i,o)=>(r,a)=>{const c=r.createOscillator();return It(c,a),Nt(c,a,\"detune\"),Nt(c,a,\"frequency\"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):Ft(c,a,\"type\"),e(s,()=>s(r))||Pt(c),e(n,()=>n(r))||o(c,r),e(i,()=>i(r))||jt(c),t(r,c),c})(is,xe,ae,ce,he,pe),Ks=((t,e,s,n,i,o,r)=>class extends t{constructor(t,r){const a=i(t),c={...Jt,...r},h=s(a,c),u=o(a),l=u?n():null,p=t.sampleRate/2;super(t,!1,h,l),this._detune=e(this,u,h.detune,153600,-153600),this._frequency=e(this,u,h.frequency,p,-p),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=l,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e=\"function\"==typeof t?r(this,t):null;this._nativeOscillatorNode.onended=e;const s=this._nativeOscillatorNode.onended;this._onended=null!==s&&s===e?t:s}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),\"closed\"!==this.context.state){C(this);const t=()=>{this._nativeOscillatorNode.removeEventListener(\"ended\",t),P(this)&&D(this)};this._nativeOscillatorNode.addEventListener(\"ended\",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Ze,ps,Js,((t,e,s,n,i)=>()=>{const o=new WeakMap;let r=null,a=null,c=null;return{set periodicWave(t){r=t},set start(t){a=t},set stop(t){c=t},render(h,u,l){const p=o.get(u);return void 0!==p?Promise.resolve(p):(async(h,u,l)=>{let p=s(h);const d=E(p,u);if(!d){const t={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:null===r?void 0:r,type:p.type};p=e(u,t),null!==a&&p.start(a),null!==c&&p.stop(c)}return o.set(u,p),d?(await t(u,h.detune,p.detune,l),await t(u,h.frequency,p.frequency,l)):(await n(u,h.detune,p.detune,l),await n(u,h.frequency,p.frequency,l)),await i(h,u,p,l),p})(h,u,l)}}})(as,Js,st,us,Oe),Fe,Ne,de),tn=(en=cs,(t,e)=>{const s=en(t,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),n=t.createBuffer(1,2,44100);return s.buffer=n,s.loop=!0,s.connect(e),s.start(),()=>{s.stop(),s.disconnect(e)}});var en;const sn=((t,e,s,n,i)=>(o,{curve:r,oversample:a,...c})=>{const h=o.createWaveShaper(),u=o.createWaveShaper();It(h,c),It(u,c);const l=s(o,{...c,gain:1}),p=s(o,{...c,gain:-1}),d=s(o,{...c,gain:1}),f=s(o,{...c,gain:-1});let _=null,m=!1,g=null;const v={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(t){l.channelCount=t,p.channelCount=t,h.channelCount=t,d.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return h.channelCountMode},set channelCountMode(t){l.channelCountMode=t,p.channelCountMode=t,h.channelCountMode=t,d.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t,p.channelInterpretation=t,h.channelInterpretation=t,d.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return h.context},get curve(){return g},set curve(s){if(null!==s&&s.length<2)throw e();if(null===s)h.curve=s,u.curve=s;else{const t=s.length,e=new Float32Array(t+2-t%2),n=new Float32Array(t+2-t%2);e[0]=s[0],n[0]=-s[t-1];const i=Math.ceil((t+1)/2),o=(t+1)/2-1;for(let r=1;r<i;r+=1){const a=r/i*o,c=Math.floor(a),h=Math.ceil(a);e[r]=c===h?s[c]:(1-(a-c))*s[c]+(1-(h-a))*s[h],n[r]=c===h?-s[t-1-c]:-(1-(a-c))*s[t-1-c]-(1-(h-a))*s[t-1-h]}e[i]=t%2==1?s[i-1]:(s[i-2]+s[i-1])/2,h.curve=e,u.curve=n}g=s,m&&(n(g)&&null===_?_=t(o,l):null!==_&&(_(),_=null))},get inputs(){return[l]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(t){h.oversample=t,u.oversample=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2])};null!==r&&(v.curve=r instanceof Float32Array?r:new Float32Array(r)),a!==v.oversample&&(v.oversample=a);return i(Gt(v,d),()=>{l.connect(h).connect(d),l.connect(p).connect(u).connect(f).connect(d),m=!0,n(g)&&(_=t(o,l))},()=>{l.disconnect(h),h.disconnect(d),l.disconnect(p),p.disconnect(u),u.disconnect(f),f.disconnect(d),m=!1,null!==_&&(_(),_=null)})})(tn,At,Qt,ie,As),nn=((t,e,s,n,i,o,r)=>(a,c)=>{const h=a.createWaveShaper();if(null!==o&&\"webkitAudioContext\"===o.name&&void 0===a.createGain().gain.automationRate)return s(a,c);It(h,c);const u=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==u&&u.length<2)throw e();Ft(h,{curve:u},\"curve\"),Ft(h,c,\"oversample\");let l=null,p=!1;r(h,\"curve\",t=>()=>t.call(h),e=>s=>(e.call(h,s),p&&(n(s)&&null===l?l=t(a,h):n(s)||null===l||(l(),l=null)),s));return i(h,()=>{p=!0,n(h.curve)&&(l=t(a,h))},()=>{p=!1,null!==l&&(l(),l=null)})})(tn,At,sn,ie,As,Be,oe),on=((t,e,s,n,i,o,r,a,c)=>(h,{coneInnerAngle:u,coneOuterAngle:l,coneOuterGain:p,distanceModel:d,maxDistance:f,orientationX:_,orientationY:m,orientationZ:g,panningModel:v,positionX:y,positionY:x,positionZ:w,refDistance:b,rolloffFactor:T,...S})=>{const k=h.createPanner();if(S.channelCount>2)throw r();if(\"max\"===S.channelCountMode)throw r();It(k,S);const C={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},A=s(h,{...C,channelInterpretation:\"speakers\",numberOfInputs:6}),D=n(h,{...S,gain:1}),O=n(h,{...C,gain:1}),M=n(h,{...C,gain:0}),E=n(h,{...C,gain:0}),R=n(h,{...C,gain:0}),q=n(h,{...C,gain:0}),F=n(h,{...C,gain:0}),I=i(h,256,6,1),V=o(h,{...C,curve:new Float32Array([1,1]),oversample:\"none\"});let N=[_,m,g],P=[y,x,w];I.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some((t,e)=>t!==N[e])&&(k.setOrientation(...e),N=e);const s=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];s.some((t,e)=>t!==P[e])&&(k.setPosition(...s),P=s)},Object.defineProperty(M.gain,\"defaultValue\",{get:()=>0}),Object.defineProperty(E.gain,\"defaultValue\",{get:()=>0}),Object.defineProperty(R.gain,\"defaultValue\",{get:()=>0}),Object.defineProperty(q.gain,\"defaultValue\",{get:()=>0}),Object.defineProperty(F.gain,\"defaultValue\",{get:()=>0});const j={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(t){if(t>2)throw r();D.channelCount=t,k.channelCount=t},get channelCountMode(){return k.channelCountMode},set channelCountMode(t){if(\"max\"===t)throw r();D.channelCountMode=t,k.channelCountMode=t},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(t){D.channelInterpretation=t,k.channelInterpretation=t},get coneInnerAngle(){return k.coneInnerAngle},set coneInnerAngle(t){k.coneInnerAngle=t},get coneOuterAngle(){return k.coneOuterAngle},set coneOuterAngle(t){k.coneOuterAngle=t},get coneOuterGain(){return k.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();k.coneOuterGain=t},get context(){return k.context},get distanceModel(){return k.distanceModel},set distanceModel(t){k.distanceModel=t},get inputs(){return[D]},get maxDistance(){return k.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;k.maxDistance=t},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get orientationX(){return O.gain},get orientationY(){return M.gain},get orientationZ(){return E.gain},get panningModel(){return k.panningModel},set panningModel(t){k.panningModel=t},get positionX(){return R.gain},get positionY(){return q.gain},get positionZ(){return F.gain},get refDistance(){return k.refDistance},set refDistance(t){if(t<0)throw new RangeError;k.refDistance=t},get rolloffFactor(){return k.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;k.rolloffFactor=t},addEventListener:(...t)=>D.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>D.dispatchEvent(t[0]),removeEventListener:(...t)=>D.removeEventListener(t[0],t[1],t[2])};u!==j.coneInnerAngle&&(j.coneInnerAngle=u),l!==j.coneOuterAngle&&(j.coneOuterAngle=l),p!==j.coneOuterGain&&(j.coneOuterGain=p),d!==j.distanceModel&&(j.distanceModel=d),f!==j.maxDistance&&(j.maxDistance=f),_!==j.orientationX.value&&(j.orientationX.value=_),m!==j.orientationY.value&&(j.orientationY.value=m),g!==j.orientationZ.value&&(j.orientationZ.value=g),v!==j.panningModel&&(j.panningModel=v),y!==j.positionX.value&&(j.positionX.value=y),x!==j.positionY.value&&(j.positionY.value=x),w!==j.positionZ.value&&(j.positionZ.value=w),b!==j.refDistance&&(j.refDistance=b),T!==j.rolloffFactor&&(j.rolloffFactor=T),1===N[0]&&0===N[1]&&0===N[2]||k.setOrientation(...N),0===P[0]&&0===P[1]&&0===P[2]||k.setPosition(...P);return c(Gt(j,k),()=>{D.connect(k),t(D,V,0,0),V.connect(O).connect(A,0,0),V.connect(M).connect(A,0,1),V.connect(E).connect(A,0,2),V.connect(R).connect(A,0,3),V.connect(q).connect(A,0,4),V.connect(F).connect(A,0,5),A.connect(I).connect(h.destination)},()=>{D.disconnect(k),a(D,V,0,0),V.disconnect(O),O.disconnect(A),V.disconnect(M),M.disconnect(A),V.disconnect(E),E.disconnect(A),V.disconnect(R),R.disconnect(A),V.disconnect(q),q.disconnect(A),V.disconnect(F),F.disconnect(A),A.disconnect(I),I.disconnect(h.destination)})})($,At,Es,Qt,Yt,nn,Ht,et,As),rn=(an=on,(t,e)=>{const s=t.createPanner();return void 0===s.orientationX?an(t,e):(It(s,e),Nt(s,e,\"orientationX\"),Nt(s,e,\"orientationY\"),Nt(s,e,\"orientationZ\"),Nt(s,e,\"positionX\"),Nt(s,e,\"positionY\"),Nt(s,e,\"positionZ\"),Ft(s,e,\"coneInnerAngle\"),Ft(s,e,\"coneOuterAngle\"),Ft(s,e,\"coneOuterGain\"),Ft(s,e,\"distanceModel\"),Ft(s,e,\"maxDistance\"),Ft(s,e,\"panningModel\"),Ft(s,e,\"refDistance\"),Ft(s,e,\"rolloffFactor\"),s)});var an;const cn=((t,e,s,n,i,o,r)=>class extends t{constructor(t,a){const c=i(t),h={...Kt,...a},u=s(c,h),l=o(c);super(t,!1,u,l?n():null),this._nativePannerNode=u,this._orientationX=e(this,l,u.orientationX,N,V),this._orientationY=e(this,l,u.orientationY,N,V),this._orientationZ=e(this,l,u.orientationZ,N,V),this._positionX=e(this,l,u.positionX,N,V),this._positionY=e(this,l,u.positionY,N,V),this._positionZ=e(this,l,u.positionZ,N,V),r(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Ze,ps,rn,((t,e,s,n,i,o,r,a,c,h)=>()=>{const u=new WeakMap;let l=null;return{render(p,d,f){const _=u.get(d);return void 0!==_?Promise.resolve(_):(async(p,d,f)=>{let _=null,m=o(p);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},y=E(m,d);if(\"bufferSize\"in m)_=n(d,{...g,gain:1});else if(!y){const t={...v,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(d,t)}if(u.set(d,null===_?m:_),null!==_){if(null===l){if(null===r)throw new Error(\"Missing the native OfflineAudioContext constructor.\");const t=new r(6,p.context.length,d.sampleRate),n=e(t,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6});n.connect(t.destination),l=(async()=>{const e=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(e,n)=>{const i=s(t,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:0===n?1:0});return await a(t,e,i.offset,f),i}));for(let t=0;t<6;t+=1)e[t].connect(n,0,t),e[t].start(0);return h(t)})()}const t=await l,o=n(d,{...g,gain:1});await c(p,d,o,f);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let m=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],x=n(d,{...g,gain:1}),w=i(d,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]});o.connect(x).connect(w.inputs[0]),w.connect(_);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],s=[u[3][e],u[4][e],u[5][e]];if(t.some((t,e)=>t!==m[e])||s.some((t,e)=>t!==y[e])){m=t,y=s;const r=e/d.sampleRate;x.gain.setValueAtTime(0,r),x=n(d,{...g,gain:0}),w=i(d,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),x.gain.setValueAtTime(1,r),o.connect(x).connect(w.inputs[0]),w.connect(_)}}return _}return y?(await t(d,p.orientationX,m.orientationX,f),await t(d,p.orientationY,m.orientationY,f),await t(d,p.orientationZ,m.orientationZ,f),await t(d,p.positionX,m.positionX,f),await t(d,p.positionY,m.positionY,f),await t(d,p.positionZ,m.positionZ,f)):(await a(d,p.orientationX,m.orientationX,f),await a(d,p.orientationY,m.orientationY,f),await a(d,p.orientationZ,m.orientationZ,f),await a(d,p.positionX,m.positionX,f),await a(d,p.positionY,m.positionY,f),await a(d,p.positionZ,m.positionZ,f)),H(m)?await c(p,d,m.inputs[0],f):await c(p,d,m,f),m})(p,d,f)}}})(as,Es,Is,Qt,rn,st,Ve,us,Oe,Us),Fe,Ne,gs),hn=((t,e,s,n)=>class i{constructor(i,o){const r=e(i),a=n({...te,...o}),c=t(r,a);return s.add(c),c}static[Symbol.hasInstance](t){return null!==t&&\"object\"==typeof t&&Object.getPrototypeOf(t)===i.prototype||s.has(t)}})((t=>(e,{disableNormalization:s,imag:n,real:i})=>{const o=n instanceof Float32Array?n:new Float32Array(n),r=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(r,o,{disableNormalization:s});if(Array.from(n).length<2)throw t();return a})(q),Fe,new WeakSet,t=>{const{imag:e,real:s}=t;return void 0===e?void 0===s?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(s,()=>0),real:s}:void 0===s?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:s}}),un=((t,e)=>(s,n)=>{const i=n.channelCountMode;if(\"clamped-max\"===i)throw e();if(void 0===s.createStereoPanner)return t(s,n);const o=s.createStereoPanner();return It(o,n),Nt(o,n,\"pan\"),Object.defineProperty(o,\"channelCountMode\",{get:()=>i,set:t=>{if(t!==i)throw e()}}),o})(((t,e,s,n,i,o)=>{const r=new Float32Array([1,1]),a=Math.PI/2,c={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},h={...c,oversample:\"none\"},u=(t,o,u,l,p)=>{if(1===o)return((t,e,i,o)=>{const u=new Float32Array(16385),l=new Float32Array(16385);for(let t=0;t<16385;t+=1){const e=t/16384*a;u[t]=Math.cos(e),l[t]=Math.sin(e)}const p=s(t,{...c,gain:0}),d=n(t,{...h,curve:u}),f=n(t,{...h,curve:r}),_=s(t,{...c,gain:0}),m=n(t,{...h,curve:l});return{connectGraph(){e.connect(p),e.connect(void 0===f.inputs?f:f.inputs[0]),e.connect(_),f.connect(i),i.connect(void 0===d.inputs?d:d.inputs[0]),i.connect(void 0===m.inputs?m:m.inputs[0]),d.connect(p.gain),m.connect(_.gain),p.connect(o,0,0),_.connect(o,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(void 0===f.inputs?f:f.inputs[0]),e.disconnect(_),f.disconnect(i),i.disconnect(void 0===d.inputs?d:d.inputs[0]),i.disconnect(void 0===m.inputs?m:m.inputs[0]),d.disconnect(p.gain),m.disconnect(_.gain),p.disconnect(o,0,0),_.disconnect(o,0,1)}}})(t,u,l,p);if(2===o)return((t,i,o,u)=>{const l=new Float32Array(16385),p=new Float32Array(16385),d=new Float32Array(16385),f=new Float32Array(16385),_=Math.floor(8192.5);for(let t=0;t<16385;t+=1)if(t>_){const e=(t-_)/(16384-_)*a;l[t]=Math.cos(e),p[t]=Math.sin(e),d[t]=0,f[t]=1}else{const e=t/(16384-_)*a;l[t]=1,p[t]=0,d[t]=Math.cos(e),f[t]=Math.sin(e)}const m=e(t,{channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:2}),g=s(t,{...c,gain:0}),v=n(t,{...h,curve:l}),y=s(t,{...c,gain:0}),x=n(t,{...h,curve:p}),w=n(t,{...h,curve:r}),b=s(t,{...c,gain:0}),T=n(t,{...h,curve:d}),S=s(t,{...c,gain:0}),k=n(t,{...h,curve:f});return{connectGraph(){i.connect(m),i.connect(void 0===w.inputs?w:w.inputs[0]),m.connect(g,0),m.connect(y,0),m.connect(b,1),m.connect(S,1),w.connect(o),o.connect(void 0===v.inputs?v:v.inputs[0]),o.connect(void 0===x.inputs?x:x.inputs[0]),o.connect(void 0===T.inputs?T:T.inputs[0]),o.connect(void 0===k.inputs?k:k.inputs[0]),v.connect(g.gain),x.connect(y.gain),T.connect(b.gain),k.connect(S.gain),g.connect(u,0,0),b.connect(u,0,0),y.connect(u,0,1),S.connect(u,0,1)},disconnectGraph(){i.disconnect(m),i.disconnect(void 0===w.inputs?w:w.inputs[0]),m.disconnect(g,0),m.disconnect(y,0),m.disconnect(b,1),m.disconnect(S,1),w.disconnect(o),o.disconnect(void 0===v.inputs?v:v.inputs[0]),o.disconnect(void 0===x.inputs?x:x.inputs[0]),o.disconnect(void 0===T.inputs?T:T.inputs[0]),o.disconnect(void 0===k.inputs?k:k.inputs[0]),v.disconnect(g.gain),x.disconnect(y.gain),T.disconnect(b.gain),k.disconnect(S.gain),g.disconnect(u,0,0),b.disconnect(u,0,0),y.disconnect(u,0,1),S.disconnect(u,0,1)}}})(t,u,l,p);throw i()};return(e,{channelCount:n,channelCountMode:r,pan:a,...c})=>{if(\"max\"===r)throw i();const h=t(e,{...c,channelCount:1,channelCountMode:r,numberOfInputs:2}),l=s(e,{...c,channelCount:n,channelCountMode:r,gain:1}),p=s(e,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:a});let{connectGraph:d,disconnectGraph:f}=u(e,n,l,p,h);Object.defineProperty(p.gain,\"defaultValue\",{get:()=>0}),Object.defineProperty(p.gain,\"maxValue\",{get:()=>1}),Object.defineProperty(p.gain,\"minValue\",{get:()=>-1});const _={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount!==t&&(m&&f(),({connectGraph:d,disconnectGraph:f}=u(e,t,l,p,h)),m&&d()),l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){if(\"clamped-max\"===t||\"max\"===t)throw i();l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[l]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get pan(){return p.gain},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2])};let m=!1;return o(Gt(_,h),()=>{d(),m=!0},()=>{f(),m=!1})}})(Es,Wt,Qt,nn,Ht,As),Ht),ln=((t,e,s,n,i,o)=>class extends t{constructor(t,r){const a=i(t),c={...ee,...r},h=s(a,c),u=o(a);super(t,!1,h,u?n():null),this._pan=e(this,u,h.pan)}get pan(){return this._pan}})(Ze,ps,un,((t,e,s,n,i)=>()=>{const o=new WeakMap;return{render(r,a,c){const h=o.get(a);return void 0!==h?Promise.resolve(h):(async(r,a,c)=>{let h=s(r);const u=E(h,a);if(!u){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(a,t)}return o.set(a,h),u?await t(a,r.pan,h.pan,c):await n(a,r.pan,h.pan,c),H(h)?await i(r,a,h.inputs[0],c):await i(r,a,h,c),h})(r,a,c)}}})(as,un,st,us,Oe),Fe,Ne),pn=((t,e,s)=>()=>{const n=new WeakMap;return{render(i,o,r){const a=n.get(o);return void 0!==a?Promise.resolve(a):(async(i,o,r)=>{let a=e(i);if(!E(a,o)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,e)}return n.set(o,a),H(a)?await s(i,o,a.inputs[0],r):await s(i,o,a,r),a})(i,o,r)}}})(nn,st,Oe),dn=((t,e,s,n,i,o,r)=>class extends t{constructor(t,e){const a=i(t),c={...ne,...e},h=s(a,c);super(t,!0,h,o(a)?n():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,r(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Ze,At,nn,pn,Fe,Ne,gs),fn=(t=>null!==t&&t.isSecureContext)(Te),_n=(t=>(e,s,n)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*s)},currentTime:{configurable:!0,get:()=>e}});try{return n()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(Te),mn=new WeakMap,gn=((t,e)=>s=>{let n=t.get(s);if(void 0!==n)return n;if(null===e)throw new Error(\"Missing the native OfflineAudioContext constructor.\");return n=new e(1,1,8e3),t.set(s,n),n})(mn,Ve),vn=(t=>null===t?null:t.hasOwnProperty(\"AudioWorkletNode\")?t.AudioWorkletNode:null)(Te),yn=fn?((t,e,s,n,i,o,r,a,c,h,u,l)=>(p,d,f={credentials:\"omit\"})=>{const m=o(p);if(void 0!==m.audioWorklet)return Promise.all([i(d),Promise.resolve(t(u,u))]).then(([[t,e],s])=>{const[n,i]=y(t,e),o=s?i:i.replace(/\\s+extends\\s+AudioWorkletProcessor\\s*{/,\" extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){\"),c=new Blob([`${n};(registerProcessor=>{${o}\\n})((n,p)=>registerProcessor(n,class extends p{${s?\"\":\"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));\"}process(i,o,p){${s?\"\":\"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));\"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:\"application/javascript; charset=utf-8\"}),h=URL.createObjectURL(c);return m.audioWorklet.addModule(h,f).then(()=>{if(a(m))return;return r(m).audioWorklet.addModule(h,f)}).finally(()=>URL.revokeObjectURL(h))});const g=h.get(p);if(void 0!==g&&g.has(d))return Promise.resolve();const v=c.get(p);if(void 0!==v){const t=v.get(d);if(void 0!==t)return t}const b=i(d).then(([t,e])=>{const[n,i]=y(t,e);return s(`${n};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\\n})})(window,'_AWGS')`)}).then(()=>{const t=l._AWGS.pop();if(void 0===t)throw new SyntaxError;n(m.currentTime,m.sampleRate,()=>t(class{},void 0,(t,s)=>{if(\"\"===t.trim())throw e();const n=_.get(m);if(void 0!==n){if(n.has(t))throw e();w(s),x(s.parameterDescriptors),n.set(t,s)}else w(s),x(s.parameterDescriptors),_.set(m,new Map([[t,s]]))},m.sampleRate,void 0,void 0))});return void 0===v?c.set(p,new Map([[d,b]])):v.set(d,b),b.then(()=>{const t=h.get(p);void 0===t?h.set(p,new Set([d])):t.add(d)}).finally(()=>{const t=c.get(p);void 0!==t&&t.delete(d)}),b})(xe,Ht,(t=>e=>new Promise((s,n)=>{if(null===t)return void n(new SyntaxError);const i=t.document.head;if(null===i)n(new SyntaxError);else{const o=t.document.createElement(\"script\"),r=new Blob([e],{type:\"application/javascript\"}),a=URL.createObjectURL(r),c=t.onerror,h=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(e,s,i,o,r)=>s===a||s===t.location.href&&1===i&&1===o?(h(),n(r),!1):null!==c?c(e,s,i,o,r):void 0,o.onerror=()=>{h(),n(new SyntaxError)},o.onload=()=>{h(),s()},o.src=a,o.type=\"module\",i.appendChild(o)}}))(Te),_n,(t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw t()})(()=>new DOMException(\"\",\"AbortError\")),Fe,gn,Ne,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),n=new e(1,128,8e3),i=URL.createObjectURL(s);let o=!1,r=!1;try{await n.audioWorklet.addModule(i);const e=new t(n,\"a\",{numberOfOutputs:0}),s=n.createOscillator();e.port.onmessage=()=>o=!0,e.onprocessorerror=()=>r=!0,s.connect(e),await n.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return o&&!r})(vn,Ve),Te):void 0,xn=((t,e)=>s=>t(s)||e(s))(We,Ne),wn=((t,e,s,n,i,o,r,a,c,h,u,l,p,d,f,_,m,g,v,y)=>class extends f{constructor(e,s){super(e,s),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,s)=>t(this,e,s)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,n){return new s({length:e,numberOfChannels:t,sampleRate:n})}createBufferSource(){return new n(this)}createChannelMerger(t=6){return new o(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new r(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new l(this)}createGain(){return new p(this)}createIIRFilter(t,e){return new d(this,{feedback:e,feedforward:t})}createOscillator(){return new _(this)}createPanner(){return new m(this)}createPeriodicWave(t,e,s={disableNormalization:!1}){return new g(this,{...s,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,s){return h(this._nativeContext,t).then(t=>(\"function\"==typeof e&&e(t),t)).catch(t=>{throw\"function\"==typeof s&&s(t),t})}})(yn,Ye,ss,fs,vs,Rs,qs,Vs,Ps,((t,e,s,n,i,o,r,a,c,h,u)=>(l,p)=>{const d=r(l)?l:o(l);if(i.has(p)){const t=s();return Promise.reject(t)}try{i.add(p)}catch{}return e(c,()=>c(d))?d.decodeAudioData(p).then(s=>(e(a,()=>a(s))||u(s),t.add(s),s)):new Promise((e,s)=>{const i=()=>{try{(t=>{const{port1:e}=new MessageChannel;e.postMessage(t,[t])})(p)}catch{}},o=t=>{s(t),i()};try{d.decodeAudioData(p,s=>{\"function\"!=typeof s.copyFromChannel&&(h(s),F(s)),t.add(s),i(),e(s)},t=>{o(null===t?n():t)})}catch(t){o(t)}})})(He,xe,()=>new DOMException(\"\",\"DataCloneError\"),()=>new DOMException(\"\",\"EncodingError\"),new WeakSet,Fe,xn,R,Rt,ts,es),js,Bs,Ws,Xs,$s,Ks,cn,hn,ln,dn),bn=((t,e,s,n)=>class extends t{constructor(t,i){const o=s(t),r=e(o,i);if(n(o))throw TypeError();super(t,!0,r,null),this._nativeMediaElementAudioSourceNode=r}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Ze,(t,e)=>t.createMediaElementSource(e.mediaElement),Fe,Ne),Tn=((t,e,s,n)=>class extends t{constructor(t,i){const o=s(t);if(n(o))throw new TypeError;const r={...Et,...i},a=e(o,r);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Ze,(t,e)=>{const s=t.createMediaStreamDestination();return It(s,e),1===s.numberOfOutputs&&Object.defineProperty(s,\"numberOfOutputs\",{get:()=>0}),s},Fe,Ne),Sn=((t,e,s,n)=>class extends t{constructor(t,i){const o=s(t),r=e(o,i);if(n(o))throw new TypeError;super(t,!0,r,null),this._nativeMediaStreamAudioSourceNode=r}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Ze,(t,{mediaStream:e})=>{const s=e.getAudioTracks();s.sort((t,e)=>t.id<e.id?-1:t.id>e.id?1:0);const n=s.slice(0,1),i=t.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(i,\"mediaStream\",{value:e}),i},Fe,Ne),kn=((t,e,s)=>class extends t{constructor(t,n){const i=s(t);super(t,!0,e(i,n),null)}})(Ze,((t,e)=>(s,{mediaStreamTrack:n})=>{if(\"function\"==typeof s.createMediaStreamTrackSource)return s.createMediaStreamTrackSource(n);const i=new MediaStream([n]),o=s.createMediaStreamSource(i);if(\"audio\"!==n.kind)throw t();if(e(s))throw new TypeError;return o})(At,Ne),Fe),Cn=((t,e,s,n,i,o,r,a,c)=>class extends t{constructor(t={}){if(null===c)throw new Error(\"Missing the native AudioContext constructor.\");const e=new c(t);if(null===e)throw n();if(!G(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw s();super(e,2);const{latencyHint:i}=t,{sampleRate:o}=e;if(this._baseLatency=\"number\"==typeof e.baseLatency?e.baseLatency:\"balanced\"===i?512/o:\"interactive\"===i||void 0===i?256/o:\"playback\"===i?1024/o:128*Math.max(2,Math.min(128,Math.round(i*o/128)))/o,this._nativeAudioContext=e,\"webkitAudioContext\"===c.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,\"running\"===e.state){this._state=\"suspended\";const t=()=>{\"suspended\"===this._state&&(this._state=null),e.removeEventListener(\"statechange\",t)};e.addEventListener(\"statechange\",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return\"closed\"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):(\"suspended\"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),W(this)}))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(t){return new r(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return\"suspended\"===this._state?new Promise((t,e)=>{const s=()=>{this._nativeAudioContext.removeEventListener(\"statechange\",s),\"running\"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener(\"statechange\",s)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw e();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw e();throw t})}})(wn,At,Ht,se,bn,Tn,Sn,kn,Be),An=(Dn=Hs,t=>{const e=Dn.get(t);if(void 0===e)throw new Error(\"The context has no set of AudioWorkletNodes.\");return e});var Dn;const On=(Mn=An,(t,e)=>{Mn(t).add(e)});var Mn;const En=(t=>(e,s,n=0,i=0)=>{const o=e[n];if(void 0===o)throw t();return ct(s)?o.connect(s,0,i):o.connect(s,0)})(q),Rn=(t=>(e,s)=>{t(e).delete(s)})(An),qn=(t=>(e,s,n,i=0)=>void 0===s?e.forEach(t=>t.disconnect()):\"number\"==typeof s?St(t,e,s).disconnect():ct(s)?void 0===n?e.forEach(t=>t.disconnect(s)):void 0===i?St(t,e,n).disconnect(s,0):St(t,e,n).disconnect(s,0,i):void 0===n?e.forEach(t=>t.disconnect(s)):St(t,e,n).disconnect(s,0))(q),Fn=new WeakMap,In=((t,e)=>s=>e(t,s))(Fn,b),Vn=((t,e,s,n,i,o,r,a,c,h,u,l,p)=>(d,f,_,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw c();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some(t=>t<1))throw c();if(v.length!==g.numberOfOutputs)throw e();if(\"explicit\"!==g.channelCountMode)throw c();const y=g.channelCount*g.numberOfInputs,x=v.reduce((t,e)=>t+e,0),w=void 0===_.parameterDescriptors?0:_.parameterDescriptors.length;if(y+w>6||x>6)throw c();const b=new MessageChannel,T=[],S=[];for(let t=0;t<g.numberOfInputs;t+=1)T.push(r(d,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),S.push(i(d,{channelCount:g.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:g.channelCount}));const k=[];if(void 0!==_.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:s,name:n}of _.parameterDescriptors){const i=o(d,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:void 0!==g.parameterData[n]?g.parameterData[n]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?N:e},minValue:{get:()=>void 0===s?V:s}}),k.push(i)}const C=n(d,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,y+w)}),A=Lt(f,d.sampleRate),D=a(d,A,y+w,Math.max(1,x)),O=i(d,{channelCount:Math.max(1,x),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,x)}),M=[];for(let t=0;t<g.numberOfOutputs;t+=1)M.push(n(d,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:v[t]}));for(let t=0;t<g.numberOfInputs;t+=1){T[t].connect(S[t]);for(let e=0;e<g.channelCount;e+=1)S[t].connect(C,e,t*g.channelCount+e)}const E=new pt(void 0===_.parameterDescriptors?[]:_.parameterDescriptors.map(({name:t},e)=>{const s=k[e];return s.connect(C,0,y+e),s.start(0),[t,s.offset]}));C.connect(D);let R=g.channelInterpretation,q=null;const F=0===g.numberOfOutputs?[D]:M,I={get bufferSize(){return A},get channelCount(){return g.channelCount},set channelCount(t){throw s()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw s()},get channelInterpretation(){return R},set channelInterpretation(t){for(const e of T)e.channelInterpretation=t;R=t},get context(){return D.context},get inputs(){return T},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return q},set onprocessorerror(t){\"function\"==typeof q&&I.removeEventListener(\"processorerror\",q),q=\"function\"==typeof t?t:null,\"function\"==typeof q&&I.addEventListener(\"processorerror\",q)},get parameters(){return E},get port(){return b.port2},addEventListener:(...t)=>D.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,F),disconnect:h.bind(null,F),dispatchEvent:(...t)=>D.dispatchEvent(t[0]),removeEventListener:(...t)=>D.removeEventListener(t[0],t[1],t[2])},P=new Map;var j,L;b.port1.addEventListener=(j=b.port1.addEventListener,(...t)=>{if(\"message\"===t[0]){const e=\"function\"==typeof t[1]?t[1]:\"object\"==typeof t[1]&&null!==t[1]&&\"function\"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const s=P.get(t[1]);void 0!==s?t[1]=s:(t[1]=t=>{u(d.currentTime,d.sampleRate,()=>e(t))},P.set(e,t[1]))}}return j.call(b.port1,t[0],t[1],t[2])}),b.port1.removeEventListener=(L=b.port1.removeEventListener,(...t)=>{if(\"message\"===t[0]){const e=P.get(t[1]);void 0!==e&&(P.delete(t[1]),t[1]=e)}return L.call(b.port1,t[0],t[1],t[2])});let z=null;Object.defineProperty(b.port1,\"onmessage\",{get:()=>z,set:t=>{\"function\"==typeof z&&b.port1.removeEventListener(\"message\",z),z=\"function\"==typeof t?t:null,\"function\"==typeof z&&(b.port1.addEventListener(\"message\",z),b.port1.start())}}),_.prototype.port=b.port1;let B=null;((t,e,s,n)=>{let i=m.get(t);void 0===i&&(i=new WeakMap,m.set(t,i));const o=zt(s,n);return i.set(e,o),o})(d,I,_,g).then(t=>B=t);const W=mt(g.numberOfInputs,g.channelCount),G=mt(g.numberOfOutputs,v),U=void 0===_.parameterDescriptors?[]:_.parameterDescriptors.reduce((t,{name:e})=>({...t,[e]:new Float32Array(128)}),{});let Q=!0;const Z=()=>{g.numberOfOutputs>0&&D.disconnect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const s=M[t];for(let n=0;n<v[t];n+=1)O.disconnect(s,e+n,n);e+=v[t]}},X=new Map;D.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==B){const s=l(I);for(let n=0;n<A;n+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let s=0;s<g.channelCount;s+=1)ft(t,W[e],s,s,n);void 0!==_.parameterDescriptors&&_.parameterDescriptors.forEach(({name:e},s)=>{ft(t,U,e,y+s,n)});for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<v[t];e+=1)0===G[t][e].byteLength&&(G[t][e]=new Float32Array(128));try{const t=W.map((t,e)=>{if(s[e].size>0)return X.set(e,A/128),t;const n=X.get(e);return void 0===n?[]:(t.every(t=>t.every(t=>0===t))&&(1===n?X.delete(e):X.set(e,n-1)),t)}),i=u(d.currentTime+n/d.sampleRate,d.sampleRate,()=>B.process(t,G,U));Q=i;for(let t=0,s=0;t<g.numberOfOutputs;t+=1){for(let i=0;i<v[t];i+=1)_t(e,G[t],i,s+i,n);s+=v[t]}}catch(t){Q=!1,I.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!Q){for(let t=0;t<g.numberOfInputs;t+=1){T[t].disconnect(S[t]);for(let e=0;e<g.channelCount;e+=1)S[n].disconnect(C,e,t*g.channelCount+e)}if(void 0!==_.parameterDescriptors){const t=_.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=k[e];t.disconnect(C,0,y+e),t.stop()}}C.disconnect(D),D.onaudioprocess=null,Y?Z():J();break}}}};let Y=!1;const H=r(d,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0}),$=()=>D.connect(H).connect(d.destination),J=()=>{D.disconnect(H),H.disconnect()};return $(),p(I,()=>{if(Q){J(),g.numberOfOutputs>0&&D.connect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const s=M[t];for(let n=0;n<v[t];n+=1)O.connect(s,e+n,n);e+=v[t]}}Y=!0},()=>{Q&&($(),Z()),Y=!1})})(En,q,At,Es,Wt,Is,Qt,Yt,Ht,qn,_n,In,As),Nn=((t,e,s,n,i)=>(o,r,a,c,h,u)=>{if(null!==a)try{const e=new a(o,c,u),n=new Map;let r=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>\"explicit\",set:()=>{throw t()}},onprocessorerror:{get:()=>r,set:t=>{\"function\"==typeof r&&e.removeEventListener(\"processorerror\",r),r=\"function\"==typeof t?t:null,\"function\"==typeof r&&e.addEventListener(\"processorerror\",r)}}}),e.addEventListener=(p=e.addEventListener,(...t)=>{if(\"processorerror\"===t[0]){const e=\"function\"==typeof t[1]?t[1]:\"object\"==typeof t[1]&&null!==t[1]&&\"function\"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const s=n.get(t[1]);void 0!==s?t[1]=s:(t[1]=s=>{\"error\"===s.type?(Object.defineProperties(s,{type:{value:\"processorerror\"}}),e(s)):e(new ErrorEvent(t[0],{...s}))},n.set(e,t[1]))}}return p.call(e,\"error\",t[1],t[2]),p.call(e,...t)}),e.removeEventListener=(l=e.removeEventListener,(...t)=>{if(\"processorerror\"===t[0]){const e=n.get(t[1]);void 0!==e&&(n.delete(t[1]),t[1]=e)}return l.call(e,\"error\",t[1],t[2]),l.call(e,t[0],t[1],t[2])}),0!==u.numberOfOutputs){const t=s(o,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});e.connect(t).connect(o.destination);return i(e,()=>t.disconnect(),()=>t.connect(o.destination))}return e}catch(t){if(11===t.code)throw n();throw t}var l,p;if(void 0===h)throw n();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(o,r,h,u)})(At,Vn,Qt,Ht,As),Pn=((t,e,s,n,i,o,r,a,c,h,u,l,p,d,f,_)=>(m,g,v)=>{const y=new WeakMap;let x=null;return{render(w,b,T){a(b,w);const S=y.get(b);return void 0!==S?Promise.resolve(S):(async(a,w,b)=>{let T=u(a),S=null;const k=E(T,w),C=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(null===l){const t=C.reduce((t,e)=>t+e,0),s=i(w,{channelCount:Math.max(1,t),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,t)}),o=[];for(let t=0;t<a.numberOfOutputs;t+=1)o.push(n(w,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:C[t]}));const h=r(w,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});h.connect=e.bind(null,o),h.disconnect=c.bind(null,o),S=[s,o,h]}else k||(T=new l(w,m));if(y.set(w,null===S?T:S[2]),null!==S){if(null===x){if(void 0===v)throw new Error(\"Missing the processor constructor.\");if(null===p)throw new Error(\"Missing the native OfflineAudioContext constructor.\");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,s=t+e,c=async()=>{const c=new p(s,128*Math.ceil(a.context.length/128),w.sampleRate),h=[],u=[];for(let t=0;t<g.numberOfInputs;t+=1)h.push(r(c,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),u.push(i(c,{channelCount:g.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:g.channelCount}));const l=await Promise.all(Array.from(a.parameters.values()).map(async t=>{const e=o(c,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:t.value});return await d(c,t,e.offset,b),e})),m=n(c,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<g.numberOfInputs;t+=1){h[t].connect(u[t]);for(let e=0;e<g.channelCount;e+=1)u[t].connect(m,e,t*g.channelCount+e)}for(const[e,s]of l.entries())s.connect(m,0,t+e),s.start(0);return m.connect(c.destination),await Promise.all(h.map(t=>f(a,c,t,b))),_(c)};x=gt(a,0===s?null:await c(),w,g,C,v,h)}const t=await x,e=s(w,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,u,l]=S;null!==t&&(e.buffer=t,e.start(0)),e.connect(c);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const s=u[t];for(let n=0;n<C[t];n+=1)c.connect(s,e+n,n);e+=C[t]}return l}if(k)for(const[e,s]of a.parameters.entries())await t(w,s,T.parameters.get(e),b);else for(const[t,e]of a.parameters.entries())await d(w,e,T.parameters.get(t),b);return await f(a,w,T,b),T})(w,b,T)}}})(as,En,cs,Es,Wt,Is,Qt,Rn,qn,_n,st,vn,Ve,us,Oe,Us),jn=(t=>e=>t.get(e))(mn),Ln=(t=>(e,s)=>{t.set(e,s)})(Fn),zn=fn?((t,e,s,n,i,o,r,a,c,h,u,l,p)=>class extends e{constructor(e,p,d){var f;const m=a(e),g=c(m),v=u({...dt,...d}),y=_.get(m),x=null==y?void 0:y.get(p),w=g||\"closed\"!==m.state?m:null!==(f=r(m))&&void 0!==f?f:m,b=i(w,g?null:e.baseLatency,h,p,x,v);super(e,!0,b,g?n(p,v,x):null);const T=[];b.parameters.forEach((t,e)=>{const n=s(this,g,t);T.push([e,n])}),this._nativeAudioWorkletNode=b,this._onprocessorerror=null,this._parameters=new pt(T),g&&t(m,this);const{activeInputs:S}=o(this);l(b,S)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e=\"function\"==typeof t?p(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const s=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==s&&s===e?t:s}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(On,Ze,ps,Pn,Nn,L,jn,Fe,Ne,vn,t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Ln,de):void 0,Bn=(((t,e,s,n,i)=>{})(At,Ht,se,$s,Be),((t,e)=>(s,n,i)=>{if(null===e)throw new Error(\"Missing the native OfflineAudioContext constructor.\");try{return new e(s,n,i)}catch(e){if(\"SyntaxError\"===e.name)throw t();throw e}})(Ht,Ve)),Wn=((t,e,s,n,i,o,r,a)=>{const c=[];return(h,u)=>s(h).render(h,u,c).then(()=>Promise.all(Array.from(n(u)).map(t=>s(t).render(t,u,c)))).then(()=>i(u)).then(s=>(\"function\"!=typeof s.copyFromChannel?(r(s),F(s)):e(o,()=>o(s))||a(s),t.add(s),s))})(He,xe,Ae,An,Us,R,ts,es),Gn=(((t,e,s,n,i)=>{})(xe,At,Bn,$s,Wn),((t,e,s,n,i)=>class extends t{constructor(t,s,i){let o;if(\"number\"==typeof t&&void 0!==s&&void 0!==i)o={length:s,numberOfChannels:t,sampleRate:i};else{if(\"object\"!=typeof t)throw new Error(\"The given parameters are not valid.\");o=t}const{length:r,numberOfChannels:a,sampleRate:c}={...$t,...o},h=n(a,r,c);e(Rt,()=>Rt(h))||h.addEventListener(\"statechange\",(()=>{let t=0;const e=s=>{\"running\"===this._state&&(t>0?(h.removeEventListener(\"statechange\",e),s.stopImmediatePropagation(),this._waitForThePromiseToSettle(s)):t+=1)};return e})()),super(h,a),this._length=r,this._nativeOfflineAudioContext=h,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return\"running\"===this._state?Promise.reject(s()):(this._state=\"running\",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,W(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}})(wn,xe,At,Bn,Wn)),Un=((t,e)=>s=>{const n=t.get(s);return e(n)||e(s)})(p,We),Qn=(Zn=h,Xn=Ue,t=>Zn.has(t)||Xn(t));var Zn,Xn;const Yn=(Hn=l,$n=Qe,t=>Hn.has(t)||$n(t));var Hn,$n;const Jn=((t,e)=>s=>{const n=t.get(s);return e(n)||e(s)})(p,Ne),Kn=()=>(async(t,e,s,n,i,o,r,a,c,h,u,l,p,d,f,_)=>{if(t(e,e)&&t(s,s)&&t(i,i)&&t(o,o)&&t(a,a)&&t(c,c)&&t(h,h)&&t(u,u)&&t(l,l)&&t(p,p)&&t(d,d)){return(await Promise.all([t(n,n),t(r,r),t(f,f),t(_,_)])).every(t=>t)}return!1})(xe,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const s=new Float32Array(2);try{e.copyFromChannel(s,0,0)}catch{return!1}return!0})(Ve),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,s=void 0!==e.close;try{e.close()}catch{}return s})(Be),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);return new Promise(t=>{let s=!0;const n=n=>{s&&(s=!1,e.startRendering(),t(n instanceof TypeError))};let i;try{i=e.decodeAudioData(null,()=>{},n)}catch(t){n(t)}void 0!==i&&i.catch(n)})})(Ve),(t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:\"balanced\"})}catch{return!1}return e.close(),!0})(Be),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),s=e.connect(e)===e;return e.disconnect(e),s})(Ve),((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),n=new e(1,128,8e3),i=URL.createObjectURL(s);let o=!1;try{await n.audioWorklet.addModule(i);const e=new t(n,\"a\",{numberOfOutputs:0}),s=n.createOscillator();e.port.onmessage=()=>o=!0,s.connect(e),s.start(0),await n.startRendering(),o||await new Promise(t=>setTimeout(t,5))}catch{}finally{URL.revokeObjectURL(i)}return o})(vn,Ve),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if(\"max\"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(Ve),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);if(void 0===e.createConstantSource)return!0;return e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Ve),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),s=e.createConvolver();s.buffer=e.createBuffer(1,1,e.sampleRate);try{s.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0})(Ve),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(Ve),ue,(t=>()=>null!==t&&t.hasOwnProperty(\"isSecureContext\"))(Te),(t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}})(Be),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const s=e.createConstantSource(),n=e.createStereoPanner();return s.channelCount=1,s.offset.value=1,n.channelCount=1,s.start(),s.connect(n).connect(e.destination),e.startRendering().then(t=>1!==t.getChannelData(0)[0])})(Ve),le);function ti(t,e){if(!t)throw new Error(e)}function ei(t,e,s=1/0){if(!(e<=t&&t<=s))throw new RangeError(`Value must be within [${e}, ${s}], got: ${t}`)}function si(t){t.isOffline||\"running\"===t.state||ri('The AudioContext is \"suspended\". Invoke Tone.start() from a user action to start the audio.')}let ni=console;function ii(t){ni=t}function oi(...t){ni.log(...t)}function ri(...t){ni.warn(...t)}function ai(t){return void 0===t}function ci(t){return!ai(t)}function hi(t){return\"function\"==typeof t}function ui(t){return\"number\"==typeof t}function li(t){return\"[object Object]\"===Object.prototype.toString.call(t)&&t.constructor===Object}function pi(t){return\"boolean\"==typeof t}function di(t){return Array.isArray(t)}function fi(t){return\"string\"==typeof t}function _i(t){return fi(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const mi=\"object\"==typeof self?self:null,gi=mi&&(mi.hasOwnProperty(\"AudioContext\")||mi.hasOwnProperty(\"webkitAudioContext\"));function vi(t,e,s,n){var i,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(o<3?i(r):o>3?i(e,s,r):i(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r}function yi(t,e,s,n){return new(s||(s=Promise))((function(i,o){function r(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(r,a)}c((n=n.apply(t,e||[])).next())}))}Object.create;Object.create;class xi{constructor(t,e,s){this._callback=t,this._type=e,this._updateInterval=s,this._createClock()}_createWorker(){const t=new Blob([`\\n\\t\\t\\t// the initial timeout time\\n\\t\\t\\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\\n\\t\\t\\t// onmessage callback\\n\\t\\t\\tself.onmessage = function(msg){\\n\\t\\t\\t\\ttimeoutTime = parseInt(msg.data);\\n\\t\\t\\t};\\n\\t\\t\\t// the tick function which posts a message\\n\\t\\t\\t// and schedules a new tick\\n\\t\\t\\tfunction tick(){\\n\\t\\t\\t\\tsetTimeout(tick, timeoutTime);\\n\\t\\t\\t\\tself.postMessage('tick');\\n\\t\\t\\t}\\n\\t\\t\\t// call tick initially\\n\\t\\t\\ttick();\\n\\t\\t\\t`],{type:\"text/javascript\"}),e=URL.createObjectURL(t),s=new Worker(e);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if(\"worker\"===this._type)try{this._createWorker()}catch(t){this._type=\"timeout\",this._createClock()}else\"timeout\"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),\"worker\"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function wi(t){return Yn(t)}function bi(t){return Qn(t)}function Ti(t){return Jn(t)}function Si(t){return Un(t)}function ki(t){return t instanceof AudioBuffer}function Ci(t,e){return\"value\"===t||wi(e)||bi(e)||ki(e)}function Ai(t,...e){if(!e.length)return t;const s=e.shift();if(li(t)&&li(s))for(const e in s)Ci(e,s[e])?t[e]=s[e]:li(s[e])?(t[e]||Object.assign(t,{[e]:{}}),Ai(t[e],s[e])):Object.assign(t,{[e]:s[e]});return Ai(t,...e)}function Di(t,e,s=[],n){const i={},o=Array.from(e);if(li(o[0])&&n&&!Reflect.has(o[0],n)){Object.keys(o[0]).some(e=>Reflect.has(t,e))||(Ai(i,{[n]:o[0]}),s.splice(s.indexOf(n),1),o.shift())}if(1===o.length&&li(o[0]))Ai(i,o[0]);else for(let t=0;t<s.length;t++)ci(o[t])&&(i[s[t]]=o[t]);return Ai(t,i)}function Oi(t,e){return ai(t)?e:t}function Mi(t,e){return e.forEach(e=>{Reflect.has(t,e)&&delete t[e]}),t}\n/**\n * Tone.js\n * @author Yotam Mann\n * @license http://opensource.org/licenses/MIT MIT License\n * @copyright 2014-2019 Yotam Mann\n */class Ei{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||mi&&this.toString()===mi.TONE_DEBUG_CLASS)&&oi(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ei.version=o;function Ri(t,e){return t>e+1e-6}function qi(t,e){return Ri(t,e)||Ii(t,e)}function Fi(t,e){return t+1e-6<e}function Ii(t,e){return Math.abs(t-e)<1e-6}function Vi(t,e,s){return Math.max(Math.min(t,s),e)}class Ni extends Ei{constructor(){super(),this.name=\"Timeline\",this._timeline=[];const t=Di(Ni.getDefaults(),arguments,[\"memory\"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(ti(Reflect.has(t,\"time\"),\"Timeline: events must have a time attribute\"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];ti(qi(t.time,e.time),\"The time must be greater than or equal to the last scheduled time\"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e=\"time\"){const s=this._search(t,e);return-1!==s?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e=\"time\"){const s=this._search(t,e);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const s=this._search(t);return s-1>=0?this._timeline[s-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Ii(this._timeline[e].time,t)){for(let s=e;s>=0&&Ii(this._timeline[s].time,t);s--)e=s;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&qi(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e=\"time\"){if(0===this._timeline.length)return-1;let s=0;const n=this._timeline.length;let i=n;if(n>0&&this._timeline[n-1][e]<=t)return n-1;for(;s<i;){let n=Math.floor(s+(i-s)/2);const o=this._timeline[n],r=this._timeline[n+1];if(Ii(o[e],t)){for(let s=n;s<this._timeline.length;s++){if(!Ii(this._timeline[s][e],t))break;n=s}return n}if(Fi(o[e],t)&&Ri(r[e],t))return n;Ri(o[e],t)?i=n:s=n+1}return-1}_iterate(t,e=0,s=this._timeline.length-1){this._timeline.slice(e,s+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const s=this._search(t);return-1!==s&&this._iterate(e,0,s),this}forEachAfter(t,e){const s=this._search(t);return this._iterate(e,s+1),this}forEachBetween(t,e,s){let n=this._search(t),i=this._search(e);return-1!==n&&-1!==i?(this._timeline[n].time!==t&&(n+=1),this._timeline[i].time===e&&(i-=1),this._iterate(s,n,i)):-1===n&&this._iterate(s,0,i),this}forEachFrom(t,e){let s=this._search(t);for(;s>=0&&this._timeline[s].time>=t;)s--;return this._iterate(e,s+1),this}forEachAtTime(t,e){const s=this._search(t);if(-1!==s&&Ii(this._timeline[s].time,t)){let n=s;for(let e=s;e>=0&&Ii(this._timeline[e].time,t);e--)n=e;this._iterate(t=>{e(t)},n,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Pi=[];function ji(t){Pi.push(t)}const Li=[];function zi(t){Li.push(t)}class Bi extends Ei{constructor(){super(...arguments),this.name=\"Emitter\"}on(t,e){return t.split(/\\W+/).forEach(t=>{ai(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)}),this}once(t,e){const s=(...n)=>{e(...n),this.off(t,s)};return this.on(t,s),this}off(t,e){return t.split(/\\W+/).forEach(s=>{if(ai(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(ai(e))this._events[t]=[];else{const s=this._events[t];for(let t=s.length-1;t>=0;t--)s[t]===e&&s.splice(t,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const s=this._events[t].slice(0);for(let t=0,n=s.length;t<n;t++)s[t].apply(this,e)}return this}static mixin(t){[\"on\",\"once\",\"off\",\"emit\"].forEach(e=>{const s=Object.getOwnPropertyDescriptor(Bi.prototype,e);Object.defineProperty(t.prototype,e,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class Wi extends Bi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Gi extends Wi{constructor(){super(),this.name=\"Context\",this._constants=new Map,this._timeouts=new Ni,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Di(Gi.getDefaults(),arguments,[\"context\"]);t.context?this._context=t.context:this._context=function(t){return new Cn(t)}({latencyHint:t.latencyHint}),this._ticker=new xi(this.emit.bind(this,\"tick\"),t.clockSource,t.updateInterval),this.on(\"tick\",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit(\"statechange\",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:\"worker\",latencyHint:\"interactive\",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,Pi.forEach(e=>e(t)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,s){return this._context.createBuffer(t,e,s)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,s){return this._context.createPeriodicWave(t,e,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){ti(Si(this._context),\"Not available if OfflineAudioContext\");return this._context.createMediaStreamSource(t)}createMediaElementSource(t){ti(Si(this._context),\"Not available if OfflineAudioContext\");return this._context.createMediaElementSource(t)}createMediaStreamDestination(){ti(Si(this._context),\"Not available if OfflineAudioContext\");return this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){ti(!this._initialized,\"The listener cannot be set after initialization.\"),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){ti(!this._initialized,\"The transport cannot be set after initialization.\"),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){ti(!this._initialized,\"Draw cannot be set after initialization.\"),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){ti(!this._initialized,\"The destination cannot be set after initialization.\"),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,s){return ti(ci(zn),\"This node only works in a secure context (https or localhost)\"),new zn(t,e,s)}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */(this.rawContext,t,e)}addAudioWorkletModule(t,e){return yi(this,void 0,void 0,(function*(){ti(ci(this.rawContext.audioWorklet),\"AudioWorkletNode is only available in a secure context (https or localhost)\"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return yi(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach(e=>t.push(e)),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,fi(t))switch(t){case\"interactive\":e=.1;break;case\"playback\":e=.5;break;case\"balanced\":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Si(this._context)?this._context.resume():Promise.resolve()}close(){return yi(this,void 0,void 0,(function*(){var t;Si(this._context)&&(yield this._context.close()),this._initialized&&(t=this,Li.forEach(e=>e(t)))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),s=e.getChannelData(0);for(let e=0;e<s.length;e++)s[e]=t;const n=this._context.createBufferSource();return n.channelCount=1,n.channelCountMode=\"explicit\",n.buffer=e,n.loop=!0,n.start(0),this._constants.set(t,n),n}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:s+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const s=++this._timeoutIds,n=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),n()},id:s,time:i+e})};return n(),s}}function Ui(t,e){di(e)?e.forEach(e=>Ui(t,e)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Qi(t,e){di(e)?e.forEach(e=>Qi(t,e)):Object.defineProperty(t,e,{writable:!0})}const Zi=()=>{};class Xi extends Ei{constructor(){super(),this.name=\"ToneAudioBuffer\",this.onload=Zi;const t=Di(Xi.getDefaults(),arguments,[\"url\",\"onload\",\"onerror\"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ki(t.url)||t.url instanceof Xi?this.set(t.url):fi(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Zi,onload:Zi,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ji().sampleRate}set(t){return t instanceof Xi?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return yi(this,void 0,void 0,(function*(){const e=Xi.load(t).then(t=>{this.set(t),this.onload(this)});Xi.downloads.push(e);try{yield e}finally{const t=Xi.downloads.indexOf(e);Xi.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=di(t)&&t[0].length>0,s=e?t.length:1,n=e?t[0].length:t.length,i=Ji(),o=i.createBuffer(s,n,i.sampleRate),r=e||1!==s?t:[t];for(let t=0;t<s;t++)o.copyToChannel(r[t],t);return this._buffer=o,this}toMono(t){if(ui(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let s=0;s<e;s++){const e=this.toArray(s);for(let s=0;s<e.length;s++)t[s]+=e[s]}t=t.map(t=>t/e),this.fromArray(t)}return this}toArray(t){if(ui(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const s=Math.floor(t*this.sampleRate),n=Math.floor(e*this.sampleRate);ti(s<n,\"The start time must be less than the end time\");const i=n-s,o=Ji().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)o.copyToChannel(this.getChannelData(t).subarray(s,n),t);return new Xi(o)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Xi).fromArray(t)}static fromUrl(t){return yi(this,void 0,void 0,(function*(){const e=new Xi;return yield e.load(t)}))}static load(t){return yi(this,void 0,void 0,(function*(){const e=t.match(/\\[([^\\]\\[]+\\|.+)\\]$/);if(e){const s=e[1].split(\"|\");let n=s[0];for(const t of s)if(Xi.supportsType(t)){n=t;break}t=t.replace(e[0],n)}const s=\"\"===Xi.baseUrl||Xi.baseUrl.endsWith(\"/\")?Xi.baseUrl:Xi.baseUrl+\"/\",n=yield fetch(s+t);if(!n.ok)throw new Error(\"could not load url: \"+t);const i=yield n.arrayBuffer();return yield Ji().decodeAudioData(i)}))}static supportsType(t){const e=t.split(\".\"),s=e[e.length-1];return\"\"!==document.createElement(\"audio\").canPlayType(\"audio/\"+s)}static loaded(){return yi(this,void 0,void 0,(function*(){for(yield Promise.resolve();Xi.downloads.length;)yield Xi.downloads[0]}))}}Xi.baseUrl=\"\",Xi.downloads=[];class Yi extends Gi{constructor(){var t,e,s;super({clockSource:\"offline\",context:Ti(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],s=arguments[2],new Gn(t,e,s)),lookAhead:0,updateInterval:Ti(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name=\"OfflineContext\",this._currentTime=0,this.isOffline=!0,this._duration=Ti(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return yi(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit(\"tick\"),this._currentTime+=128/this.sampleRate,e++;const s=Math.floor(this.sampleRate/128);t&&e%s==0&&(yield new Promise(t=>setTimeout(t,1)))}}))}render(t=!0){return yi(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Xi(e)}))}close(){return Promise.resolve()}}const Hi=new class extends Wi{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,s){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return yi(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let $i=Hi;function Ji(){return $i===Hi&&gi&&Ki(new Gi),$i}function Ki(t){$i=Si(t)?new Gi(t):Ti(t)?new Yi(t):t}function to(){return $i.resume()}if(mi&&!mi.TONE_SILENCE_LOGGING){let t=\"v\";\"dev\"===o&&(t=\"\");const e=` * Tone.js ${t}${o} * `;console.log(\"%c\"+e,\"background: #000; color: #fff\")}function eo(t){return Math.pow(10,t/20)}function so(t){return Math.log(t)/Math.LN10*20}function no(t){return Math.pow(2,t/12)}let io=440;function oo(t){return Math.round(ro(t))}function ro(t){return 69+12*Math.log2(t/io)}function ao(t){return io*Math.pow(2,(t-69)/12)}class co extends Ei{constructor(t,e,s){super(),this.defaultUnits=\"s\",this._val=e,this._units=s,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\\d+)m$/i},n:{method:(t,e)=>{const s=parseInt(t,10),n=\".\"===e?1.5:1;return 1===s?this._beatsToUnits(this._getTimeSignature())*n:this._beatsToUnits(4/s)*n},regexp:/^(\\d+)n(\\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\\d+(?:\\.\\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\\d+)t$/i},tr:{method:(t,e,s)=>{let n=0;return t&&\"0\"!==t&&(n+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&\"0\"!==e&&(n+=this._beatsToUnits(parseFloat(e))),s&&\"0\"!==s&&(n+=this._beatsToUnits(parseFloat(s)/4)),n},regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?$/}}}valueOf(){if(this._val instanceof co&&this.fromType(this._val),ai(this._val))return this._noArg();if(fi(this._val)&&ai(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(li(this._val)){let t=0;for(const e in this._val)if(ci(this._val[e])){const s=this._val[e];t+=new this.constructor(this.context,e).valueOf()*s}return t}if(ci(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return fi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case\"s\":this._val=t.toSeconds();break;case\"i\":this._val=t.toTicks();break;case\"hz\":this._val=t.toFrequency();break;case\"midi\":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class ho extends co{constructor(){super(...arguments),this.name=\"TimeClass\"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\\+(.+)/},quantize:{method:t=>{const e=new ho(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const s=new this.constructor(this.context,t).valueOf(),n=this.valueOf();return n+(Math.round(n/s)*s-n)*e}toNotation(){const t=this.toSeconds(),e=[\"1m\"];for(let t=1;t<9;t++){const s=Math.pow(2,t);e.push(s+\"n.\"),e.push(s+\"n\"),e.push(s+\"t\")}e.push(\"0\");let s=e[0],n=new ho(this.context,e[0]).toSeconds();return e.forEach(e=>{const i=new ho(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(n-t)&&(s=e,n=i)}),s}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const s=Math.floor(e/this._getTimeSignature());let n=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=n.toString();i.length>3&&(n=parseFloat(parseFloat(i).toFixed(3)));return[s,e,n].join(\":\")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return oo(this.toFrequency())}_now(){return this.context.now()}}function uo(t,e){return new ho(Ji(),t,e)}class lo extends ho{constructor(){super(...arguments),this.name=\"Frequency\",this.defaultUnits=\"hz\"}static get A4(){return io}static set A4(t){!function(t){io=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\\d+(?:\\.\\d+)?midi)/,method(t){return\"midi\"===this.defaultUnits?t:lo.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const s=po[t.toLowerCase()]+12*(parseInt(e,10)+1);return\"midi\"===this.defaultUnits?s:lo.mtof(s)}},tr:{regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?/,method(t,e,s){let n=1;return t&&\"0\"!==t&&(n*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&\"0\"!==e&&(n*=this._beatsToUnits(parseFloat(e))),s&&\"0\"!==s&&(n*=this._beatsToUnits(parseFloat(s)/4)),n}}})}transpose(t){return new lo(this.context,this.valueOf()*no(t))}harmonize(t){return t.map(t=>this.transpose(t))}toMidi(){return oo(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/lo.A4);let s=Math.round(12*e)+57;const n=Math.floor(s/12);n<0&&(s+=-12*n);return fo[s%12]+n.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return ao(t)}static ftom(t){return oo(t)}}const po={cbb:-2,cb:-1,c:0,\"c#\":1,cx:2,dbb:0,db:1,d:2,\"d#\":3,dx:4,ebb:2,eb:3,e:4,\"e#\":5,ex:6,fbb:3,fb:4,f:5,\"f#\":6,fx:7,gbb:5,gb:6,g:7,\"g#\":8,gx:9,abb:7,ab:8,a:9,\"a#\":10,ax:11,bbb:9,bb:10,b:11,\"b#\":12,bx:13},fo=[\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"];function _o(t,e){return new lo(Ji(),t,e)}class mo extends ho{constructor(){super(...arguments),this.name=\"TransportTime\"}_now(){return this.context.transport.seconds}}function go(t,e){return new mo(Ji(),t,e)}class vo extends Ei{constructor(){super();const t=Di(vo.getDefaults(),arguments,[\"context\"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Ji()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new ho(this.context,t).toSeconds()}toFrequency(t){return new lo(this.context,t).toFrequency()}toTicks(t){return new mo(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(s=>{ai(t[s])&&delete e[s]}),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const s=this[e];ci(s)&&ci(s.value)&&ci(s.setValueAtTime)?t[e]=s.value:s instanceof vo?t[e]=s._getPartialProperties(t[e]):di(s)||ui(s)||fi(s)||pi(s)?t[e]=s:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&ci(this[e])&&(this[e]&&ci(this[e].value)&&ci(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof vo?this[e].set(t[e]):this[e]=t[e])}),this}}class yo extends Ni{constructor(t=\"stopped\"){super(),this.name=\"StateTimeline\",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,s){return ei(e,0),this.add(Object.assign({},s,{state:t,time:e})),this}getLastState(t,e){for(let s=this._search(e);s>=0;s--){const e=this._timeline[s];if(e.state===t)return e}}getNextState(t,e){const s=this._search(e);if(-1!==s)for(let e=s;e<this._timeline.length;e++){const s=this._timeline[e];if(s.state===t)return s}}}class xo extends vo{constructor(){super(Di(xo.getDefaults(),arguments,[\"param\",\"units\",\"convert\"])),this.name=\"Param\",this.overridden=!1,this._minOutput=1e-7;const t=Di(xo.getDefaults(),arguments,[\"param\",\"units\",\"convert\"]);for(ti(ci(t.param)&&(wi(t.param)||t.param instanceof xo),\"param must be an AudioParam\");!wi(t.param);)t.param=t.param._param;this._swappable=!!ci(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Ni(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,ci(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(vo.getDefaults(),{convert:!0,units:\"number\"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return ci(this._minValue)?this._minValue:\"time\"===this.units||\"frequency\"===this.units||\"normalRange\"===this.units||\"positive\"===this.units||\"transportTime\"===this.units||\"ticks\"===this.units||\"bpm\"===this.units||\"hertz\"===this.units||\"samples\"===this.units?0:\"audioRange\"===this.units?-1:\"decibels\"===this.units?-1/0:this._param.minValue}get maxValue(){return ci(this._maxValue)?this._maxValue:\"normalRange\"===this.units||\"audioRange\"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return ci(this.maxValue)&&ci(this.minValue)&&ei(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,\"time\")?this.toSeconds(t):this._is(t,\"decibels\")?eo(t):this._is(t,\"frequency\")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&\"decibels\"===this.units?so(t):t}setValueAtTime(t,e){const s=this.toSeconds(e),n=this._fromType(t);return ti(isFinite(n)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this.log(this.units,\"setValueAtTime\",t,s),this._events.add({time:s,type:\"setValueAtTime\",value:n}),this._param.setValueAtTime(n,s),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),s=this._events.getAfter(e),n=this._events.get(e);let i=this._initialValue;if(null===n)i=this._initialValue;else if(\"setTargetAtTime\"!==n.type||null!==s&&\"setValueAtTime\"!==s.type)if(null===s)i=n.value;else if(\"linearRampToValueAtTime\"===s.type||\"exponentialRampToValueAtTime\"===s.type){let t=n.value;if(\"setTargetAtTime\"===n.type){const e=this._events.getBefore(n.time);t=null===e?this._initialValue:e.value}i=\"linearRampToValueAtTime\"===s.type?this._linearInterpolate(n.time,t,s.time,s.value,e):this._exponentialInterpolate(n.time,t,s.time,s.value,e)}else i=n.value;else{const t=this._events.getBefore(n.time);let s;s=null===t?this._initialValue:t.value,\"setTargetAtTime\"===n.type&&(i=this._exponentialApproach(n.time,s,n.value,n.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const s=this._fromType(t),n=this.toSeconds(e);return ti(isFinite(s)&&isFinite(n),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this._events.add({time:n,type:\"linearRampToValueAtTime\",value:s}),this.log(this.units,\"linearRampToValueAtTime\",t,n),this._param.linearRampToValueAtTime(s,n),this}exponentialRampToValueAtTime(t,e){let s=this._fromType(t);s=Ii(s,0)?this._minOutput:s,this._assertRange(s);const n=this.toSeconds(e);return ti(isFinite(s)&&isFinite(n),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:n,type:\"exponentialRampToValueAtTime\",value:s}),this.log(this.units,\"exponentialRampToValueAtTime\",t,n),this._param.exponentialRampToValueAtTime(s,n),this}exponentialRampTo(t,e,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(t,s+this.toSeconds(e)),this}linearRampTo(t,e,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(t,s+this.toSeconds(e)),this}targetRampTo(t,e,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(t,s,e),this}exponentialApproachValueAtTime(t,e,s){e=this.toSeconds(e),s=this.toSeconds(s);const n=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(t,e,n),this.cancelAndHoldAtTime(e+.9*s),this.linearRampToValueAtTime(t,e+s),this}setTargetAtTime(t,e,s){const n=this._fromType(t);ti(isFinite(s)&&s>0,\"timeConstant must be a number greater than 0\");const i=this.toSeconds(e);return this._assertRange(n),ti(isFinite(n)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:s,time:i,type:\"setTargetAtTime\",value:n}),this.log(this.units,\"setTargetAtTime\",t,i,s),this._param.setTargetAtTime(n,i,s),this}setValueCurveAtTime(t,e,s,n=1){s=this.toSeconds(s),e=this.toSeconds(e);const i=this._fromType(t[0])*n;this.setValueAtTime(this._toType(i),e);const o=s/(t.length-1);for(let s=1;s<t.length;s++){const i=this._fromType(t[s])*n;this.linearRampToValueAtTime(this._toType(i),e+s*o)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return ti(isFinite(e),\"Invalid argument to cancelScheduledValues: \"+JSON.stringify(t)),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,\"cancelScheduledValues\",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),s=this._fromType(this.getValueAtTime(e));ti(isFinite(e),\"Invalid argument to cancelAndHoldAtTime: \"+JSON.stringify(t)),this.log(this.units,\"cancelAndHoldAtTime\",e,\"value=\"+s);const n=this._events.get(e),i=this._events.getAfter(e);return n&&Ii(n.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),\"linearRampToValueAtTime\"===i.type?this.linearRampToValueAtTime(this._toType(s),e):\"exponentialRampToValueAtTime\"===i.type&&this.exponentialRampToValueAtTime(this._toType(s),e)),this._events.add({time:e,type:\"setValueAtTime\",value:s}),this._param.setValueAtTime(s,e),this}rampTo(t,e=.1,s){return\"frequency\"===this.units||\"bpm\"===this.units||\"decibels\"===this.units?this.exponentialRampTo(t,e,s):this.linearRampTo(t,e,s),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const s=this._events.get(e);if(s&&\"setTargetAtTime\"===s.type){const n=this._events.getAfter(s.time),i=n?n.time:e+2,o=(i-e)/10;for(let s=e;s<i;s+=o)t.linearRampToValueAtTime(this.getValueAtTime(s),s)}return this._events.forEachAfter(this.context.currentTime,e=>{\"cancelScheduledValues\"===e.type?t.cancelScheduledValues(e.time):\"setTargetAtTime\"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)}),this}setParam(t){ti(this._swappable,\"The Param must be assigned as 'swappable' in the constructor\");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,s,n,i){return s+(e-s)*Math.exp(-(i-t)/n)}_linearInterpolate(t,e,s,n,i){return e+(i-t)/(s-t)*(n-e)}_exponentialInterpolate(t,e,s,n,i){return e*Math.pow(n/e,(i-t)/(s-t))}}class wo extends vo{constructor(){super(...arguments),this.name=\"ToneAudioNode\",this._internalChannels=[]}get numberOfInputs(){return ci(this.input)?wi(this.input)||this.input instanceof xo?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ci(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return ci(t)&&(t instanceof wo||bi(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();ti(t.length>0,\"ToneAudioNode does not have any internal nodes\");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,s=0){return To(this,t,e,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ri(\"toMaster() has been renamed toDestination()\"),this.toDestination()}disconnect(t,e=0,s=0){return So(this,t,e,s),this}chain(...t){return bo(this,...t),this}fan(...t){return t.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),ci(this.input)&&(this.input instanceof wo?this.input.dispose():bi(this.input)&&this.input.disconnect()),ci(this.output)&&(this.output instanceof wo?this.output.dispose():bi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function bo(...t){const e=t.shift();t.reduce((t,e)=>(t instanceof wo?t.connect(e):bi(t)&&To(t,e),e),e)}function To(t,e,s=0,n=0){for(ti(ci(t),\"Cannot connect from undefined node\"),ti(ci(e),\"Cannot connect to undefined node\"),(e instanceof wo||bi(e))&&ti(e.numberOfInputs>0,\"Cannot connect to node with no inputs\"),ti(t.numberOfOutputs>0,\"Cannot connect from node with no outputs\");e instanceof wo||e instanceof xo;)ci(e.input)&&(e=e.input);for(;t instanceof wo;)ci(t.output)&&(t=t.output);wi(e)?t.connect(e,s):t.connect(e,s,n)}function So(t,e,s=0,n=0){if(ci(e))for(;e instanceof wo;)e=e.input;for(;!bi(t);)ci(t.output)&&(t=t.output);wi(e)?t.disconnect(e,s):bi(e)?t.disconnect(e,s,n):t.disconnect()}class ko extends wo{constructor(){super(Di(ko.getDefaults(),arguments,[\"gain\",\"units\"])),this.name=\"Gain\",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Di(ko.getDefaults(),arguments,[\"gain\",\"units\"]);this.gain=new xo({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ui(this,\"gain\")}static getDefaults(){return Object.assign(wo.getDefaults(),{convert:!0,gain:1,units:\"gain\"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Co extends wo{constructor(t){super(t),this.onended=Zi,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ko({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?\"started\":\"stopped\"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(wo.getDefaults(),{curve:\"linear\",fadeIn:0,fadeOut:0,onended:Zi})}_startGain(t,e=1){ti(-1===this._startTime,\"Source cannot be started more than once\");const s=this.toSeconds(this._fadeIn);return this._startTime=t+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,t),\"linear\"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+s):this._gainNode.gain.exponentialApproachValueAtTime(e,t,s)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log(\"stop\",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){ti(-1!==this._startTime,\"'start' must be called before 'stop'\"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?\"linear\"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t=\"exponential\"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Zi&&(this.onended(this),this.onended=Zi,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log(\"cancelStop\"),ti(-1!==this._startTime,\"Source is not started\"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Ao extends Co{constructor(){super(Di(Ao.getDefaults(),arguments,[\"offset\"])),this.name=\"ToneConstantSource\",this._source=this.context.createConstantSource();const t=Di(Ao.getDefaults(),arguments,[\"offset\"]);To(this._source,this._gainNode),this.offset=new xo({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Co.getDefaults(),{convert:!0,offset:1,units:\"number\"})}start(t){const e=this.toSeconds(t);return this.log(\"start\",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),\"started\"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Do extends wo{constructor(){super(Di(Do.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"Signal\",this.override=!0;const t=Di(Do.getDefaults(),arguments,[\"value\",\"units\"]);this.output=this._constantSource=new Ao({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(wo.getDefaults(),{convert:!0,units:\"number\",value:0})}connect(t,e=0,s=0){return Oo(this,t,e,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,s){return this._param.exponentialRampTo(t,e,s),this}linearRampTo(t,e,s){return this._param.linearRampTo(t,e,s),this}targetRampTo(t,e,s){return this._param.targetRampTo(t,e,s),this}exponentialApproachValueAtTime(t,e,s){return this._param.exponentialApproachValueAtTime(t,e,s),this}setTargetAtTime(t,e,s){return this._param.setTargetAtTime(t,e,s),this}setValueCurveAtTime(t,e,s,n){return this._param.setValueCurveAtTime(t,e,s,n),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,s){return this._param.rampTo(t,e,s),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Oo(t,e,s,n){(e instanceof xo||wi(e)||e instanceof Do&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Do&&(e.overridden=!0)),To(t,e,s,n)}class Mo extends xo{constructor(){super(Di(Mo.getDefaults(),arguments,[\"value\"])),this.name=\"TickParam\",this._events=new Ni(1/0),this._multiplier=1;const t=Di(Mo.getDefaults(),arguments,[\"value\"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:\"setValueAtTime\",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(xo.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}setTargetAtTime(t,e,s){e=this.toSeconds(e),this.setRampPoint(e);const n=this._fromType(t),i=this._events.get(e),o=Math.round(Math.max(1/s,1));for(let t=0;t<=o;t++){const o=s*t+e,r=this._exponentialApproach(i.time,i.value,n,s,o);this.linearRampToValueAtTime(this._toType(r),o)}return this}setValueAtTime(t,e){const s=this.toSeconds(e);super.setValueAtTime(t,e);const n=this._events.get(s),i=this._events.previousEvent(n),o=this._getTicksUntilEvent(i,s);return n.ticks=Math.max(o,0),this}linearRampToValueAtTime(t,e){const s=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const n=this._events.get(s),i=this._events.previousEvent(n),o=this._getTicksUntilEvent(i,s);return n.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const s=this._fromType(t),n=this._events.get(e),i=Math.round(Math.max(10*(e-n.time),1)),o=(e-n.time)/i;for(let t=0;t<=i;t++){const i=o*t+n.time,r=this._exponentialInterpolate(n.time,n.value,e,s,i);this.linearRampToValueAtTime(this._toType(r),i)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:\"setValueAtTime\",value:0};else if(ai(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const s=this._fromType(this.getValueAtTime(t.time));let n=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&\"setValueAtTime\"===i.type&&(n=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(s+n)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),s=this._events.get(e);return Math.max(this._getTicksUntilEvent(s,e),0)}getDurationOfTicks(t,e){const s=this.toSeconds(e),n=this.getTicksAtTime(e);return this.getTimeOfTick(n+t)-s}getTimeOfTick(t){const e=this._events.get(t,\"ticks\"),s=this._events.getAfter(t,\"ticks\");if(e&&e.ticks===t)return e.time;if(e&&s&&\"linearRampToValueAtTime\"===s.type&&e.value!==s.value){const n=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(s.time))-n)/(s.time-e.time),o=Math.sqrt(Math.pow(n,2)-2*i*(e.ticks-t)),r=(-n+o)/i,a=(-n-o)/i;return(r>0?r:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const s=this.toSeconds(e),n=this.toSeconds(t),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+n)-i}_fromType(t){return\"bpm\"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return\"bpm\"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Eo extends Do{constructor(){super(Di(Eo.getDefaults(),arguments,[\"value\"])),this.name=\"TickSignal\";const t=Di(Eo.getDefaults(),arguments,[\"value\"]);this.input=this._param=new Mo({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Do.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Ro extends vo{constructor(){super(Di(Ro.getDefaults(),arguments,[\"frequency\"])),this.name=\"TickSource\",this._state=new yo,this._tickOffset=new Ni;const t=Di(Ro.getDefaults(),arguments,[\"frequency\"]);this.frequency=new Eo({context:this.context,units:t.units,value:t.frequency}),Ui(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:\"hertz\"},vo.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const s=this.toSeconds(t);return\"started\"!==this._state.getValueAtTime(s)&&(this._state.setStateAtTime(\"started\",s),ci(e)&&this.setTicksAtTime(e,s)),this}stop(t){const e=this.toSeconds(t);if(\"stopped\"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime(\"stopped\",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return\"started\"===this._state.getValueAtTime(e)&&this._state.setStateAtTime(\"paused\",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),s=this._state.getLastState(\"stopped\",e),n={state:\"paused\",time:e};this._state.add(n);let i=s,o=0;return this._state.forEachBetween(s.time,e+this.sampleTime,t=>{let e=i.time;const s=this._tickOffset.get(t.time);s&&s.time>=i.time&&(o=s.ticks,e=s.time),\"started\"===i.state&&\"started\"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t}),this._state.remove(n),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),s=this.frequency.timeToTicks(t,e);this.setTicksAtTime(s,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState(\"stopped\",t),s={state:\"paused\",time:t};this._state.add(s);let n=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,t=>{let e=n.time;const s=this._tickOffset.get(t.time);s&&s.time>=n.time&&(i=s.seconds,e=s.time),\"started\"===n.state&&\"started\"!==t.state&&(i+=t.time-e),n=t}),this._state.remove(s),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const s=this._tickOffset.get(e),n=this._state.get(e),i=Math.max(s.time,n.time),o=this.frequency.getTicksAtTime(i)+t-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(t,e,s){let n=this._state.get(t);this._state.forEachBetween(t,e,e=>{n&&\"started\"===n.state&&\"started\"!==e.state&&this.forEachTickBetween(Math.max(n.time,t),e.time-this.sampleTime,s),n=e});let i=null;if(n&&\"started\"===n.state){const o=Math.max(n.time,t),r=this.frequency.getTicksAtTime(o),a=r-this.frequency.getTicksAtTime(n.time);let c=Math.ceil(a)-a;c=Ii(c,1)?0:c;let h=this.frequency.getTimeOfTick(r+c);for(;h<e;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(t){i=t;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class qo extends vo{constructor(){super(Di(qo.getDefaults(),arguments,[\"callback\",\"frequency\"])),this.name=\"Clock\",this.callback=Zi,this._lastUpdate=0,this._state=new yo(\"stopped\"),this._boundLoop=this._loop.bind(this);const t=Di(qo.getDefaults(),arguments,[\"callback\",\"frequency\"]);this.callback=t.callback,this._tickSource=new Ro({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ui(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.context.on(\"tick\",this._boundLoop)}static getDefaults(){return Object.assign(vo.getDefaults(),{callback:Zi,frequency:1,units:\"hertz\"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){si(this.context);const s=this.toSeconds(t);return this.log(\"start\",s),\"started\"!==this._state.getValueAtTime(s)&&(this._state.setStateAtTime(\"started\",s),this._tickSource.start(s,e),s<this._lastUpdate&&this.emit(\"start\",s,e)),this}stop(t){const e=this.toSeconds(t);return this.log(\"stop\",e),this._state.cancel(e),this._state.setStateAtTime(\"stopped\",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit(\"stop\",e),this}pause(t){const e=this.toSeconds(t);return\"started\"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime(\"paused\",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit(\"pause\",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const s=this.toSeconds(e),n=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(n+t,s)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log(\"loop\",t,e),t!==e&&(this._state.forEachBetween(t,e,t=>{switch(t.state){case\"started\":const e=this._tickSource.getTicksAtTime(t.time);this.emit(\"start\",t.time,e);break;case\"stopped\":0!==t.time&&this.emit(\"stop\",t.time);break;case\"paused\":this.emit(\"pause\",t.time)}}),this._tickSource.forEachTickBetween(t,e,(t,e)=>{this.callback(t,e)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off(\"tick\",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Bi.mixin(qo);class Fo extends wo{constructor(){super(Di(Fo.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"])),this.name=\"Delay\";const t=Di(Fo.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new xo({context:this.context,param:this._delayNode.delayTime,units:\"time\",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ui(this,\"delayTime\")}static getDefaults(){return Object.assign(wo.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function Io(t,e,s=2,n=Ji().sampleRate){return yi(this,void 0,void 0,(function*(){const i=Ji(),o=new Yi(s,e,n);Ki(o),yield t(o);const r=o.render();Ki(i);const a=yield r;return new Xi(a)}))}class Vo extends Ei{constructor(){super(),this.name=\"ToneAudioBuffers\",this._buffers=new Map,this._loadingCount=0;const t=Di(Vo.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const s=t.urls[e];this.add(e,s,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:\"\",onerror:Zi,onload:Zi,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return ti(this.has(t),\"ToneAudioBuffers has no buffer named: \"+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,s=Zi,n=Zi){return fi(e)?this._buffers.set(t.toString(),new Xi(this.baseUrl+e,s,n)):this._buffers.set(t.toString(),new Xi(e,s,n)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class No extends lo{constructor(){super(...arguments),this.name=\"MidiClass\",this.defaultUnits=\"midi\"}_frequencyToUnits(t){return oo(super._frequencyToUnits(t))}_ticksToUnits(t){return oo(super._ticksToUnits(t))}_beatsToUnits(t){return oo(super._beatsToUnits(t))}_secondsToUnits(t){return oo(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return ao(this.toMidi())}transpose(t){return new No(this.context,this.toMidi()+t)}}function Po(t,e){return new No(Ji(),t,e)}class jo extends mo{constructor(){super(...arguments),this.name=\"Ticks\",this.defaultUnits=\"i\"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function Lo(t,e){return new jo(Ji(),t,e)}class zo extends vo{constructor(){super(...arguments),this.name=\"Draw\",this.expiration=.25,this.anticipation=.008,this._events=new Ni,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ji(t=>{t.draw=new zo({context:t})}),zi(t=>{t.draw.dispose()});class Bo extends Ei{constructor(){super(...arguments),this.name=\"IntervalTimeline\",this._root=null,this._length=0}add(t){ti(ci(t.time),\"Events must have a time property\"),ti(ci(t.duration),\"Events must have a duration parameter\"),t.time=t.time.valueOf();let e=new Wo(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const s of e)if(s.event===t){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,t=>this.remove(t)),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,s=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,s=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,s=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,s=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,s=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),s&&this._rebalance(s)}t.dispose()}_rotateLeft(t){const e=t.parent,s=t.isLeftChild(),n=t.right;n&&(t.right=n.left,n.left=t),null!==e?s?e.left=n:e.right=n:this._setRoot(n)}_rotateRight(t){const e=t.parent,s=t.isLeftChild(),n=t.left;n&&(t.left=n.right,n.right=t),null!==e?s?e.left=n:e.right=n:this._setRoot(n)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let s=1;s<e.length;s++)e[s].low>t.low&&(t=e[s]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse(t=>e.push(t)),e.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,e){if(null!==this._root){const s=[];this._root.search(t,s),s.forEach(t=>{t.event&&e(t.event)})}return this}forEachFrom(t,e){if(null!==this._root){const s=[];this._root.searchAfter(t,s),s.forEach(t=>{t.event&&e(t.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Wo{constructor(t,e,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Go extends wo{constructor(){super(Di(Go.getDefaults(),arguments,[\"volume\"])),this.name=\"Volume\";const t=Di(Go.getDefaults(),arguments,[\"volume\"]);this.input=this.output=new ko({context:this.context,gain:t.volume,units:\"decibels\"}),this.volume=this.output.gain,Ui(this,\"volume\"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(wo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Uo extends wo{constructor(){super(Di(Uo.getDefaults(),arguments)),this.name=\"Destination\",this.input=new Go({context:this.context}),this.output=new ko({context:this.context}),this.volume=this.input.volume;const t=Di(Uo.getDefaults(),arguments);bo(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(wo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),bo(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ji(t=>{t.destination=new Uo({context:t})}),zi(t=>{t.destination.dispose()});class Qo extends Ei{constructor(t){super(),this.name=\"TimelineValue\",this._timeline=new Ni({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Zo{constructor(t,e){this.id=Zo._eventId++;const s=Object.assign(Zo.getDefaults(),e);this.transport=t,this.callback=s.callback,this._once=s.once,this.time=s.time}static getDefaults(){return{callback:Zi,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Zo._eventId=0;class Xo extends Zo{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Xo.getDefaults(),e);this.duration=new jo(t.context,s.duration).valueOf(),this._interval=new jo(t.context,s.interval).valueOf(),this._nextTick=s.time,this.transport.on(\"start\",this._boundRestart),this.transport.on(\"loopStart\",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Zo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new jo(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new jo(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new jo(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off(\"start\",this._boundRestart),this.transport.off(\"loopStart\",this._boundRestart),this}}class Yo extends vo{constructor(){super(Di(Yo.getDefaults(),arguments)),this.name=\"Transport\",this._loop=new Qo(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ni,this._repeatedEvents=new Bo,this._syncedSignals=[],this._swingAmount=0;const t=Di(Yo.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new qo({callback:this._processTick.bind(this),context:this.context,frequency:0,units:\"bpm\"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ui(this,\"bpm\"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(vo.getDefaults(),{bpm:120,loopEnd:\"4m\",loopStart:0,ppq:192,swing:0,swingSubdivision:\"8n\",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit(\"loopEnd\",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit(\"loopStart\",t,this._clock.getSecondsAtTime(t)),this.emit(\"loop\",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const s=e%(2*this._swingTicks)/(2*this._swingTicks),n=Math.sin(s*Math.PI)*this._swingAmount;t+=new jo(this.context,2*this._swingTicks/3).toSeconds()*n}this._timeline.forEachAtTime(e,e=>e.invoke(t))}schedule(t,e){const s=new Zo(this,{callback:t,time:new mo(this.context,e).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(t,e,s,n=1/0){const i=new Xo(this,{callback:t,duration:new ho(this.context,n).toTicks(),interval:new ho(this.context,e).toTicks(),time:new mo(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const s=new Zo(this,{callback:t,once:!0,time:new mo(this.context,e).toTicks()});return this._addEvent(s,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(e,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on(\"start\",(t,e)=>{e=new jo(this.context,e).toSeconds(),this.emit(\"start\",t,e)}),this._clock.on(\"stop\",t=>{this.emit(\"stop\",t)}),this._clock.on(\"pause\",t=>{this.emit(\"pause\",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let s;return ci(e)&&(s=this.toTicks(e)),this._clock.start(t,s),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),\"started\"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){di(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new ho(this.context,this._loopStart,\"i\").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new ho(this.context,this._loopEnd,\"i\").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new jo(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new jo(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),s=this._clock.frequency.timeToTicks(t,e);this.ticks=s}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if(\"started\"===this.state){const s=this._clock.getTicksAtTime(e),n=e+this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,e);this.emit(\"stop\",n),this._clock.setTicksAtTime(t,n),this.emit(\"start\",n,this._clock.getSecondsAtTime(n))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),\"started\"!==this.state)return 0;{const e=this.now(),s=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(s,e)}}syncSignal(t,e){if(!e){const s=this.now();if(0!==t.getValueAtTime(s)){const n=1/(60/this.bpm.getValueAtTime(s)/this.PPQ);e=t.getValueAtTime(s)/n}else e=0}const s=new ko(e);return this.bpm.connect(s),s.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:s,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const s=this._syncedSignals[e];s.signal===t&&(s.ratio.dispose(),s.signal.value=s.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Qi(this,\"bpm\"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Bi.mixin(Yo),ji(t=>{t.transport=new Yo({context:t})}),zi(t=>{t.transport.dispose()});class Ho extends wo{constructor(t){super(t),this.input=void 0,this._state=new yo(\"stopped\"),this._synced=!1,this._scheduled=[],this._syncedStart=Zi,this._syncedStop=Zi,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Go({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ui(this,\"volume\"),this.onstop=t.onstop}static getDefaults(){return Object.assign(wo.getDefaults(),{mute:!1,onstop:Zi,volume:0})}get state(){return this._synced?\"started\"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):\"stopped\":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,s){let n=ai(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(n=this._clampToCurrentTime(n),this._synced||\"started\"!==this._state.getValueAtTime(n))if(this.log(\"start\",n),this._state.setStateAtTime(\"started\",n),this._synced){const t=this._state.get(n);t&&(t.offset=this.toSeconds(Oi(e,0)),t.duration=s?this.toSeconds(s):void 0);const i=this.context.transport.schedule(t=>{this._start(t,e,s)},n);this._scheduled.push(i),\"started\"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>n&&this._syncedStart(this.now(),this.context.transport.seconds)}else si(this.context),this._start(n,e,s);else ti(Ri(n,this._state.get(n).time),\"Start time must be strictly greater than previous start time\"),this._state.cancel(n),this._state.setStateAtTime(\"started\",n),this.log(\"restart\",n),this.restart(n,e,s);return this}stop(t){let e=ai(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),\"started\"===this._state.getValueAtTime(e)||ci(this._state.getNextState(\"started\",e))){if(this.log(\"stop\",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime(\"stopped\",e)}return this}restart(t,e,s){return t=this.toSeconds(t),\"started\"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const s=this._state.get(e);if(s&&\"started\"===s.state&&s.time!==e){const n=e-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-n),this._start(t,this.toSeconds(s.offset)+n,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));\"started\"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on(\"start\",this._syncedStart),this.context.transport.on(\"loopStart\",this._syncedStart),this.context.transport.on(\"stop\",this._syncedStop),this.context.transport.on(\"pause\",this._syncedStop),this.context.transport.on(\"loopEnd\",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off(\"stop\",this._syncedStop),this.context.transport.off(\"pause\",this._syncedStop),this.context.transport.off(\"loopEnd\",this._syncedStop),this.context.transport.off(\"start\",this._syncedStart),this.context.transport.off(\"loopStart\",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Zi,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class $o extends Co{constructor(){super(Di($o.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"ToneBufferSource\",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Di($o.getDefaults(),arguments,[\"url\",\"onload\"]);To(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new xo({context:this.context,param:this._source.playbackRate,units:\"positive\",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Xi(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Co.getDefaults(),{url:new Xi,loop:!1,loopEnd:0,loopStart:0,onload:Zi,onerror:Zi,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,s,n=1){ti(this.buffer.loaded,\"buffer is either not set or not loaded\");const i=this.toSeconds(t);this._startGain(i,n),e=this.loop?Oi(e,this.loopStart):Oi(e,0);let o=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),s=t-e;qi(o,t)&&(o=(o-e)%s+e),Ii(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Fi(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),ci(s)){let t=this.toSeconds(s);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Jo extends Ho{constructor(){super(Di(Jo.getDefaults(),arguments,[\"type\"])),this.name=\"Noise\",this._source=null;const t=Di(Jo.getDefaults(),arguments,[\"type\"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Ho.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:\"white\"})}get type(){return this._type}set type(t){if(ti(t in tr,\"Noise: invalid type: \"+t),this._type!==t&&(this._type=t,\"started\"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=tr[this._type];this._source=new $o({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ko={brown:null,pink:null,white:null},tr={get brown(){if(!Ko.brown){const t=[];for(let e=0;e<2;e++){const s=new Float32Array(220500);t[e]=s;let n=0;for(let t=0;t<220500;t++){const e=2*Math.random()-1;s[t]=(n+.02*e)/1.02,n=s[t],s[t]*=3.5}}Ko.brown=(new Xi).fromArray(t)}return Ko.brown},get pink(){if(!Ko.pink){const t=[];for(let e=0;e<2;e++){const s=new Float32Array(220500);let n,i,o,r,a,c,h;t[e]=s,n=i=o=r=a=c=h=0;for(let t=0;t<220500;t++){const e=2*Math.random()-1;n=.99886*n+.0555179*e,i=.99332*i+.0750759*e,o=.969*o+.153852*e,r=.8665*r+.3104856*e,a=.55*a+.5329522*e,c=-.7616*c-.016898*e,s[t]=n+i+o+r+a+c+h+.5362*e,s[t]*=.11,h=.115926*e}}Ko.pink=(new Xi).fromArray(t)}return Ko.pink},get white(){if(!Ko.white){const t=[];for(let e=0;e<2;e++){const s=new Float32Array(220500);t[e]=s;for(let t=0;t<220500;t++)s[t]=2*Math.random()-1}Ko.white=(new Xi).fromArray(t)}return Ko.white}};class er extends wo{constructor(){super(Di(er.getDefaults(),arguments,[\"volume\"])),this.name=\"UserMedia\";const t=Di(er.getDefaults(),arguments,[\"volume\"]);this._volume=this.output=new Go({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ui(this,\"volume\"),this.mute=t.mute}static getDefaults(){return Object.assign(wo.getDefaults(),{mute:!1,volume:0})}open(t){return yi(this,void 0,void 0,(function*(){ti(er.supported,\"UserMedia is not supported\"),\"started\"===this.state&&this.close();const e=yield er.enumerateDevices();ui(t)?this._device=e[t]:(this._device=e.find(e=>e.label===t||e.deviceId===t),!this._device&&e.length>0&&(this._device=e[0]),ti(ci(this._device),\"No matching device \"+t));const s={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(s.audio.deviceId=this._device.deviceId);const n=yield navigator.mediaDevices.getUserMedia(s);if(!this._stream){this._stream=n;const t=this.context.createMediaStreamSource(n);To(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(t=>{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return yi(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(t=>\"audioinput\"===t.kind)}))}get state(){return this._stream&&this._stream.active?\"started\":\"stopped\"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return ci(navigator.mediaDevices)&&ci(navigator.mediaDevices.getUserMedia)}}function sr(t,e){return yi(this,void 0,void 0,(function*(){const s=e/t.context.sampleRate,n=new Yi(1,s,t.context.sampleRate);new t.constructor(Object.assign(t.get(),{frequency:2/s,detune:0,context:n})).toDestination().start(0);return(yield n.render()).getChannelData(0)}))}class nr extends Co{constructor(){super(Di(nr.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"ToneOscillatorNode\",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Di(nr.getDefaults(),arguments,[\"frequency\",\"type\"]);To(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new xo({context:this.context,param:this._oscillator.frequency,units:\"frequency\",value:t.frequency}),this.detune=new xo({context:this.context,param:this._oscillator.detune,units:\"cents\",value:t.detune}),Ui(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Co.getDefaults(),{detune:0,frequency:440,type:\"sine\"})}start(t){const e=this.toSeconds(t);return this.log(\"start\",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),\"started\"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ir extends Ho{constructor(){super(Di(ir.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"Oscillator\",this._oscillator=null;const t=Di(ir.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new Do({context:this.context,units:\"frequency\",value:t.frequency}),Ui(this,\"frequency\"),this.detune=new Do({context:this.context,units:\"cents\",value:t.detune}),Ui(this,\"detune\"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&\"custom\"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Ho.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:\"sine\"})}_start(t){const e=this.toSeconds(t),s=new nr({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log(\"restart\",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(\"custom\"===this._type){return ir._periodicWaveCache.find(t=>{return t.phase===this._phase&&(e=t.partials,s=this._partials,e.length===s.length&&e.every((t,e)=>s[e]===t));var e,s})}{const t=ir._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==[\"sine\",\"square\",\"sawtooth\",\"triangle\"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(ci(e)){const{partials:t,wave:s}=e;this._wave=s,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,s]=this._getRealImaginary(t,this._phase),n=this.context.createPeriodicWave(e,s);this._wave=n,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),ir._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),ir._periodicWaveCache.length>100&&ir._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),\"\")}set baseType(t){this.partialCount&&\"custom\"!==this._type&&\"custom\"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ei(t,0);let e=this._type;const s=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(this._type);if(s&&(e=s[1]),\"custom\"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach((t,s)=>e[s]=t),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let s=2048;const n=new Float32Array(s),i=new Float32Array(s);let o=1;if(\"custom\"===t){if(o=this._partials.length+1,this._partialCount=this._partials.length,s=o,0===this._partials.length)return[n,i]}else{const e=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(t);e?(o=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],o=Math.max(o,2),s=o):this._partialCount=0,this._partials=[]}for(let r=1;r<s;++r){const s=2/(r*Math.PI);let a;switch(t){case\"sine\":a=r<=o?1:0,this._partials[r-1]=a;break;case\"square\":a=1&r?2*s:0,this._partials[r-1]=a;break;case\"sawtooth\":a=s*(1&r?1:-1),this._partials[r-1]=a;break;case\"triangle\":a=1&r?s*s*2*(r-1>>1&1?-1:1):0,this._partials[r-1]=a;break;case\"custom\":a=this._partials[r-1];break;default:throw new TypeError(\"Oscillator: invalid type: \"+t)}0!==a?(n[r]=-a*Math.sin(e*r),i[r]=a*Math.cos(e*r)):(n[r]=0,i[r]=0)}return[n,i]}_inverseFFT(t,e,s){let n=0;const i=t.length;for(let o=0;o<i;o++)n+=t[o]*Math.cos(o*s)+e[o]*Math.sin(o*s);return n}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let s=0;const n=2*Math.PI;for(let i=0;i<32;i++)s=Math.max(this._inverseFFT(t,e,i/32*n),s);return Vi(-this._inverseFFT(t,e,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type=\"custom\")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return yi(this,void 0,void 0,(function*(){return sr(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ir._periodicWaveCache=[];class or extends wo{constructor(){super(Object.assign(Di(or.getDefaults(),arguments,[\"context\"])))}connect(t,e=0,s=0){return Oo(this,t,e,s),this}}class rr extends or{constructor(){super(Object.assign(Di(rr.getDefaults(),arguments,[\"mapping\",\"length\"]))),this.name=\"WaveShaper\",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Di(rr.getDefaults(),arguments,[\"mapping\",\"length\"]);di(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):hi(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Do.getDefaults(),{length:1024})}setMap(t,e=1024){const s=new Float32Array(e);for(let n=0,i=e;n<i;n++){const e=n/(i-1)*2-1;s[n]=t(e,n)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){ti([\"none\",\"2x\",\"4x\"].some(e=>e.includes(t)),\"oversampling must be either 'none', '2x', or '4x'\"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ar extends or{constructor(){super(...arguments),this.name=\"AudioToGain\",this._norm=new rr({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class cr extends Do{constructor(){super(Object.assign(Di(cr.getDefaults(),arguments,[\"value\"]))),this.name=\"Multiply\",this.override=!1;const t=Di(cr.getDefaults(),arguments,[\"value\"]);this._mult=this.input=this.output=new ko({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Do.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class hr extends Ho{constructor(){super(Di(hr.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"AMOscillator\",this._modulationScale=new ar({context:this.context}),this._modulationNode=new ko({context:this.context});const t=Di(hr.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new ir({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ir({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new cr({context:this.context,units:\"positive\",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ui(this,[\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(ir.getDefaults(),{harmonicity:1,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return yi(this,void 0,void 0,(function*(){return sr(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ur extends Ho{constructor(){super(Di(ur.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"FMOscillator\",this._modulationNode=new ko({context:this.context,gain:0});const t=Di(ur.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new ir({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Do({context:this.context,units:\"frequency\",value:t.frequency}),this._modulator=new ir({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new cr({context:this.context,units:\"positive\",value:t.harmonicity}),this.modulationIndex=new cr({context:this.context,units:\"positive\",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ui(this,[\"modulationIndex\",\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(ir.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return yi(this,void 0,void 0,(function*(){return sr(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class lr extends Ho{constructor(){super(Di(lr.getDefaults(),arguments,[\"frequency\",\"width\"])),this.name=\"PulseOscillator\",this._widthGate=new ko({context:this.context,gain:0}),this._thresh=new rr({context:this.context,mapping:t=>t<=0?-1:1});const t=Di(lr.getDefaults(),arguments,[\"frequency\",\"width\"]);this.width=new Do({context:this.context,units:\"audioRange\",value:t.width}),this._triangle=new ir({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:\"triangle\"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ui(this,[\"width\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Ho.getDefaults(),{detune:0,frequency:440,phase:0,type:\"pulse\",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return\"pulse\"}get baseType(){return\"pulse\"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return yi(this,void 0,void 0,(function*(){return sr(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class pr extends Ho{constructor(){super(Di(pr.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"])),this.name=\"FatOscillator\",this._oscillators=[];const t=Di(pr.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"]);this.frequency=new Do({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Do({context:this.context,units:\"cents\",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ui(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(ir.getDefaults(),{count:3,spread:20,type:\"sawtooth\"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,s=t/(this._oscillators.length-1);this._forEach((t,n)=>t.detune.value=e+s*n)}}get count(){return this._oscillators.length}set count(t){if(ei(t,1),this._oscillators.length!==t){this._forEach(t=>t.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const s=new ir({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Zi});\"custom\"===this.type&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[e]=s}this.spread=this._spread,\"started\"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((t,e)=>t.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type=\"custom\",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return yi(this,void 0,void 0,(function*(){return sr(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class dr extends Ho{constructor(){super(Di(dr.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"])),this.name=\"PWMOscillator\",this.sourceType=\"pwm\",this._scale=new cr({context:this.context,value:2});const t=Di(dr.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"]);this._pulse=new lr({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType=\"sine\",this.modulationFrequency=this._pulse.frequency,this._modulator=new ir({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ui(this,[\"modulationFrequency\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Ho.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:\"pwm\"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return\"pwm\"}get baseType(){return\"pwm\"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return yi(this,void 0,void 0,(function*(){return sr(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const fr={am:hr,fat:pr,fm:ur,oscillator:ir,pulse:lr,pwm:dr};class _r extends Ho{constructor(){super(Di(_r.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OmniOscillator\";const t=Di(_r.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new Do({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Do({context:this.context,units:\"cents\",value:t.detune}),Ui(this,[\"frequency\",\"detune\"]),this.set(t)}static getDefaults(){return Object.assign(ir.getDefaults(),ur.getDefaults(),hr.getDefaults(),pr.getDefaults(),lr.getDefaults(),dr.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t=\"\";return[\"am\",\"fm\",\"fat\"].some(t=>this._sourceType===t)&&(t=this._sourceType),t+this._oscillator.type}set type(t){\"fm\"===t.substr(0,2)?(this._createNewOscillator(\"fm\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):\"am\"===t.substr(0,2)?(this._createNewOscillator(\"am\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):\"fat\"===t.substr(0,3)?(this._createNewOscillator(\"fat\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):\"pwm\"===t?(this._createNewOscillator(\"pwm\"),this._oscillator=this._oscillator):\"pulse\"===t?this._createNewOscillator(\"pulse\"):(this._createNewOscillator(\"oscillator\"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,\"type\")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=fr[t],s=this.now();if(this._oscillator){const t=this._oscillator;t.stop(s),this.context.setTimeout(()=>t.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),\"started\"===this.state&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e=\"sine\";\"pwm\"!==this._oscillator.type&&\"pulse\"!==this._oscillator.type&&(e=this._oscillator.type),\"fm\"===t?this.type=\"fm\"+e:\"am\"===t?this.type=\"am\"+e:\"fat\"===t?this.type=\"fat\"+e:\"oscillator\"===t?this.type=e:\"pulse\"===t?this.type=\"pulse\":\"pwm\"===t&&(this.type=\"pwm\")}_getOscType(t,e){return t instanceof fr[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||\"pulse\"===t||\"pwm\"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,\"pulse\")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,\"fat\")&&ui(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,\"fat\")&&ui(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\"))&&fi(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,\"fm\")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,\"pwm\")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return yi(this,void 0,void 0,(function*(){return sr(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class mr extends Do{constructor(){super(Object.assign(Di(mr.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Add\",this._sum=new ko({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,bo(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Do.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class gr extends or{constructor(){super(Object.assign(Di(gr.getDefaults(),arguments,[\"min\",\"max\"]))),this.name=\"Scale\";const t=Di(gr.getDefaults(),arguments,[\"min\",\"max\"]);this._mult=this.input=new cr({context:this.context,value:t.max-t.min}),this._add=this.output=new mr({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(or.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class vr extends or{constructor(){super(Object.assign(Di(vr.getDefaults(),arguments))),this.name=\"Zero\",this._gain=new ko({context:this.context}),this.output=this._gain,this.input=void 0,To(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),So(this.context.getConstant(0),this._gain),this}}class yr extends wo{constructor(){super(Di(yr.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"])),this.name=\"LFO\",this._stoppedValue=0,this._units=\"number\",this.convert=!0,this._fromType=xo.prototype._fromType,this._toType=xo.prototype._toType,this._is=xo.prototype._is,this._clampValue=xo.prototype._clampValue;const t=Di(yr.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"]);this._oscillator=new ir(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new ko({context:this.context,gain:t.amplitude,units:\"normalRange\"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Do({context:this.context,units:\"audioRange\",value:0}),this._zeros=new vr({context:this.context}),this._a2g=new ar({context:this.context}),this._scaler=this.output=new gr({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ui(this,[\"amplitude\",\"frequency\"]),this.phase=t.phase}static getDefaults(){return Object.assign(ir.getDefaults(),{amplitude:1,frequency:\"4n\",max:1,min:0,type:\"sine\",units:\"number\"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,s=this.max;this._units=t,this.min=e,this.max=s}get state(){return this._oscillator.state}connect(t,e,s){return(t instanceof xo||t instanceof Do)&&(this.convert=t.convert,this.units=t.units),Oo(this,t,e,s),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function xr(t,e=1/0){const s=new WeakMap;return function(n,i){Reflect.defineProperty(n,i,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(n){ei(n,t,e),s.set(this,n)}})}}function wr(t,e=1/0){const s=new WeakMap;return function(n,i){Reflect.defineProperty(n,i,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(n){ei(this.toSeconds(n),t,e),s.set(this,n)}})}}class br extends Ho{constructor(){super(Di(br.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Player\",this._activeSources=new Set;const t=Di(br.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new Xi({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Ho.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Zi,onerror:Zi,playbackRate:1,reverse:!1})}load(t){return yi(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=Zi){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||\"started\"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime(\"stopped\",this.now()))}start(t,e,s){return super.start(t,e,s),this}_start(t,e,s){e=this._loop?Oi(e,this._loopStart):Oi(e,0);const n=this.toSeconds(e),i=s;s=Oi(s,Math.max(this._buffer.duration-n,0));let o=this.toSeconds(s);o/=this._playbackRate,t=this.toSeconds(t);const r=new $o({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+o),this._state.setStateAtTime(\"stopped\",t+o,{implicitEnd:!0})),this._activeSources.add(r),this._loop&&ai(i)?r.start(t,n):r.start(t,n,o-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(t=>t.stop(e))}restart(t,e,s){return super.restart(t,e,s),this}_restart(t,e,s){this._stop(t),this._start(t,e,s)}seek(t,e){const s=this.toSeconds(e);if(\"started\"===this._state.getValueAtTime(s)){const e=this.toSeconds(t);this._stop(s),this._start(s,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ei(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ei(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const t=this._state.getNextState(\"stopped\",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),s=this._state.getNextState(\"stopped\",e);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(t=>t.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}vi([wr(0)],br.prototype,\"fadeIn\",void 0),vi([wr(0)],br.prototype,\"fadeOut\",void 0);class Tr extends wo{constructor(){super(Di(Tr.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\")),this.name=\"Players\",this.input=void 0,this._players=new Map;const t=Di(Tr.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\");this._volume=this.output=new Go({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ui(this,\"volume\"),this._buffers=new Vo({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Ho.getDefaults(),{baseUrl:\"\",fadeIn:0,fadeOut:0,mute:!1,onload:Zi,onerror:Zi,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach(e=>{e.fadeIn=t})}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach(e=>{e.fadeOut=t})}get state(){return Array.from(this._players).some(([t,e])=>\"started\"===e.state)?\"started\":\"stopped\"}has(t){return this._buffers.has(t)}player(t){if(ti(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new br({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,s){return ti(!this._buffers.has(t),\"A buffer with that name already exists on this object\"),this._buffers.add(t,e,s),this}stopAll(t){return this._players.forEach(e=>e.stop(t)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=>t.dispose()),this._buffers.dispose(),this}}class Sr extends Ho{constructor(){super(Di(Sr.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"GrainPlayer\",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=Di(Sr.getDefaults(),arguments,[\"url\",\"onload\"]);this.buffer=new Xi({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new qo({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on(\"stop\",this._onstop.bind(this))}static getDefaults(){return Object.assign(Ho.getDefaults(),{onload:Zi,onerror:Zi,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,s){e=Oi(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const n=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/n),s&&this.stop(t+this.toSeconds(s))}restart(t,e,s){return super.restart(t,e,s),this}_restart(t,e,s){this._stop(t),this._start(t,e,s)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach(e=>{e.fadeOut=0,e.stop(t)}),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),s=e*this._grainSize;if(this.log(\"offset\",s),!this.loop&&s>this.buffer.duration)return void this.stop(t);const n=s<this._overlap?0:this._overlap,i=new $o({context:this.context,url:this.buffer,fadeIn:n,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:no(this.detune/100)}).connect(this.output);i.start(t,this._grainSize*e),i.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(i),i.onended=()=>{const t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){ei(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&ei(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&ei(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);ei(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=>t.dispose()),this}}class kr extends or{constructor(){super(...arguments),this.name=\"Abs\",this._abs=new rr({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Cr extends or{constructor(){super(...arguments),this.name=\"GainToAudio\",this._norm=new rr({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ar extends or{constructor(){super(...arguments),this.name=\"Negate\",this._multiply=new cr({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Dr extends Do{constructor(){super(Object.assign(Di(Dr.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Subtract\",this._sum=new ko({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Ar({context:this.context}),this.subtrahend=this._param,bo(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Do.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Or extends or{constructor(){super(Object.assign(Di(Or.getDefaults(),arguments))),this.name=\"GreaterThanZero\",this._thresh=this.output=new rr({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new cr({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Mr extends Do{constructor(){super(Object.assign(Di(Mr.getDefaults(),arguments,[\"value\"]))),this.name=\"GreaterThan\",this.override=!1;const t=Di(Mr.getDefaults(),arguments,[\"value\"]);this._subtract=this.input=new Dr({context:this.context,value:t.value}),this._gtz=this.output=new Or({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ui(this,\"comparator\"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Do.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Er extends or{constructor(){super(Object.assign(Di(Er.getDefaults(),arguments,[\"value\"]))),this.name=\"Pow\";const t=Di(Er.getDefaults(),arguments,[\"value\"]);this._exponentScaler=this.input=this.output=new rr({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(or.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Rr extends gr{constructor(){super(Object.assign(Di(Rr.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]))),this.name=\"ScaleExp\";const t=Di(Rr.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]);this.input=this._exp=new Er({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(gr.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class qr extends Do{constructor(){super(Di(Do.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"SyncedSignal\",this.override=!1;const t=Di(Do.getDefaults(),arguments,[\"value\",\"units\"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),\"1i\"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on(\"start\",this._syncedCallback),this.context.transport.on(\"pause\",this._syncedCallback),this.context.transport.on(\"stop\",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Ao({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new mo(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const s=new mo(this.context,e).toSeconds();return super.setValueAtTime(t,s),this}linearRampToValueAtTime(t,e){const s=new mo(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,s),this}exponentialRampToValueAtTime(t,e){const s=new mo(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,s),this}setTargetAtTime(t,e,s){const n=new mo(this.context,e).toSeconds();return super.setTargetAtTime(t,n,s),this}cancelScheduledValues(t){const e=new mo(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,s,n){const i=new mo(this.context,e).toSeconds();return s=this.toSeconds(s),super.setValueCurveAtTime(t,i,s,n),this}cancelAndHoldAtTime(t){const e=new mo(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new mo(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,s){const n=new mo(this.context,s).toSeconds();return super.exponentialRampTo(t,e,n),this}linearRampTo(t,e,s){const n=new mo(this.context,s).toSeconds();return super.linearRampTo(t,e,n),this}targetRampTo(t,e,s){const n=new mo(this.context,s).toSeconds();return super.targetRampTo(t,e,n),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off(\"start\",this._syncedCallback),this.context.transport.off(\"pause\",this._syncedCallback),this.context.transport.off(\"stop\",this._syncedCallback),this._constantSource.dispose(),this}}class Fr extends wo{constructor(){super(Di(Fr.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"Envelope\",this._sig=new Do({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Di(Fr.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(wo.getDefaults(),{attack:.01,attackCurve:\"linear\",decay:.1,decayCurve:\"exponential\",release:1,releaseCurve:\"exponential\",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(fi(t))return t;{let s;for(s in Ir)if(Ir[s][e]===t)return s;return t}}_setCurve(t,e,s){if(fi(s)&&Reflect.has(Ir,s)){const n=Ir[s];li(n)?\"_decayCurve\"!==t&&(this[t]=n[e]):this[t]=n}else{if(!di(s)||\"_decayCurve\"===t)throw new Error(\"Envelope: invalid curve: \"+s);this[t]=s}}get attackCurve(){return this._getCurve(this._attackCurve,\"In\")}set attackCurve(t){this._setCurve(\"_attackCurve\",\"In\",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,\"Out\")}set releaseCurve(t){this._setCurve(\"_releaseCurve\",\"Out\",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){ti([\"linear\",\"exponential\"].some(e=>e===t),\"Invalid envelope curve: \"+t),this._decayCurve=t}triggerAttack(t,e=1){this.log(\"triggerAttack\",t,e),t=this.toSeconds(t);let s=this.toSeconds(this.attack);const n=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0){s=(1-i)/(1/s)}if(s<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if(\"linear\"===this._attackCurve)this._sig.linearRampTo(e,s,t);else if(\"exponential\"===this._attackCurve)this._sig.targetRampTo(e,s,t);else{this._sig.cancelAndHoldAtTime(t);let n=this._attackCurve;for(let t=1;t<n.length;t++)if(n[t-1]<=i&&i<=n[t]){n=this._attackCurve.slice(t),n[0]=i;break}this._sig.setValueCurveAtTime(n,t,s,e)}if(n&&this.sustain<1){const i=e*this.sustain,o=t+s;this.log(\"decay\",o),\"linear\"===this._decayCurve?this._sig.linearRampToValueAtTime(i,n+o):this._sig.exponentialApproachValueAtTime(i,o,n)}return this}triggerRelease(t){this.log(\"triggerRelease\",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,t):\"linear\"===this._releaseCurve?this._sig.linearRampTo(0,s,t):\"exponential\"===this._releaseCurve?this._sig.targetRampTo(0,s,t):(ti(di(this._releaseCurve),\"releaseCurve must be either 'linear', 'exponential' or an array\"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,s,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,s=1){return e=this.toSeconds(e),this.triggerAttack(e,s),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,s=0){return Oo(this,t,e,s),this}asArray(t=1024){return yi(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,s=new Yi(1,e,this.context.sampleRate),n=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=n+this.toSeconds(this.release),o=.1*i,r=i+o,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/r,decay:e*this.toSeconds(this.decay)/r,release:e*this.toSeconds(this.release)/r,context:s}));a._sig.toDestination(),a.triggerAttackRelease(e*(n+o)/r,0);return(yield s.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}vi([wr(0)],Fr.prototype,\"attack\",void 0),vi([wr(0)],Fr.prototype,\"decay\",void 0),vi([xr(0,1)],Fr.prototype,\"sustain\",void 0),vi([wr(0)],Fr.prototype,\"release\",void 0);const Ir=(()=>{let t,e;const s=[];for(t=0;t<128;t++)s[t]=Math.sin(t/127*(Math.PI/2));const n=[];for(t=0;t<127;t++){e=t/127;const s=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;n[t]=s/10+.83*e}n[127]=1;const i=[];for(t=0;t<128;t++)i[t]=Math.ceil(t/127*5)/5;const o=[];for(t=0;t<128;t++)e=t/127,o[t]=.5*(1-Math.cos(Math.PI*e));const r=[];for(t=0;t<128;t++){e=t/127;const s=4*Math.pow(e,3)+.2,n=Math.cos(s*Math.PI*2*e);r[t]=Math.abs(n*(1-e))}function a(t){const e=new Array(t.length);for(let s=0;s<t.length;s++)e[s]=1-t[s];return e}return{bounce:{In:a(r),Out:r},cosine:{In:s,Out:(c=s,c.slice(0).reverse())},exponential:\"exponential\",linear:\"linear\",ripple:{In:n,Out:a(n)},sine:{In:o,Out:a(o)},step:{In:i,Out:a(i)}};var c})();class Vr extends wo{constructor(){super(Di(Vr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Di(Vr.getDefaults(),arguments);this._volume=this.output=new Go({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ui(this,\"volume\")}static getDefaults(){return Object.assign(wo.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const s=this[\"_original_\"+t]=this[t];this[t]=(...t)=>{const n=t[e],i=this.context.transport.schedule(n=>{t[e]=n,s.apply(this,t)},n);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,s,n){const i=this.toSeconds(s),o=this.toSeconds(e);return this.triggerAttack(t,i,n),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Nr extends Vr{constructor(){super(Di(Nr.getDefaults(),arguments));const t=Di(Nr.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Vr.getDefaults(),{detune:0,onsilence:Zi,portamento:0})}triggerAttack(t,e,s=1){this.log(\"triggerAttack\",t,e,s);const n=this.toSeconds(e);return this._triggerEnvelopeAttack(n,s),this.setNote(t,n),this}triggerRelease(t){this.log(\"triggerRelease\",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const s=this.toSeconds(e),n=t instanceof lo?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(n,t,s)}else this.frequency.setValueAtTime(n,s);return this}}vi([wr(0)],Nr.prototype,\"portamento\",void 0);class Pr extends Fr{constructor(){super(Di(Pr.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"AmplitudeEnvelope\",this._gainNode=new ko({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class jr extends Nr{constructor(){super(Di(jr.getDefaults(),arguments)),this.name=\"Synth\";const t=Di(jr.getDefaults(),arguments);this.oscillator=new _r(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Pr(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ui(this,[\"oscillator\",\"frequency\",\"detune\",\"envelope\"])}static getDefaults(){return Object.assign(Nr.getDefaults(),{envelope:Object.assign(Mi(Fr.getDefaults(),Object.keys(wo.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Mi(_r.getDefaults(),[...Object.keys(Ho.getDefaults()),\"frequency\",\"detune\"]),{type:\"triangle\"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+s)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Lr extends Nr{constructor(){super(Di(Lr.getDefaults(),arguments)),this.name=\"ModulationSynth\";const t=Di(Lr.getDefaults(),arguments);this._carrier=new jr({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new jr({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Do({context:this.context,units:\"frequency\"}),this.detune=new Do({context:this.context,value:t.detune,units:\"cents\"}),this.harmonicity=new cr({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new ko({context:this.context,gain:0}),Ui(this,[\"frequency\",\"harmonicity\",\"oscillator\",\"envelope\",\"modulation\",\"modulationEnvelope\",\"detune\"])}static getDefaults(){return Object.assign(Nr.getDefaults(),{harmonicity:3,oscillator:Object.assign(Mi(_r.getDefaults(),[...Object.keys(Ho.getDefaults()),\"frequency\",\"detune\"]),{type:\"sine\"}),envelope:Object.assign(Mi(Fr.getDefaults(),Object.keys(wo.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Mi(_r.getDefaults(),[...Object.keys(Ho.getDefaults()),\"frequency\",\"detune\"]),{type:\"square\"}),modulationEnvelope:Object.assign(Mi(Fr.getDefaults(),Object.keys(wo.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class zr extends Lr{constructor(){super(Di(zr.getDefaults(),arguments)),this.name=\"AMSynth\",this._modulationScale=new ar({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Br extends wo{constructor(){super(Di(Br.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"BiquadFilter\";const t=Di(Br.getDefaults(),arguments,[\"frequency\",\"type\"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new xo({context:this.context,units:\"number\",value:t.Q,param:this._filter.Q}),this.frequency=new xo({context:this.context,units:\"frequency\",value:t.frequency,param:this._filter.frequency}),this.detune=new xo({context:this.context,units:\"cents\",value:t.detune,param:this._filter.detune}),this.gain=new xo({context:this.context,units:\"decibels\",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(wo.getDefaults(),{Q:1,type:\"lowpass\",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){ti(-1!==[\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t),\"Invalid filter type: \"+t),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let s=0;s<t;s++){const n=19980*Math.pow(s/t,2)+20;e[s]=n}const s=new Float32Array(t),n=new Float32Array(t),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(e,s,n),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Wr extends wo{constructor(){super(Di(Wr.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"])),this.name=\"Filter\",this.input=new ko({context:this.context}),this.output=new ko({context:this.context}),this._filters=[];const t=Di(Wr.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"]);this._filters=[],this.Q=new Do({context:this.context,units:\"positive\",value:t.Q}),this.frequency=new Do({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Do({context:this.context,units:\"cents\",value:t.detune}),this.gain=new Do({context:this.context,units:\"decibels\",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ui(this,[\"detune\",\"frequency\",\"gain\",\"Q\"])}static getDefaults(){return Object.assign(wo.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:\"lowpass\"})}get type(){return this._type}set type(t){ti(-1!==[\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t),\"Invalid filter type: \"+t),this._type=t,this._filters.forEach(e=>e.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const e=ui(t)?t:parseInt(t,10),s=[-12,-24,-48,-96];let n=s.indexOf(e);ti(-1!==n,\"rolloff can only be \"+s.join(\", \")),n+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach(t=>t.disconnect()),this._filters=new Array(n);for(let t=0;t<n;t++){const e=new Br({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,bo(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Br({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{e.getFrequencyResponse(t).forEach((t,e)=>s[e]*=t)}),e.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),Qi(this,[\"detune\",\"frequency\",\"gain\",\"Q\"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Gr extends Fr{constructor(){super(Di(Gr.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"FrequencyEnvelope\";const t=Di(Gr.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new Er({context:this.context,value:t.exponent}),this._scale=this.output=new gr({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Fr.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);ei(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Ur extends Nr{constructor(){super(Di(Ur.getDefaults(),arguments)),this.name=\"MonoSynth\";const t=Di(Ur.getDefaults(),arguments);this.oscillator=new _r(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Wr(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new Gr(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new Pr(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ui(this,[\"oscillator\",\"frequency\",\"detune\",\"filter\",\"filterEnvelope\",\"envelope\"])}static getDefaults(){return Object.assign(Nr.getDefaults(),{envelope:Object.assign(Mi(Fr.getDefaults(),Object.keys(wo.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Mi(Wr.getDefaults(),Object.keys(wo.getDefaults())),{Q:1,rolloff:-12,type:\"lowpass\"}),filterEnvelope:Object.assign(Mi(Gr.getDefaults(),Object.keys(wo.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Mi(_r.getDefaults(),Object.keys(Ho.getDefaults())),{type:\"sawtooth\"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+s)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Qr extends Nr{constructor(){super(Di(Qr.getDefaults(),arguments)),this.name=\"DuoSynth\";const t=Di(Qr.getDefaults(),arguments);this.voice0=new Ur(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Ur(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new cr({context:this.context,units:\"positive\",value:t.harmonicity}),this._vibrato=new yr({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new ko({context:this.context,units:\"normalRange\",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Do({context:this.context,units:\"frequency\",value:440}),this.detune=new Do({context:this.context,units:\"cents\",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ui(this,[\"voice0\",\"voice1\",\"frequency\",\"vibratoAmount\",\"vibratoRate\"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Ai(Nr.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Ai(Mi(Ur.getDefaults(),Object.keys(Nr.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Ai(Mi(Ur.getDefaults(),Object.keys(Nr.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Zr extends Lr{constructor(){super(Di(Zr.getDefaults(),arguments)),this.name=\"FMSynth\";const t=Di(Zr.getDefaults(),arguments);this.modulationIndex=new cr({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Lr.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Xr=[1,1.483,1.932,2.546,2.63,3.897];class Yr extends Nr{constructor(){super(Di(Yr.getDefaults(),arguments)),this.name=\"MetalSynth\",this._oscillators=[],this._freqMultipliers=[];const t=Di(Yr.getDefaults(),arguments);this.detune=new Do({context:this.context,units:\"cents\",value:t.detune}),this.frequency=new Do({context:this.context,units:\"frequency\"}),this._amplitude=new ko({context:this.context,gain:0}).connect(this.output),this._highpass=new Wr({Q:0,context:this.context,type:\"highpass\"}).connect(this._amplitude);for(let e=0;e<Xr.length;e++){const s=new ur({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:\"square\",onstop:0===e?()=>this.onsilence(this):Zi,type:\"square\"});s.connect(this._highpass),this._oscillators[e]=s;const n=new cr({context:this.context,value:Xr[e]});this._freqMultipliers[e]=n,this.frequency.chain(n,s.frequency),this.detune.connect(s.detune)}this._filterFreqScaler=new gr({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Fr({attack:t.envelope.attack,attackCurve:\"linear\",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return Ai(Nr.getDefaults(),{envelope:Object.assign(Mi(Fr.getDefaults(),Object.keys(wo.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach(e=>e.start(t)),0===this.envelope.sustain&&this._oscillators.forEach(e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(e=>e.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(e=>e.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(e=>e.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=>t.dispose()),this._freqMultipliers.forEach(t=>t.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Hr extends jr{constructor(){super(Di(Hr.getDefaults(),arguments)),this.name=\"MembraneSynth\",this.portamento=0;const t=Di(Hr.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ui(this,[\"oscillator\",\"envelope\"])}static getDefaults(){return Ai(Nr.getDefaults(),jr.getDefaults(),{envelope:{attack:.001,attackCurve:\"exponential\",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:\"sine\"},pitchDecay:.05})}setNote(t,e){const s=this.toSeconds(e),n=this.toFrequency(t instanceof lo?t.toFrequency():t),i=n*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(n,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}vi([xr(0)],Hr.prototype,\"octaves\",void 0),vi([wr(0)],Hr.prototype,\"pitchDecay\",void 0);class $r extends Vr{constructor(){super(Di($r.getDefaults(),arguments)),this.name=\"NoiseSynth\";const t=Di($r.getDefaults(),arguments);this.noise=new Jo(Object.assign({context:this.context},t.noise)),this.envelope=new Pr(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Vr.getDefaults(),{envelope:Object.assign(Mi(Fr.getDefaults(),Object.keys(wo.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Mi(Jo.getDefaults(),Object.keys(Ho.getDefaults())),{type:\"white\"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod(\"triggerAttack\",0),this._syncMethod(\"triggerRelease\",0)),this}triggerAttackRelease(t,e,s=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,s),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Jr=new Set;function Kr(t){Jr.add(t)}function ta(t,e){const s=`registerProcessor(\"${t}\", ${e})`;Jr.add(s)}class ea extends wo{constructor(t){super(t),this.name=\"ToneAudioWorklet\",this.workletOptions={},this.onprocessorerror=Zi;const e=URL.createObjectURL(new Blob([Array.from(Jr).join(\"\\n\")],{type:\"text/javascript\"})),s=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,s).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(s,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage(\"dispose\"),this._worklet.disconnect()),this}}Kr('\\n\\t/**\\n\\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \\n\\t */\\n\\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\\n\\n\\t\\tconstructor(options) {\\n\\t\\t\\t\\n\\t\\t\\tsuper(options);\\n\\t\\t\\t/**\\n\\t\\t\\t * If the processor was disposed or not. Keep alive until it\\'s disposed.\\n\\t\\t\\t */\\n\\t\\t\\tthis.disposed = false;\\n\\t\\t   \\t/** \\n\\t\\t\\t * The number of samples in the processing block\\n\\t\\t\\t */\\n\\t\\t\\tthis.blockSize = 128;\\n\\t\\t\\t/**\\n\\t\\t\\t * the sample rate\\n\\t\\t\\t */\\n\\t\\t\\tthis.sampleRate = sampleRate;\\n\\n\\t\\t\\tthis.port.onmessage = (event) => {\\n\\t\\t\\t\\t// when it receives a dispose \\n\\t\\t\\t\\tif (event.data === \"dispose\") {\\n\\t\\t\\t\\t\\tthis.disposed = true;\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n');Kr(\"\\n\\t/**\\n\\t * Abstract class for a single input/output processor. \\n\\t * has a 'generate' function which processes one sample at a time\\n\\t */\\n\\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\\n\\n\\t\\tconstructor(options) {\\n\\t\\t\\tsuper(Object.assign(options, {\\n\\t\\t\\t\\tnumberOfInputs: 1,\\n\\t\\t\\t\\tnumberOfOutputs: 1\\n\\t\\t\\t}));\\n\\t\\t\\t/**\\n\\t\\t\\t * Holds the name of the parameter and a single value of that\\n\\t\\t\\t * parameter at the current sample\\n\\t\\t\\t * @type { [name: string]: number }\\n\\t\\t\\t */\\n\\t\\t\\tthis.params = {}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Generate an output sample from the input sample and parameters\\n\\t\\t * @abstract\\n\\t\\t * @param input number\\n\\t\\t * @param channel number\\n\\t\\t * @param parameters { [name: string]: number }\\n\\t\\t * @returns number\\n\\t\\t */\\n\\t\\tgenerate(){}\\n\\n\\t\\t/**\\n\\t\\t * Update the private params object with the \\n\\t\\t * values of the parameters at the given index\\n\\t\\t * @param parameters { [name: string]: Float32Array },\\n\\t\\t * @param index number\\n\\t\\t */\\n\\t\\tupdateParams(parameters, index) {\\n\\t\\t\\tfor (const paramName in parameters) {\\n\\t\\t\\t\\tconst param = parameters[paramName];\\n\\t\\t\\t\\tif (param.length > 1) {\\n\\t\\t\\t\\t\\tthis.params[paramName] = parameters[paramName][index];\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tthis.params[paramName] = parameters[paramName][0];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Process a single frame of the audio\\n\\t\\t * @param inputs Float32Array[][]\\n\\t\\t * @param outputs Float32Array[][]\\n\\t\\t */\\n\\t\\tprocess(inputs, outputs, parameters) {\\n\\t\\t\\tconst input = inputs[0];\\n\\t\\t\\tconst output = outputs[0];\\n\\t\\t\\t// get the parameter values\\n\\t\\t\\tconst channelCount = Math.max(input && input.length || 0, output.length);\\n\\t\\t\\tfor (let sample = 0; sample < this.blockSize; sample++) {\\n\\t\\t\\t\\tthis.updateParams(parameters, sample);\\n\\t\\t\\t\\tfor (let channel = 0; channel < channelCount; channel++) {\\n\\t\\t\\t\\t\\tconst inputSample = input && input.length ? input[channel][sample] : 0;\\n\\t\\t\\t\\t\\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn !this.disposed;\\n\\t\\t}\\n\\t};\\n\");Kr(\"\\n\\t/**\\n\\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\\n\\t */\\n\\tclass DelayLine {\\n\\t\\t\\n\\t\\tconstructor(size, channels) {\\n\\t\\t\\tthis.buffer = [];\\n\\t\\t\\tthis.writeHead = []\\n\\t\\t\\tthis.size = size;\\n\\n\\t\\t\\t// create the empty channels\\n\\t\\t\\tfor (let i = 0; i < channels; i++) {\\n\\t\\t\\t\\tthis.buffer[i] = new Float32Array(this.size);\\n\\t\\t\\t\\tthis.writeHead[i] = 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Push a value onto the end\\n\\t\\t * @param channel number\\n\\t\\t * @param value number\\n\\t\\t */\\n\\t\\tpush(channel, value) {\\n\\t\\t\\tthis.writeHead[channel] += 1;\\n\\t\\t\\tif (this.writeHead[channel] > this.size) {\\n\\t\\t\\t\\tthis.writeHead[channel] = 0;\\n\\t\\t\\t}\\n\\t\\t\\tthis.buffer[channel][this.writeHead[channel]] = value;\\n\\t\\t}\\n\\n\\t\\t/**\\n\\t\\t * Get the recorded value of the channel given the delay\\n\\t\\t * @param channel number\\n\\t\\t * @param delay number delay samples\\n\\t\\t */\\n\\t\\tget(channel, delay) {\\n\\t\\t\\tlet readHead = this.writeHead[channel] - Math.floor(delay);\\n\\t\\t\\tif (readHead < 0) {\\n\\t\\t\\t\\treadHead += this.size;\\n\\t\\t\\t}\\n\\t\\t\\treturn this.buffer[channel][readHead];\\n\\t\\t}\\n\\t}\\n\");ta(\"feedback-comb-filter\",'\\n\\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\\n\\n\\t\\tconstructor(options) {\\n\\t\\t\\tsuper(options);\\n\\t\\t\\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\\n\\t\\t}\\n\\n\\t\\tstatic get parameterDescriptors() {\\n\\t\\t\\treturn [{\\n\\t\\t\\t\\tname: \"delayTime\",\\n\\t\\t\\t\\tdefaultValue: 0.1,\\n\\t\\t\\t\\tminValue: 0,\\n\\t\\t\\t\\tmaxValue: 1,\\n\\t\\t\\t\\tautomationRate: \"k-rate\"\\n\\t\\t\\t}, {\\n\\t\\t\\t\\tname: \"feedback\",\\n\\t\\t\\t\\tdefaultValue: 0.5,\\n\\t\\t\\t\\tminValue: 0,\\n\\t\\t\\t\\tmaxValue: 0.9999,\\n\\t\\t\\t\\tautomationRate: \"k-rate\"\\n\\t\\t\\t}];\\n\\t\\t}\\n\\n\\t\\tgenerate(input, channel, parameters) {\\n\\t\\t\\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\\n\\t\\t\\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\\n\\t\\t\\treturn delayedSample;\\n\\t\\t}\\n\\t}\\n');class sa extends ea{constructor(){super(Di(sa.getDefaults(),arguments,[\"delayTime\",\"resonance\"])),this.name=\"FeedbackCombFilter\";const t=Di(sa.getDefaults(),arguments,[\"delayTime\",\"resonance\"]);this.input=new ko({context:this.context}),this.output=new ko({context:this.context}),this.delayTime=new xo({context:this.context,value:t.delayTime,units:\"time\",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new xo({context:this.context,value:t.resonance,units:\"normalRange\",param:this._dummyParam,swappable:!0}),Ui(this,[\"resonance\",\"delayTime\"])}_audioWorkletName(){return\"feedback-comb-filter\"}static getDefaults(){return Object.assign(wo.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){bo(this.input,t,this.output);const e=t.parameters.get(\"delayTime\");this.delayTime.setParam(e);const s=t.parameters.get(\"feedback\");this.resonance.setParam(s)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class na extends wo{constructor(){super(Di(na.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OnePoleFilter\";const t=Di(na.getDefaults(),arguments,[\"frequency\",\"type\"]);this._frequency=t.frequency,this._type=t.type,this.input=new ko({context:this.context}),this.output=new ko({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(wo.getDefaults(),{frequency:880,type:\"lowpass\"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),s=1/(2*Math.PI*e);if(\"lowpass\"===this._type){const t=1/(s*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(s*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let s=0;s<t;s++){const n=19980*Math.pow(s/t,2)+20;e[s]=n}const s=new Float32Array(t),n=new Float32Array(t);return this._filter.getFrequencyResponse(e,s,n),s}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class ia extends wo{constructor(){super(Di(ia.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"])),this.name=\"LowpassCombFilter\";const t=Di(ia.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"]);this._combFilter=this.output=new sa({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new na({context:this.context,frequency:t.dampening,type:\"lowpass\"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(wo.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class oa extends Vr{constructor(){super(Di(oa.getDefaults(),arguments)),this.name=\"PluckSynth\";const t=Di(oa.getDefaults(),arguments);this._noise=new Jo({context:this.context,type:\"pink\"}),this.attackNoise=t.attackNoise,this._lfcf=new ia({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Ai(Vr.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const s=this.toFrequency(t);e=this.toSeconds(e);const n=1/s;return this._lfcf.delayTime.setValueAtTime(n,e),this._noise.start(e),this._noise.stop(e+n*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class ra extends Vr{constructor(){super(Di(ra.getDefaults(),arguments,[\"voice\",\"options\"])),this.name=\"PolySynth\",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=Di(ra.getDefaults(),arguments,[\"voice\",\"options\"]);ti(!ui(t.voice),\"DEPRECATED: The polyphony count is no longer the first argument.\");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Vr.getDefaults(),{maxPolyphony:32,options:{},voice:jr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex(e=>e.voice===t);this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}ri(\"Max polyphony exceeded. Note dropped.\")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,s){t.forEach(t=>{const n=new No(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,e,s),this._activeVoices.push({midi:n,voice:i,released:!1}),this.log(\"triggerAttack\",t,e))})}_triggerRelease(t,e){t.forEach(t=>{const s=new No(this.context,t).toMidi(),n=this._activeVoices.find(({midi:t,released:e})=>t===s&&!e);n&&(n.voice.triggerRelease(e),n.released=!0,this.log(\"triggerRelease\",t,e))})}_scheduleEvent(t,e,s,n){ti(!this.disposed,\"Synth was already disposed\"),s<=this.now()?\"attack\"===t?this._triggerAttack(e,s,n):this._triggerRelease(e,s):this.context.setTimeout(()=>{this._scheduleEvent(t,e,s,n)},s-this.now())}triggerAttack(t,e,s){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent(\"attack\",t,n,s),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const s=this.toSeconds(e);return this._scheduleEvent(\"release\",t,s),this}triggerAttackRelease(t,e,s,n){const i=this.toSeconds(s);if(this.triggerAttack(t,i,n),di(e)){ti(di(t),\"If the duration is an array, the notes must also be an array\"),t=t;for(let s=0;s<t.length;s++){const n=e[Math.min(s,e.length-1)],o=this.toSeconds(n);ti(o>0,\"The duration must be greater than 0\"),this.triggerRelease(t[s],i+o)}}else{const s=this.toSeconds(e);ti(s>0,\"The duration must be greater than 0\"),this.triggerRelease(t,i+s)}return this}sync(){return this._syncState()&&(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}set(t){const e=Mi(t,[\"onsilence\",\"context\"]);return this.options=Ai(this.options,e),this._voices.forEach(t=>t.set(e)),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach(({voice:t})=>{t.triggerRelease(e)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class aa extends Vr{constructor(){super(Di(aa.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\")),this.name=\"Sampler\",this._activeSources=new Map;const t=Di(aa.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\"),e={};Object.keys(t.urls).forEach(s=>{const n=parseInt(s,10);if(ti(_i(s)||ui(n)&&isFinite(n),\"url key is neither a note or midi pitch: \"+s),_i(s)){const n=new lo(this.context,s).toMidi();e[n]=t.urls[s]}else ui(n)&&isFinite(n)&&(e[n]=t.urls[n])}),this._buffers=new Vo({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Vr.getDefaults(),{attack:0,baseUrl:\"\",curve:\"exponential\",onload:Zi,onerror:Zi,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(\"No available buffers for note: \"+t)}triggerAttack(t,e,s=1){return this.log(\"triggerAttack\",t,e,s),Array.isArray(t)||(t=[t]),t.forEach(t=>{const n=ro(new lo(this.context,t).toFrequency()),i=Math.round(n),o=n-i,r=this._findClosest(i),a=i-r,c=this._buffers.get(a),h=no(r+o),u=new $o({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);u.start(e,0,c.duration/h,s),di(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(u);-1!==e&&t.splice(e,1)}}}),this}triggerRelease(t,e){return this.log(\"triggerRelease\",t,e),Array.isArray(t)||(t=[t]),t.forEach(t=>{const s=new lo(this.context,t).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const t=this._activeSources.get(s);e=this.toSeconds(e),t.forEach(t=>{t.stop(e)}),this._activeSources.set(s,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(t=>{for(;t.length;){t.shift().stop(e)}}),this}sync(){return this._syncState()&&(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}triggerAttackRelease(t,e,s,n=1){const i=this.toSeconds(s);return this.triggerAttack(t,i,n),di(e)?(ti(di(t),\"notes must be an array when duration is array\"),t.forEach((t,s)=>{const n=e[Math.min(s,e.length-1)];this.triggerRelease(t,i+this.toSeconds(n))})):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,s){if(ti(_i(t)||isFinite(t),\"note must be a pitch or midi: \"+t),_i(t)){const n=new lo(this.context,t).toMidi();this._buffers.add(n,e,s)}else this._buffers.add(t,e,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}vi([wr(0)],aa.prototype,\"attack\",void 0),vi([wr(0)],aa.prototype,\"release\",void 0);class ca extends vo{constructor(){super(Di(ca.getDefaults(),arguments,[\"callback\",\"value\"])),this.name=\"ToneEvent\",this._state=new yo(\"stopped\"),this._startOffset=0;const t=Di(ca.getDefaults(),arguments,[\"callback\",\"value\"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(vo.getDefaults(),{callback:Zi,humanize:!1,loop:!1,loopEnd:\"1m\",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,t=>{let e;if(\"started\"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const s=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||ui(this._loop)&&this._loop>1){e=1/0,ui(this._loop)&&(e=this._loop*this._getLoopDuration());const n=this._state.getAfter(s);null!==n&&(e=Math.min(e,n.time-s)),e!==1/0&&(this._state.setStateAtTime(\"stopped\",s+e+1,{id:-1}),e=new jo(this.context,e));const i=new jo(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new jo(this.context,s),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new jo(this.context,s))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return\"stopped\"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:\"started\",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if(\"started\"===this._state.getValueAtTime(e)){this._state.setStateAtTime(\"stopped\",e,{id:-1});const t=this._state.getBefore(e);let s=e;null!==t&&(s=t.time),this._rescheduleEvents(s)}return this}cancel(t){t=Oi(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,t=>{this.context.transport.clear(t.id)}),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&\"started\"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;pi(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new jo(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new jo(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&\"started\"===e.state){const s=this._getLoopDuration();return(t-e.time)%s/s}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class ha extends vo{constructor(){super(Di(ha.getDefaults(),arguments,[\"callback\",\"interval\"])),this.name=\"Loop\";const t=Di(ha.getDefaults(),arguments,[\"callback\",\"interval\"]);this._event=new ca({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(vo.getDefaults(),{interval:\"4n\",callback:Zi,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class ua extends ca{constructor(){super(Di(ua.getDefaults(),arguments,[\"callback\",\"events\"])),this.name=\"Part\",this._state=new yo(\"stopped\"),this._events=new Set;const t=Di(ua.getDefaults(),arguments,[\"callback\",\"events\"]);this._state.increasing=!0,t.events.forEach(t=>{di(t)?this.add(t[0],t[1]):this.add(t)})}static getDefaults(){return Object.assign(ca.getDefaults(),{events:[]})}start(t,e){const s=this.toTicks(t);if(\"started\"!==this._state.getValueAtTime(s)){e=Oi(e,this._loop?this._loopStart:0),e=this._loop?Oi(e,this._loopStart):Oi(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:\"started\",time:s}),this._forEach(e=>{this._startNote(e,s,t)})}return this}_startNote(t,e,s){e-=s,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<s&&(e+=this._getLoopDuration()),t.start(new jo(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=s&&(t.loop=!1,t.start(new jo(this.context,e))):t.startOffset>=s&&t.start(new jo(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(t=>{t.startOffset+=this._startOffset})}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime(\"stopped\",e),this._forEach(e=>{e.stop(t)}),this}at(t,e){const s=new mo(this.context,t).toTicks(),n=new jo(this.context,1).toSeconds(),i=this._events.values();let o=i.next();for(;!o.done;){const t=o.value;if(Math.abs(s-t.startOffset)<n)return ci(e)&&(t.value=e),t;o=i.next()}return ci(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,\"time\")&&(t=(e=t).time);const s=this.toTicks(t);let n;return e instanceof ca?(n=e,n.callback=this._tick.bind(this)):n=new ca({callback:this._tick.bind(this),context:this.context,value:e}),n.startOffset=s,n.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(n),this._restartEvent(n),this}_restartEvent(t){this._state.forEach(e=>{\"started\"===e.state?this._startNote(t,e.time,e.offset):t.stop(new jo(this.context,e.time))})}remove(t,e){return li(t)&&t.hasOwnProperty(\"time\")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach(s=>{s.startOffset===t&&(ai(e)||ci(e)&&s.value===e)&&(this._events.delete(s),s.dispose())}),this}clear(){return this._forEach(t=>t.dispose()),this._events.clear(),this}cancel(t){return this._forEach(e=>e.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach(e=>{e instanceof ua?e._forEach(t):t(e)}),this}_setAll(t,e){this._forEach(s=>{s[t]=e})}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):\"stopped\"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll(\"probability\",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll(\"humanize\",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)})}get loopEnd(){return new jo(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(e=>{e.loopEnd=t,this._testLoopBoundries(e)})}get loopStart(){return new jo(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll(\"playbackRate\",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*la(t){let e=0;for(;e<t.length;)e=fa(e,t),yield t[e],e++}function*pa(t){let e=t.length-1;for(;e>=0;)e=fa(e,t),yield t[e],e--}function*da(t,e){for(;;)yield*e(t)}function fa(t,e){return Vi(t,0,e.length-1)}function*_a(t,e){let s=e?0:t.length-1;for(;;)s=fa(s,t),yield t[s],e?(s++,s>=t.length-1&&(e=!1)):(s--,s<=0&&(e=!0))}function*ma(t){let e=0,s=0;for(;e<t.length;)e=fa(e,t),yield t[e],s++,e+=s%2?2:-1}function*ga(t){let e=t.length-1,s=0;for(;e>=0;)e=fa(e,t),yield t[e],s++,e+=s%2?-2:1}function*va(t){const e=[];for(let s=0;s<t.length;s++)e.push(s);for(;e.length>0;){const s=fa(e.splice(Math.floor(e.length*Math.random()),1)[0],t);yield t[s]}}function*ya(t,e=\"up\",s=0){switch(ti(t.length>0,\"The array must have more than one value in it\"),e){case\"up\":yield*da(t,la);case\"down\":yield*da(t,pa);case\"upDown\":yield*_a(t,!0);case\"downUp\":yield*_a(t,!1);case\"alternateUp\":yield*da(t,ma);case\"alternateDown\":yield*da(t,ga);case\"random\":yield*function*(t){for(;;){const e=Math.floor(Math.random()*t.length);yield t[e]}}(t);case\"randomOnce\":yield*da(t,va);case\"randomWalk\":yield*function*(t){let e=Math.floor(Math.random()*t.length);for(;;)0===e?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}(t)}}class xa extends ha{constructor(){super(Di(xa.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"])),this.name=\"Pattern\";const t=Di(xa.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"]);this.callback=t.callback,this._values=t.values,this._pattern=ya(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(ha.getDefaults(),{pattern:\"up\",values:[],callback:Zi})}_tick(t){const e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=ya(this._values,this._type)}}class wa extends ca{constructor(){super(Di(wa.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"])),this.name=\"Sequence\",this._part=new ua({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=Di(wa.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(Mi(ca.getDefaults(),[\"value\"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:\"8n\"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new jo(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,s)=>(fi(e)&&isFinite(parseInt(e,10))&&di(s)?t[e]=this._createSequence(s):t[e]=s,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,s){t.forEach((t,n)=>{const i=n*e+s;if(di(t))this._rescheduleSequence(t,e/t.length,i);else{const e=new jo(this.context,i,\"i\").toSeconds();this._part.add(e,t)}})}_indexTime(t){return new jo(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class ba extends wo{constructor(){super(Object.assign(Di(ba.getDefaults(),arguments,[\"fade\"]))),this.name=\"CrossFade\",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Cr({context:this.context}),this.a=new ko({context:this.context,gain:0}),this.b=new ko({context:this.context,gain:0}),this.output=new ko({context:this.context}),this._internalChannels=[this.a,this.b];const t=Di(ba.getDefaults(),arguments,[\"fade\"]);this.fade=new Do({context:this.context,units:\"normalRange\",value:t.fade}),Ui(this,\"fade\"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode=\"explicit\",To(this._split,this.a.gain,0),To(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(wo.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Ta extends wo{constructor(t){super(t),this.name=\"Effect\",this._dryWet=new ba({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ko({context:this.context}),this.effectReturn=new ko({context:this.context}),this.input=new ko({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ui(this,\"wet\")}static getDefaults(){return Object.assign(wo.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Sa extends Ta{constructor(t){super(t),this.name=\"LFOEffect\",this._lfo=new yr({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ui(this,[\"frequency\",\"depth\"])}static getDefaults(){return Object.assign(Ta.getDefaults(),{frequency:1,type:\"sine\",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class ka extends Sa{constructor(){super(Di(ka.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"])),this.name=\"AutoFilter\";const t=Di(ka.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"]);this.filter=new Wr(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Sa.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:\"lowpass\",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Ca extends wo{constructor(){super(Object.assign(Di(Ca.getDefaults(),arguments,[\"pan\"]))),this.name=\"Panner\",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Di(Ca.getDefaults(),arguments,[\"pan\"]);this.pan=new xo({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode=\"explicit\",Ui(this,\"pan\")}static getDefaults(){return Object.assign(wo.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Aa extends Sa{constructor(){super(Di(Aa.getDefaults(),arguments,[\"frequency\"])),this.name=\"AutoPanner\";const t=Di(Aa.getDefaults(),arguments,[\"frequency\"]);this._panner=new Ca({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Sa.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Da extends wo{constructor(){super(Di(Da.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Follower\";const t=Di(Da.getDefaults(),arguments,[\"smoothing\"]);this._abs=this.input=new kr({context:this.context}),this._lowpass=this.output=new na({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:\"lowpass\"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(wo.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Oa extends Ta{constructor(){super(Di(Oa.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"])),this.name=\"AutoWah\";const t=Di(Oa.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"]);this._follower=new Da({context:this.context,smoothing:t.follower}),this._sweepRange=new Rr({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new ko({context:this.context}),this._bandpass=new Wr({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Wr({context:this.context,type:\"peaking\"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Ui(this,[\"gain\",\"Q\"])}static getDefaults(){return Object.assign(Ta.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return so(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/eo(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}ta(\"bit-crusher\",\"\\n\\tclass BitCrusherWorklet extends SingleIOProcessor {\\n\\n\\t\\tstatic get parameterDescriptors() {\\n\\t\\t\\treturn [{\\n\\t\\t\\t\\tname: \\\"bits\\\",\\n\\t\\t\\t\\tdefaultValue: 12,\\n\\t\\t\\t\\tminValue: 1,\\n\\t\\t\\t\\tmaxValue: 16,\\n\\t\\t\\t\\tautomationRate: 'k-rate'\\n\\t\\t\\t}];\\n\\t\\t}\\n\\n\\t\\tgenerate(input, _channel, parameters) {\\n\\t\\t\\tconst step = Math.pow(0.5, parameters.bits - 1);\\n\\t\\t\\tconst val = step * Math.floor(input / step + 0.5);\\n\\t\\t\\treturn val;\\n\\t\\t}\\n\\t}\\n\");class Ma extends Ta{constructor(){super(Di(Ma.getDefaults(),arguments,[\"bits\"])),this.name=\"BitCrusher\";const t=Di(Ma.getDefaults(),arguments,[\"bits\"]);this._bitCrusherWorklet=new Ea({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Ta.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Ea extends ea{constructor(){super(Di(Ea.getDefaults(),arguments)),this.name=\"BitCrusherWorklet\";const t=Di(Ea.getDefaults(),arguments);this.input=new ko({context:this.context}),this.output=new ko({context:this.context}),this.bits=new xo({context:this.context,value:t.bits,units:\"positive\",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(ea.getDefaults(),{bits:12})}_audioWorkletName(){return\"bit-crusher\"}onReady(t){bo(this.input,t,this.output);const e=t.parameters.get(\"bits\");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Ra extends Ta{constructor(){super(Di(Ra.getDefaults(),arguments,[\"order\"])),this.name=\"Chebyshev\";const t=Di(Ra.getDefaults(),arguments,[\"order\"]);this._shaper=new rr({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(Ta.getDefaults(),{order:1,oversample:\"none\"})}_getCoefficient(t,e,s){return s.has(e)||(0===e?s.set(e,0):1===e?s.set(e,t):s.set(e,2*t*this._getCoefficient(t,e-1,s)-this._getCoefficient(t,e-2,s))),s.get(e)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap(e=>this._getCoefficient(e,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class qa extends wo{constructor(){super(Di(qa.getDefaults(),arguments,[\"channels\"])),this.name=\"Split\";const t=Di(qa.getDefaults(),arguments,[\"channels\"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(wo.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Fa extends wo{constructor(){super(Di(Fa.getDefaults(),arguments,[\"channels\"])),this.name=\"Merge\";const t=Di(Fa.getDefaults(),arguments,[\"channels\"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(wo.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Ia extends wo{constructor(t){super(t),this.name=\"StereoEffect\",this.input=new ko({context:this.context}),this.input.channelCount=2,this.input.channelCountMode=\"explicit\",this._dryWet=this.output=new ba({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new qa({context:this.context,channels:2}),this._merge=new Fa({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ui(this,[\"wet\"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),bo(...t),To(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),bo(...t),To(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(wo.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Va extends Ia{constructor(t){super(t),this.feedback=new Do({context:this.context,value:t.feedback,units:\"normalRange\"}),this._feedbackL=new ko({context:this.context}),this._feedbackR=new ko({context:this.context}),this._feedbackSplit=new qa({context:this.context,channels:2}),this._feedbackMerge=new Fa({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ui(this,[\"feedback\"])}static getDefaults(){return Object.assign(Ia.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Na extends Va{constructor(){super(Di(Na.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"])),this.name=\"Chorus\";const t=Di(Na.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new yr({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new yr({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Fo({context:this.context}),this._delayNodeR=new Fo({context:this.context}),this.frequency=this._lfoL.frequency,Ui(this,[\"frequency\"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(Va.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:\"sine\",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Pa extends Ta{constructor(){super(Di(Pa.getDefaults(),arguments,[\"distortion\"])),this.name=\"Distortion\";const t=Di(Pa.getDefaults(),arguments,[\"distortion\"]);this._shaper=new rr({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(Ta.getDefaults(),{distortion:.4,oversample:\"none\"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,s=Math.PI/180;this._shaper.setMap(t=>Math.abs(t)<.001?0:(3+e)*t*20*s/(Math.PI+e*Math.abs(t)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class ja extends Ta{constructor(t){super(t),this.name=\"FeedbackEffect\",this._feedbackGain=new ko({context:this.context,gain:t.feedback,units:\"normalRange\"}),this.feedback=this._feedbackGain.gain,Ui(this,\"feedback\"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Ta.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class La extends ja{constructor(){super(Di(La.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"FeedbackDelay\";const t=Di(La.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._delayNode=new Fo({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ui(this,\"delayTime\")}static getDefaults(){return Object.assign(ja.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class za extends wo{constructor(t){super(t),this.name=\"PhaseShiftAllpass\",this.input=new ko({context:this.context}),this.output=new ko({context:this.context}),this.offset90=new ko({context:this.context});this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),bo(this.input,...this._bank0,this._oneSampleDelay,this.output),bo(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map(t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=>t.disconnect()),this._bank1.forEach(t=>t.disconnect()),this._oneSampleDelay.disconnect(),this}}class Ba extends Ta{constructor(){super(Di(Ba.getDefaults(),arguments,[\"frequency\"])),this.name=\"FrequencyShifter\";const t=Di(Ba.getDefaults(),arguments,[\"frequency\"]);this.frequency=new Do({context:this.context,units:\"frequency\",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new nr({context:this.context,type:\"sine\"}),this._cosine=new ir({context:this.context,phase:-90,type:\"sine\"}),this._sineMultiply=new cr({context:this.context}),this._cosineMultiply=new cr({context:this.context}),this._negate=new Ar({context:this.context}),this._add=new mr({context:this.context}),this._phaseShifter=new za({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(Ta.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Wa=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Ga=[225,556,441,341];class Ua extends Ia{constructor(){super(Di(Ua.getDefaults(),arguments,[\"roomSize\",\"dampening\"])),this.name=\"Freeverb\",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=Di(Ua.getDefaults(),arguments,[\"roomSize\",\"dampening\"]);this.roomSize=new Do({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._allpassFiltersL=Ga.map(t=>{const e=this.context.createBiquadFilter();return e.type=\"allpass\",e.frequency.value=t,e}),this._allpassFiltersR=Ga.map(t=>{const e=this.context.createBiquadFilter();return e.type=\"allpass\",e.frequency.value=t,e}),this._combFilters=Wa.map((e,s)=>{const n=new ia({context:this.context,dampening:t.dampening,delayTime:e});return s<Wa.length/2?this.connectEffectLeft(n,...this._allpassFiltersL):this.connectEffectRight(n,...this._allpassFiltersR),this.roomSize.connect(n.resonance),n}),Ui(this,[\"roomSize\"])}static getDefaults(){return Object.assign(Ia.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach(e=>e.dampening=t)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=>t.disconnect()),this._allpassFiltersR.forEach(t=>t.disconnect()),this._combFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this}}const Qa=[.06748,.06404,.08212,.09004],Za=[.773,.802,.753,.733],Xa=[347,113,37];class Ya extends Ia{constructor(){super(Di(Ya.getDefaults(),arguments,[\"roomSize\"])),this.name=\"JCReverb\",this._allpassFilters=[],this._feedbackCombFilters=[];const t=Di(Ya.getDefaults(),arguments,[\"roomSize\"]);this.roomSize=new Do({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._scaleRoomSize=new gr({context:this.context,min:-.733,max:.197}),this._allpassFilters=Xa.map(t=>{const e=this.context.createBiquadFilter();return e.type=\"allpass\",e.frequency.value=t,e}),this._feedbackCombFilters=Qa.map((t,e)=>{const s=new sa({context:this.context,delayTime:t});return this._scaleRoomSize.connect(s.resonance),s.resonance.value=Za[e],e<Qa.length/2?this.connectEffectLeft(...this._allpassFilters,s):this.connectEffectRight(...this._allpassFilters,s),s}),this.roomSize.connect(this._scaleRoomSize),Ui(this,[\"roomSize\"])}static getDefaults(){return Object.assign(Ia.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=>t.disconnect()),this._feedbackCombFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Ha extends Va{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ui(this,[\"feedback\"])}}class $a extends Ha{constructor(){super(Di($a.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"PingPongDelay\";const t=Di($a.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._leftDelay=new Fo({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Fo({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Fo({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new Do({context:this.context,units:\"time\",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ui(this,[\"delayTime\"])}static getDefaults(){return Object.assign(Ha.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Ja extends ja{constructor(){super(Di(Ja.getDefaults(),arguments,[\"pitch\"])),this.name=\"PitchShift\";const t=Di(Ja.getDefaults(),arguments,[\"pitch\"]);this._frequency=new Do({context:this.context}),this._delayA=new Fo({maxDelay:1,context:this.context}),this._lfoA=new yr({context:this.context,min:0,max:.1,type:\"sawtooth\"}).connect(this._delayA.delayTime),this._delayB=new Fo({maxDelay:1,context:this.context}),this._lfoB=new yr({context:this.context,min:0,max:.1,type:\"sawtooth\",phase:180}).connect(this._delayB.delayTime),this._crossFade=new ba({context:this.context}),this._crossFadeLFO=new yr({context:this.context,min:0,max:1,type:\"triangle\",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Fo({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ui(this,\"delayTime\"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(ja.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=no(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=no(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Ka extends Ia{constructor(){super(Di(Ka.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"])),this.name=\"Phaser\";const t=Di(Ka.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"]);this._lfoL=new yr({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new yr({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new Do({context:this.context,value:t.Q,units:\"positive\"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Ui(this,[\"frequency\",\"Q\"])}static getDefaults(){return Object.assign(Ia.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const s=[];for(let n=0;n<t;n++){const t=this.context.createBiquadFilter();t.type=\"allpass\",this.Q.connect(t.Q),e.connect(t.frequency),s.push(t)}return s}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=>t.disconnect()),this._filtersR.forEach(t=>t.disconnect()),this.frequency.dispose(),this}}class tc extends Ta{constructor(){super(Di(tc.getDefaults(),arguments,[\"decay\"])),this.name=\"Reverb\",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=Di(tc.getDefaults(),arguments,[\"decay\"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Ta.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){ei(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){ei(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return yi(this,void 0,void 0,(function*(){const t=this.ready,e=new Yi(2,this._decay+this._preDelay,this.context.sampleRate),s=new Jo({context:e}),n=new Jo({context:e}),i=new Fa({context:e});s.connect(i,0,0),n.connect(i,0,1);const o=new ko({context:e}).toDestination();i.connect(o),s.start(0),n.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const r=e.render();return this.ready=r.then(Zi),yield t,this._convolver.buffer=(yield r).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class ec extends wo{constructor(){super(Di(ec.getDefaults(),arguments)),this.name=\"MidSideSplit\",this._split=this.input=new qa({channels:2,context:this.context}),this._midAdd=new mr({context:this.context}),this.mid=new cr({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Dr({context:this.context}),this.side=new cr({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class sc extends wo{constructor(){super(Di(sc.getDefaults(),arguments)),this.name=\"MidSideMerge\",this.mid=new ko({context:this.context}),this.side=new ko({context:this.context}),this._left=new mr({context:this.context}),this._leftMult=new cr({context:this.context,value:Math.SQRT1_2}),this._right=new Dr({context:this.context}),this._rightMult=new cr({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Fa({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class nc extends Ta{constructor(t){super(t),this.name=\"MidSideEffect\",this._midSideMerge=new sc({context:this.context}),this._midSideSplit=new ec({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class ic extends nc{constructor(){super(Di(ic.getDefaults(),arguments,[\"width\"])),this.name=\"StereoWidener\";const t=Di(ic.getDefaults(),arguments,[\"width\"]);this.width=new Do({context:this.context,value:t.width,units:\"normalRange\"}),Ui(this,[\"width\"]),this._twoTimesWidthMid=new cr({context:this.context,value:2}),this._twoTimesWidthSide=new cr({context:this.context,value:2}),this._midMult=new cr({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Dr({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),To(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new cr({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(nc.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class oc extends Ia{constructor(){super(Di(oc.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Tremolo\";const t=Di(oc.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._lfoL=new yr({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new yr({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new ko({context:this.context}),this._amplitudeR=new ko({context:this.context}),this.frequency=new Do({context:this.context,value:t.frequency,units:\"frequency\"}),this.depth=new Do({context:this.context,value:t.depth,units:\"normalRange\"}),Ui(this,[\"frequency\",\"depth\"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(Ia.getDefaults(),{frequency:10,type:\"sine\",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class rc extends Ta{constructor(){super(Di(rc.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Vibrato\";const t=Di(rc.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._delayNode=new Fo({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new yr({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Ui(this,[\"frequency\",\"depth\"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Ta.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:\"sine\"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class ac extends wo{constructor(){super(Di(ac.getDefaults(),arguments,[\"type\",\"size\"])),this.name=\"Analyser\",this._analysers=[],this._buffers=[];const t=Di(ac.getDefaults(),arguments,[\"type\",\"size\"]);this.input=this.output=this._gain=new ko({context:this.context}),this._split=new qa({context:this.context,channels:t.channels}),this.input.connect(this._split),ei(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(wo.getDefaults(),{size:1024,smoothing:.8,type:\"fft\",channels:1})}getValue(){return this._analysers.forEach((t,e)=>{const s=this._buffers[e];\"fft\"===this._type?t.getFloatFrequencyData(s):\"waveform\"===this._type&&t.getFloatTimeDomainData(s)}),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((e,s)=>{e.fftSize=2*t,this._buffers[s]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){ti(\"waveform\"===t||\"fft\"===t,\"Analyser: invalid type: \"+t),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(e=>e.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=>t.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class cc extends wo{constructor(){super(Di(cc.getDefaults(),arguments)),this.name=\"MeterBase\",this.input=this.output=this._analyser=new ac({context:this.context,size:256,type:\"waveform\"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class hc extends cc{constructor(){super(Di(hc.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Meter\",this._rms=0;const t=Di(hc.getDefaults(),arguments,[\"smoothing\"]);this.input=this.output=this._analyser=new ac({context:this.context,size:256,type:\"waveform\",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(cc.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return ri(\"'getLevel' has been changed to 'getValue'\"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map(t=>{const e=t.reduce((t,e)=>t+e*e,0),s=Math.sqrt(e/t.length);return this._rms=Math.max(s,this._rms*this.smoothing),this.normalRange?this._rms:so(this._rms)});return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class uc extends cc{constructor(){super(Di(uc.getDefaults(),arguments,[\"size\"])),this.name=\"FFT\";const t=Di(uc.getDefaults(),arguments,[\"size\"]);this.normalRange=t.normalRange,this._analyser.type=\"fft\",this.size=t.size}static getDefaults(){return Object.assign(wo.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(t=>this.normalRange?eo(t):t)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return ti(0<=t&&t<this.size,\"index must be greater than or equal to 0 and less than \"+this.size),t*this.context.sampleRate/(2*this.size)}}class lc extends cc{constructor(){super(Di(lc.getDefaults(),arguments)),this.name=\"DCMeter\",this._analyser.type=\"waveform\",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class pc extends cc{constructor(){super(Di(pc.getDefaults(),arguments,[\"size\"])),this.name=\"Waveform\";const t=Di(pc.getDefaults(),arguments,[\"size\"]);this._analyser.type=\"waveform\",this.size=t.size}static getDefaults(){return Object.assign(cc.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class dc extends wo{constructor(){super(Di(dc.getDefaults(),arguments,[\"solo\"])),this.name=\"Solo\";const t=Di(dc.getDefaults(),arguments,[\"solo\"]);this.input=this.output=new ko({context:this.context}),dc._allSolos.has(this.context)||dc._allSolos.set(this.context,new Set),dc._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(wo.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),dc._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){dc._soloed.has(this.context)||dc._soloed.set(this.context,new Set),dc._soloed.get(this.context).add(this)}_removeSolo(){dc._soloed.has(this.context)&&dc._soloed.get(this.context).delete(this)}_isSoloed(){return dc._soloed.has(this.context)&&dc._soloed.get(this.context).has(this)}_noSolos(){return!dc._soloed.has(this.context)||dc._soloed.has(this.context)&&0===dc._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),dc._allSolos.get(this.context).delete(this),this._removeSolo(),this}}dc._allSolos=new Map,dc._soloed=new Map;class fc extends wo{constructor(){super(Di(fc.getDefaults(),arguments,[\"pan\",\"volume\"])),this.name=\"PanVol\";const t=Di(fc.getDefaults(),arguments,[\"pan\",\"volume\"]);this._panner=this.input=new Ca({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Go({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ui(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(wo.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class _c extends wo{constructor(){super(Di(_c.getDefaults(),arguments,[\"volume\",\"pan\"])),this.name=\"Channel\";const t=Di(_c.getDefaults(),arguments,[\"volume\",\"pan\"]);this._solo=this.input=new dc({solo:t.solo,context:this.context}),this._panVol=this.output=new fc({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ui(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(wo.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return _c.buses.has(t)||_c.buses.set(t,new ko({context:this.context})),_c.buses.get(t)}send(t,e=0){const s=this._getBus(t),n=new ko({context:this.context,units:\"decibels\",gain:e});return this.connect(n),n.connect(s),n}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}_c.buses=new Map;class mc extends wo{constructor(){super(Di(mc.getDefaults(),arguments)),this.name=\"Mono\",this.input=new ko({context:this.context}),this._merge=this.output=new Fa({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class gc extends wo{constructor(){super(Di(gc.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"])),this.name=\"MultibandSplit\",this.input=new ko({context:this.context}),this.output=void 0,this.low=new Wr({context:this.context,frequency:0,type:\"lowpass\"}),this._lowMidFilter=new Wr({context:this.context,frequency:0,type:\"highpass\"}),this.mid=new Wr({context:this.context,frequency:0,type:\"lowpass\"}),this.high=new Wr({context:this.context,frequency:0,type:\"highpass\"}),this._internalChannels=[this.low,this.mid,this.high];const t=Di(gc.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"]);this.lowFrequency=new Do({context:this.context,units:\"frequency\",value:t.lowFrequency}),this.highFrequency=new Do({context:this.context,units:\"frequency\",value:t.highFrequency}),this.Q=new Do({context:this.context,units:\"positive\",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ui(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(wo.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Qi(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class vc extends wo{constructor(){super(...arguments),this.name=\"Listener\",this.positionX=new xo({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new xo({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new xo({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new xo({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new xo({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new xo({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new xo({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new xo({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new xo({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(wo.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ji(t=>{t.listener=new vc({context:t})}),zi(t=>{t.listener.dispose()});class yc extends wo{constructor(){super(Di(yc.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"])),this.name=\"Panner3D\";const t=Di(yc.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new xo({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new xo({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new xo({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new xo({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new xo({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new xo({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(wo.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,s){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=s,this}setOrientation(t,e,s){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=s,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class xc extends wo{constructor(){super(Di(xc.getDefaults(),arguments)),this.name=\"Recorder\";const t=Di(xc.getDefaults(),arguments);this.input=new ko({context:this.context}),ti(xc.supported,\"Media Recorder API is not available\"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return wo.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==mi&&Reflect.has(mi,\"MediaRecorder\")}get state(){return\"inactive\"===this._recorder.state?\"stopped\":\"paused\"===this._recorder.state?\"paused\":\"started\"}start(){return yi(this,void 0,void 0,(function*(){ti(\"started\"!==this.state,\"Recorder is already started\");const t=new Promise(t=>{const e=()=>{this._recorder.removeEventListener(\"start\",e,!1),t()};this._recorder.addEventListener(\"start\",e,!1)});return this._recorder.start(),yield t}))}stop(){return yi(this,void 0,void 0,(function*(){ti(\"stopped\"!==this.state,\"Recorder is not started\");const t=new Promise(t=>{const e=s=>{this._recorder.removeEventListener(\"dataavailable\",e,!1),t(s.data)};this._recorder.addEventListener(\"dataavailable\",e,!1)});return this._recorder.stop(),yield t}))}pause(){return ti(\"started\"===this.state,\"Recorder must be started\"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class wc extends wo{constructor(){super(Di(wc.getDefaults(),arguments,[\"threshold\",\"ratio\"])),this.name=\"Compressor\",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=Di(wc.getDefaults(),arguments,[\"threshold\",\"ratio\"]);this.threshold=new xo({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:\"decibels\",value:t.threshold}),this.attack=new xo({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:\"time\",value:t.attack}),this.release=new xo({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:\"time\",value:t.release}),this.knee=new xo({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:\"decibels\",value:t.knee}),this.ratio=new xo({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:\"positive\",value:t.ratio}),Ui(this,[\"knee\",\"release\",\"attack\",\"ratio\",\"threshold\"])}static getDefaults(){return Object.assign(wo.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class bc extends wo{constructor(){super(Object.assign(Di(bc.getDefaults(),arguments,[\"threshold\",\"smoothing\"]))),this.name=\"Gate\";const t=Di(bc.getDefaults(),arguments,[\"threshold\",\"smoothing\"]);this._follower=new Da({context:this.context,smoothing:t.smoothing}),this._gt=new Mr({context:this.context,value:eo(t.threshold)}),this.input=new ko({context:this.context}),this._gate=this.output=new ko({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(wo.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return so(this._gt.value)}set threshold(t){this._gt.value=eo(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Tc extends wo{constructor(){super(Object.assign(Di(Tc.getDefaults(),arguments,[\"threshold\"]))),this.name=\"Limiter\";const t=Di(Tc.getDefaults(),arguments,[\"threshold\"]);this._compressor=this.input=this.output=new wc({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Ui(this,\"threshold\")}static getDefaults(){return Object.assign(wo.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Sc extends wo{constructor(){super(Object.assign(Di(Sc.getDefaults(),arguments))),this.name=\"MidSideCompressor\";const t=Di(Sc.getDefaults(),arguments);this._midSideSplit=this.input=new ec({context:this.context}),this._midSideMerge=this.output=new sc({context:this.context}),this.mid=new wc(Object.assign(t.mid,{context:this.context})),this.side=new wc(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ui(this,[\"mid\",\"side\"])}static getDefaults(){return Object.assign(wo.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class kc extends wo{constructor(){super(Object.assign(Di(kc.getDefaults(),arguments))),this.name=\"MultibandCompressor\";const t=Di(kc.getDefaults(),arguments);this._splitter=this.input=new gc({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new ko({context:this.context}),this.low=new wc(Object.assign(t.low,{context:this.context})),this.mid=new wc(Object.assign(t.mid,{context:this.context})),this.high=new wc(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ui(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(wo.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Cc extends wo{constructor(){super(Di(Cc.getDefaults(),arguments,[\"low\",\"mid\",\"high\"])),this.name=\"EQ3\",this.output=new ko({context:this.context}),this._internalChannels=[];const t=Di(Cc.getDefaults(),arguments,[\"low\",\"mid\",\"high\"]);this.input=this._multibandSplit=new gc({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new ko({context:this.context,gain:t.low,units:\"decibels\"}),this._midGain=new ko({context:this.context,gain:t.mid,units:\"decibels\"}),this._highGain=new ko({context:this.context,gain:t.high,units:\"decibels\"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ui(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(wo.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Qi(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Ac extends wo{constructor(){super(Di(Ac.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Convolver\",this._convolver=this.context.createConvolver();const t=Di(Ac.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new Xi(t.url,e=>{this.buffer=e,t.onload()}),this.input=new ko({context:this.context}),this.output=new ko({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(wo.getDefaults(),{normalize:!0,onload:Zi})}load(t){return yi(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function Dc(){return Ji().now()}function Oc(){return Ji().immediate()}const Mc=Ji().transport;function Ec(){return Ji().transport}const Rc=Ji().destination,qc=Ji().destination;function Fc(){return Ji().destination}const Ic=Ji().listener;function Vc(){return Ji().listener}const Nc=Ji().draw;function Pc(){return Ji().draw}const jc=Ji();function Lc(){return Xi.loaded()}const zc=Xi,Bc=Vo,Wc=$o}])}));\n//# sourceMappingURL=Tone.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vdG9uZUAxNC43Ljc3L25vZGVfbW9kdWxlcy90b25lL2J1aWxkL1RvbmUuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxLQUFpRCxvQkFBb0IsQ0FBdUcsQ0FBQyxnREFBZ0QsbUJBQW1CLFNBQVMsY0FBYyw0QkFBNEIsWUFBWSxxQkFBcUIsMkRBQTJELHVDQUF1QyxxQ0FBcUMsb0JBQW9CLEVBQUUsaUJBQWlCLDRGQUE0RixlQUFlLHdDQUF3QyxTQUFTLEVBQUUsbUJBQW1CLDhCQUE4QixxREFBcUQsMEJBQTBCLDZDQUE2QyxzQkFBc0IsNkRBQTZELFlBQVksZUFBZSxTQUFTLGlCQUFpQixpQ0FBaUMsaUJBQWlCLFlBQVksVUFBVSxzQkFBc0IsbUJBQW1CLGlEQUFpRCxpQkFBaUIsa0JBQWtCLG1CQUFtQixhQUFhLGNBQWMsK0NBQStDLFdBQVcsMkNBQTJDLE9BQU8sOERBQThELG1CQUFtQixPQUFPLHlEQUF5RCxpQkFBaUIsT0FBTyxxQ0FBcUMsbUJBQW1CLE9BQU8sc0RBQXNELG1CQUFtQiw4Q0FBOEMsaUNBQWlDLGVBQWUsd0NBQXdDLGVBQWUsbUNBQW1DLGVBQWUsa0JBQWtCLGVBQWUsMEJBQTBCLGVBQWUsK0JBQStCLHVCQUF1QixXQUFXLHNHQUFzRyx1QkFBdUIsc0xBQXNMLGVBQWUsK0JBQStCLGVBQWUsdUNBQXVDLGVBQWUsZ0VBQWdFLHFCQUFxQiwwQkFBMEIsZ0VBQWdFLHFCQUFxQix5Q0FBeUMsaUJBQWlCLDBDQUEwQyxxQkFBcUIsbUNBQW1DLGdEQUFnRCx5QkFBeUIsZUFBZSwyQkFBMkIsY0FBYyxjQUFjLG9GQUFvRixxQkFBcUIscUNBQXFDLGtEQUFrRCxFQUFFLDRCQUE0QixXQUFXLGVBQWUsb0RBQW9ELG9EQUFvRCwrQkFBK0IsNEVBQTRFLDhEQUE4RCxxQkFBcUIsMkRBQTJELHNLQUFzSywrQkFBK0IsaU9BQWlPLEtBQUssb0RBQW9ELGNBQWMsZ0dBQWdHLGdEQUFnRCxzRkFBc0YseUNBQXlDLEtBQUssNERBQTRELHNDQUFzQyxVQUFVLEVBQUUsOEJBQThCLG9EQUFvRCxjQUFjLEdBQUcsUUFBUSwrQ0FBK0Msd0hBQXdILEVBQUUsaUNBQWlDLCtEQUErRCw4R0FBOEcsY0FBYyx1RUFBdUUsb0lBQW9JLHdEQUF3RCxzSUFBc0ksd0RBQXdELHFCQUFxQiwwRkFBMEYsa0JBQWtCLHFCQUFxQiwwRkFBMEYsa0JBQWtCLDJCQUEyQixLQUFLLEdBQUcseUVBQXlFLE9BQU8sbUNBQW1DLDBEQUEwRCxPQUFPLDJDQUEyQyw2REFBNkQsT0FBTyxpREFBaUQsd0RBQXdELE9BQU8sNENBQTRDLGtEQUFrRCxPQUFPLHNEQUFzRCxnSEFBZ0gsU0FBUyxFQUFFLG1CQUFtQixpQkFBaUIsZ0NBQWdDLHdCQUF3QixrQ0FBa0MsZUFBZSxzQkFBc0IsOEJBQThCLGVBQWUsd0JBQXdCLDZEQUE2RCw0QkFBNEIsSUFBSSxpQ0FBaUMsMkRBQTJELE9BQU8sU0FBUyxTQUFTLFFBQVEsSUFBSSw4QkFBOEIsUUFBUSxjQUFjLFdBQVcsaUJBQWlCLFdBQVcsd0JBQXdCLE1BQU0sb0NBQW9DLG9EQUFvRCxpTEFBaUwsZUFBZSx3QkFBd0Isb0NBQW9DLDJCQUEyQixJQUFJLGNBQWMsVUFBVSxlQUFlLHFCQUFxQixrS0FBa0ssZUFBZSx3QkFBd0IsK0VBQStFLGVBQWUsZ0JBQWdCLFlBQVksV0FBVyxLQUFLLFdBQVcsK0dBQStHLDBCQUEwQix3Q0FBd0MsaUJBQWlCLGFBQWEsc0NBQXNDLFVBQVUsa0NBQWtDLFVBQVUsNkJBQTZCLFVBQVUsK0JBQStCLFVBQVUsbUNBQW1DLFVBQVUsNkJBQTZCLFVBQVUsNEJBQTRCLFVBQVUsK0JBQStCLFVBQVUsc0NBQXNDLFVBQVUsNkJBQTZCLFVBQVUsdUNBQXVDLFVBQVUsd0NBQXdDLFVBQVUscUNBQXFDLFVBQVUscUNBQXFDLFVBQVUsK0JBQStCLFVBQVUsa0NBQWtDLFVBQVUsc0NBQXNDLFVBQVUsaUNBQWlDLFVBQVUsaUNBQWlDLFVBQVUsNEJBQTRCLFVBQVUsaUNBQWlDLFVBQVUsNEJBQTRCLFVBQVUsa0NBQWtDLFVBQVUsNkJBQTZCLFVBQVUsMENBQTBDLFVBQVUscUNBQXFDLFVBQVUsK0JBQStCLFVBQVUsd0NBQXdDLFVBQVUscUNBQXFDLFVBQVUsZ0NBQWdDLFVBQVUsK0JBQStCLFVBQVUsaUNBQWlDLFVBQVUsa0NBQWtDLFVBQVUsZ0NBQWdDLFVBQVUsZ0NBQWdDLFVBQVUsaUNBQWlDLFVBQVUsK0JBQStCLFVBQVUsZ0NBQWdDLFVBQVUsOEJBQThCLFVBQVUsZ0NBQWdDLFVBQVUsZ0NBQWdDLFVBQVUsZ0RBQWdELFVBQVUsNEJBQTRCLFVBQVUsNEJBQTRCLFVBQVUsNENBQTRDLFVBQVUsa0NBQWtDLFVBQVUsNEJBQTRCLFNBQVMsNkJBQTZCLFNBQVMsNkJBQTZCLFVBQVUsaUNBQWlDLFVBQVUsa0NBQWtDLFVBQVUsb0NBQW9DLFVBQVUsb0NBQW9DLFVBQVUsdUNBQXVDLFVBQVUscUNBQXFDLFVBQVUscUNBQXFDLFVBQVUsc0NBQXNDLFVBQVUsMENBQTBDLFVBQVUsMkJBQTJCLFVBQVUsd0NBQXdDLFVBQVUsOEJBQThCLFVBQVUsK0JBQStCLFVBQVUsbUNBQW1DLFVBQVUsMkJBQTJCLFVBQVUsMkJBQTJCLFVBQVUsbUNBQW1DLFVBQVUsbUNBQW1DLFVBQVUsbUNBQW1DLFVBQVUsdUNBQXVDLFVBQVUsZ0NBQWdDLFVBQVUsOEJBQThCLFVBQVUsMkJBQTJCLFVBQVUsOEJBQThCLFVBQVUscUNBQXFDLFVBQVUsNkJBQTZCLFVBQVUsZ0NBQWdDLFVBQVUsZ0NBQWdDLFVBQVUsb0NBQW9DLFVBQVUsa0NBQWtDLFVBQVUsNEJBQTRCLFVBQVUsK0JBQStCLFVBQVUsZ0NBQWdDLFVBQVUsK0JBQStCLFVBQVUsa0NBQWtDLFVBQVUscUNBQXFDLFVBQVUsaUNBQWlDLFVBQVUsa0NBQWtDLFVBQVUsa0NBQWtDLFVBQVUsaUNBQWlDLFVBQVUsK0JBQStCLFVBQVUsNkJBQTZCLFVBQVUsNEJBQTRCLFVBQVUsNEJBQTRCLFVBQVUsK0JBQStCLFVBQVUsZ0NBQWdDLFVBQVUsaUNBQWlDLFVBQVUsa0NBQWtDLFVBQVUsa0NBQWtDLFVBQVUsK0JBQStCLFVBQVUsa0NBQWtDLFVBQVUsaUNBQWlDLFVBQVUsOEJBQThCLFVBQVUsa0NBQWtDLFVBQVUscUNBQXFDLFVBQVUsd0NBQXdDLFVBQVUsZ0NBQWdDLFVBQVUsZ0NBQWdDLFVBQVUscUNBQXFDLFVBQVUsa0NBQWtDLFVBQVUsOEJBQThCLFVBQVUsOEJBQThCLFVBQVUscUNBQXFDLFVBQVUsK0JBQStCLFVBQVUsK0JBQStCLFVBQVUsZ0NBQWdDLFVBQVUsNkJBQTZCLFVBQVUsMkJBQTJCLFVBQVUsK0JBQStCLFVBQVUsZ0NBQWdDLFVBQVUsZ0NBQWdDLFVBQVUsK0JBQStCLFVBQVUsaUNBQWlDLFVBQVUsNkJBQTZCLFVBQVUsb0NBQW9DLFVBQVUsb0NBQW9DLFVBQVUsNEJBQTRCLFVBQVUsc0NBQXNDLFVBQVUsOEJBQThCLFVBQVUsZ0NBQWdDLFVBQVUsOEJBQThCLFVBQVUsZ0NBQWdDLFVBQVUsNEJBQTRCLFVBQVUsNkJBQTZCLFVBQVUsOEJBQThCLFVBQVUsa0NBQWtDLFVBQVUsNEJBQTRCLFVBQVUsK0JBQStCLFVBQVUseUNBQXlDLFVBQVUsMkNBQTJDLFVBQVUseUNBQXlDLFVBQVUsZ0NBQWdDLFVBQVUseUNBQXlDLFVBQVUsMkJBQTJCLFVBQVUsOEJBQThCLFVBQVUscUNBQXFDLFVBQVUsMENBQTBDLFVBQVUseUNBQXlDLFVBQVUsaUNBQWlDLFVBQVUsb0NBQW9DLFVBQVUsK0JBQStCLFNBQVMsNkJBQTZCLFVBQVUsaUNBQWlDLFVBQVUsMkJBQTJCLFVBQVUsaUNBQWlDLFVBQVUsaUNBQWlDLFVBQVUsb0NBQW9DLFVBQVUsbUNBQW1DLFVBQVUsOEJBQThCLFVBQVUsc0NBQXNDLFVBQVUsZ0NBQWdDLFVBQVUsbUNBQW1DLFVBQVUsNEJBQTRCLFVBQVUsK0JBQStCLFVBQVUsK0JBQStCLFVBQVUsOEJBQThCLFVBQVUsOEJBQThCLFVBQVUsK0JBQStCLFVBQVUsb0NBQW9DLFVBQVUsR0FBRyxTQUFTLGtDQUFrQyxVQUFVLG1DQUFtQyxVQUFVLDRDQUE0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eUMscUJBQXFCLHVDQUF1QyxxQkFBcUIsMENBQTBDLHFCQUFxQiwwSkFBMEoscUJBQXFCLHVDQUF1QyxLQUFLLHFEQUFxRCxPQUFPLHNEQUFzRCxFQUFFLFVBQVUsOEhBQThILG9CQUFvQixjQUFjLHFGQUFxRix1Q0FBdUMsa0NBQWtDLCtFQUErRSxvSEFBb0gscUJBQXFCLHVDQUF1QyxxQkFBcUIsd0NBQXdDLHFCQUFxQiwwQ0FBMEMscUJBQXFCLCtNQUErTSxxQkFBcUIsdUNBQXVDLHdDQUF3QyxxREFBcUQsTUFBTSxxREFBcUQsT0FBTyxzREFBc0QsRUFBRSxVQUFVLHNJQUFzSSxvQkFBb0IsY0FBYywrRkFBK0YscUJBQXFCLDRCQUE0Qiw0REFBNEQsd0NBQXdDLCtFQUErRSx3QkFBd0IsaURBQWlELHdCQUF3QixpREFBaUQseUJBQXlCLGtEQUFrRCwyZkFBMmYscUJBQXFCLHVDQUF1Qyx1REFBdUQsRUFBRSxVQUFVLHNVQUFzVSxvQkFBb0IsY0FBYyw0SEFBNEgsd0RBQXdELDhCQUE4Qix5QkFBeUIscUJBQXFCLHFCQUFxQixzQkFBc0IscUJBQXFCLDJIQUEySCxxQkFBcUIsdUNBQXVDLHVCQUF1QixFQUFFLFFBQVEsMENBQTBDLHVDQUF1QyxHQUFHLGFBQWEsNkNBQTZDLGNBQWMsbU1BQW1NLDJCQUEyQiwrQkFBK0IsZ0JBQWdCLGlDQUFpQyxpQkFBaUIsNEJBQTRCLFVBQVUsaUZBQWlGLGNBQWMsa0JBQWtCLGNBQWMsd0JBQXdCLHdCQUF3QixjQUFjLHNCQUFzQiw4Q0FBOEMsY0FBYyx3QkFBd0IsdUJBQXVCLGNBQWMscUJBQXFCLG1CQUFtQixjQUFjLGlCQUFpQixjQUFjLGNBQWMsbUJBQW1CLHdCQUF3QixHQUFHO0FBQzc4eE4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb21vbmdhaC5naXRodWIuaW8vLi9ub2RlX21vZHVsZXMvLnBucG0vdG9uZUAxNC43Ljc3L25vZGVfbW9kdWxlcy90b25lL2J1aWxkL1RvbmUuanM/NGFiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlRvbmU9ZSgpOnQuVG9uZT1lKCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gcyhuKXtpZihlW25dKXJldHVybiBlW25dLmV4cG9ydHM7dmFyIGk9ZVtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbbl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMscyksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gcy5tPXQscy5jPWUscy5kPWZ1bmN0aW9uKHQsZSxuKXtzLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxzLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0scy50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1zKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYocy5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgaSBpbiB0KXMuZChuLGksZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxpKSk7cmV0dXJuIG59LHMubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gcy5kKGUsXCJhXCIsZSksZX0scy5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxzLnA9XCJcIixzKHMucz05KX0oW2Z1bmN0aW9uKHQsZSxzKXshZnVuY3Rpb24odCxlLHMsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiZGVmYXVsdFwiaW4gdD90OntkZWZhdWx0OnR9fXZhciBvPWkoZSkscj1pKHMpLGE9aShuKSxjPWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm57ZW5kVGltZTplLGluc2VydFRpbWU6cyx0eXBlOlwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZVwiLHZhbHVlOnR9fSxoPWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm57ZW5kVGltZTplLGluc2VydFRpbWU6cyx0eXBlOlwibGluZWFyUmFtcFRvVmFsdWVcIix2YWx1ZTp0fX0sdT1mdW5jdGlvbih0LGUpe3JldHVybntzdGFydFRpbWU6ZSx0eXBlOlwic2V0VmFsdWVcIix2YWx1ZTp0fX0sbD1mdW5jdGlvbih0LGUscyl7cmV0dXJue2R1cmF0aW9uOnMsc3RhcnRUaW1lOmUsdHlwZTpcInNldFZhbHVlQ3VydmVcIix2YWx1ZXM6dH19LHA9ZnVuY3Rpb24odCxlLHMpe3ZhciBuPXMuc3RhcnRUaW1lLGk9cy50YXJnZXQsbz1zLnRpbWVDb25zdGFudDtyZXR1cm4gaSsoZS1pKSpNYXRoLmV4cCgobi10KS9vKX0sZD1mdW5jdGlvbih0KXtyZXR1cm5cImV4cG9uZW50aWFsUmFtcFRvVmFsdWVcIj09PXQudHlwZX0sZj1mdW5jdGlvbih0KXtyZXR1cm5cImxpbmVhclJhbXBUb1ZhbHVlXCI9PT10LnR5cGV9LF89ZnVuY3Rpb24odCl7cmV0dXJuIGQodCl8fGYodCl9LG09ZnVuY3Rpb24odCl7cmV0dXJuXCJzZXRWYWx1ZVwiPT09dC50eXBlfSxnPWZ1bmN0aW9uKHQpe3JldHVyblwic2V0VmFsdWVDdXJ2ZVwiPT09dC50eXBlfSx2PWZ1bmN0aW9uIHQoZSxzLG4saSl7dmFyIG89ZVtzXTtyZXR1cm4gdm9pZCAwPT09bz9pOl8obyl8fG0obyk/by52YWx1ZTpnKG8pP28udmFsdWVzW28udmFsdWVzLmxlbmd0aC0xXTpwKG4sdChlLHMtMSxvLnN0YXJ0VGltZSxpKSxvKX0seT1mdW5jdGlvbih0LGUscyxuLGkpe3JldHVybiB2b2lkIDA9PT1zP1tuLmluc2VydFRpbWUsaV06XyhzKT9bcy5lbmRUaW1lLHMudmFsdWVdOm0ocyk/W3Muc3RhcnRUaW1lLHMudmFsdWVdOmcocyk/W3Muc3RhcnRUaW1lK3MuZHVyYXRpb24scy52YWx1ZXNbcy52YWx1ZXMubGVuZ3RoLTFdXTpbcy5zdGFydFRpbWUsdih0LGUtMSxzLnN0YXJ0VGltZSxpKV19LHg9ZnVuY3Rpb24odCl7cmV0dXJuXCJjYW5jZWxBbmRIb2xkXCI9PT10LnR5cGV9LHc9ZnVuY3Rpb24odCl7cmV0dXJuXCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXNcIj09PXQudHlwZX0sYj1mdW5jdGlvbih0KXtyZXR1cm4geCh0KXx8dyh0KT90LmNhbmNlbFRpbWU6ZCh0KXx8Zih0KT90LmVuZFRpbWU6dC5zdGFydFRpbWV9LFQ9ZnVuY3Rpb24odCxlLHMsbil7dmFyIGk9bi5lbmRUaW1lLG89bi52YWx1ZTtyZXR1cm4gcz09PW8/bzowPHMmJjA8b3x8czwwJiZvPDA/cypNYXRoLnBvdyhvL3MsKHQtZSkvKGktZSkpOjB9LFM9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHMrKHQtZSkvKG4uZW5kVGltZS1lKSoobi52YWx1ZS1zKX0saz1mdW5jdGlvbih0LGUpe3ZhciBzPWUuZHVyYXRpb24sbj1lLnN0YXJ0VGltZSxpPWUudmFsdWVzO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBzPU1hdGguZmxvb3IoZSksbj1NYXRoLmNlaWwoZSk7cmV0dXJuIHM9PT1uP3Rbc106KDEtKGUtcykpKnRbc10rKDEtKG4tZSkpKnRbbl19KGksKHQtbikvcyooaS5sZW5ndGgtMSkpfSxDPWZ1bmN0aW9uKHQpe3JldHVyblwic2V0VGFyZ2V0XCI9PT10LnR5cGV9LEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3IuZGVmYXVsdCh0aGlzLHQpLHRoaXMuX2F1dG9tYXRpb25FdmVudHM9W10sdGhpcy5fY3VycmVuVGltZT0wLHRoaXMuX2RlZmF1bHRWYWx1ZT1lfXJldHVybiBhLmRlZmF1bHQodCxbe2tleTpTeW1ib2wuaXRlcmF0b3IsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXV0b21hdGlvbkV2ZW50c1tTeW1ib2wuaXRlcmF0b3JdKCl9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9Yih0KTtpZih4KHQpfHx3KHQpKXt2YXIgcz10aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmZpbmRJbmRleCgoZnVuY3Rpb24ocyl7cmV0dXJuIHcodCkmJmcocyk/cy5zdGFydFRpbWUrcy5kdXJhdGlvbj49ZTpiKHMpPj1lfSkpLG49dGhpcy5fYXV0b21hdGlvbkV2ZW50c1tzXTtpZigtMSE9PXMmJih0aGlzLl9hdXRvbWF0aW9uRXZlbnRzPXRoaXMuX2F1dG9tYXRpb25FdmVudHMuc2xpY2UoMCxzKSkseCh0KSl7dmFyIGk9dGhpcy5fYXV0b21hdGlvbkV2ZW50c1t0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmxlbmd0aC0xXTtpZih2b2lkIDAhPT1uJiZfKG4pKXtpZihDKGkpKXRocm93IG5ldyBFcnJvcihcIlRoZSBpbnRlcm5hbCBsaXN0IGlzIG1hbGZvcm1lZC5cIik7dmFyIG89ZyhpKT9pLnN0YXJ0VGltZStpLmR1cmF0aW9uOmIoaSkscj1nKGkpP2kudmFsdWVzW2kudmFsdWVzLmxlbmd0aC0xXTppLnZhbHVlLGE9ZChuKT9UKGUsbyxyLG4pOlMoZSxvLHIsbikscD1kKG4pP2MoYSxlLHRoaXMuX2N1cnJlblRpbWUpOmgoYSxlLHRoaXMuX2N1cnJlblRpbWUpO3RoaXMuX2F1dG9tYXRpb25FdmVudHMucHVzaChwKX12b2lkIDAhPT1pJiZDKGkpJiZ0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLnB1c2godSh0aGlzLmdldFZhbHVlKGUpLGUpKSx2b2lkIDAhPT1pJiZnKGkpJiZpLnN0YXJ0VGltZStpLmR1cmF0aW9uPmUmJih0aGlzLl9hdXRvbWF0aW9uRXZlbnRzW3RoaXMuX2F1dG9tYXRpb25FdmVudHMubGVuZ3RoLTFdPWwobmV3IEZsb2F0MzJBcnJheShbNiw3XSksaS5zdGFydFRpbWUsZS1pLnN0YXJ0VGltZSkpfX1lbHNle3ZhciBtPXRoaXMuX2F1dG9tYXRpb25FdmVudHMuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gYih0KT5lfSkpLHY9LTE9PT1tP3RoaXMuX2F1dG9tYXRpb25FdmVudHNbdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5sZW5ndGgtMV06dGhpcy5fYXV0b21hdGlvbkV2ZW50c1ttLTFdO2lmKHZvaWQgMCE9PXYmJmcodikmJmIodikrdi5kdXJhdGlvbj5lKXJldHVybiExO3ZhciB5PWQodCk/Yyh0LnZhbHVlLHQuZW5kVGltZSx0aGlzLl9jdXJyZW5UaW1lKTpmKHQpP2godC52YWx1ZSxlLHRoaXMuX2N1cnJlblRpbWUpOnQ7aWYoLTE9PT1tKXRoaXMuX2F1dG9tYXRpb25FdmVudHMucHVzaCh5KTtlbHNle2lmKGcodCkmJmUrdC5kdXJhdGlvbj5iKHRoaXMuX2F1dG9tYXRpb25FdmVudHNbbV0pKXJldHVybiExO3RoaXMuX2F1dG9tYXRpb25FdmVudHMuc3BsaWNlKG0sMCx5KX19cmV0dXJuITB9fSx7a2V5OlwiZmx1c2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoZSk+dH0pKTtpZihlPjEpe3ZhciBzPXRoaXMuX2F1dG9tYXRpb25FdmVudHMuc2xpY2UoZS0xKSxuPXNbMF07QyhuKSYmcy51bnNoaWZ0KHUodih0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLGUtMixuLnN0YXJ0VGltZSx0aGlzLl9kZWZhdWx0VmFsdWUpLG4uc3RhcnRUaW1lKSksdGhpcy5fYXV0b21hdGlvbkV2ZW50cz1zfX19LHtrZXk6XCJnZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKDA9PT10aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlO3ZhciBlPXRoaXMuX2F1dG9tYXRpb25FdmVudHNbdGhpcy5fYXV0b21hdGlvbkV2ZW50cy5sZW5ndGgtMV0scz10aGlzLl9hdXRvbWF0aW9uRXZlbnRzLmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoZSk+dH0pKSxuPXRoaXMuX2F1dG9tYXRpb25FdmVudHNbc10saT1iKGUpPD10P2U6dGhpcy5fYXV0b21hdGlvbkV2ZW50c1tzLTFdO2lmKHZvaWQgMCE9PWkmJkMoaSkmJih2b2lkIDA9PT1ufHwhXyhuKXx8bi5pbnNlcnRUaW1lPnQpKXJldHVybiBwKHQsdih0aGlzLl9hdXRvbWF0aW9uRXZlbnRzLHMtMixpLnN0YXJ0VGltZSx0aGlzLl9kZWZhdWx0VmFsdWUpLGkpO2lmKHZvaWQgMCE9PWkmJm0oaSkmJih2b2lkIDA9PT1ufHwhXyhuKSkpcmV0dXJuIGkudmFsdWU7aWYodm9pZCAwIT09aSYmZyhpKSYmKHZvaWQgMD09PW58fCFfKG4pfHxpLnN0YXJ0VGltZStpLmR1cmF0aW9uPnQpKXJldHVybiB0PGkuc3RhcnRUaW1lK2kuZHVyYXRpb24/ayh0LGkpOmkudmFsdWVzW2kudmFsdWVzLmxlbmd0aC0xXTtpZih2b2lkIDAhPT1pJiZfKGkpJiYodm9pZCAwPT09bnx8IV8obikpKXJldHVybiBpLnZhbHVlO2lmKHZvaWQgMCE9PW4mJmQobikpe3ZhciByPXkodGhpcy5fYXV0b21hdGlvbkV2ZW50cyxzLTEsaSxuLHRoaXMuX2RlZmF1bHRWYWx1ZSksYT1vLmRlZmF1bHQociwyKSxjPWFbMF0saD1hWzFdO3JldHVybiBUKHQsYyxoLG4pfWlmKHZvaWQgMCE9PW4mJmYobikpe3ZhciB1PXkodGhpcy5fYXV0b21hdGlvbkV2ZW50cyxzLTEsaSxuLHRoaXMuX2RlZmF1bHRWYWx1ZSksbD1vLmRlZmF1bHQodSwyKSx4PWxbMF0sdz1sWzFdO3JldHVybiBTKHQseCx3LG4pfXJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWV9fV0pLHR9KCk7dC5BdXRvbWF0aW9uRXZlbnRMaXN0PUEsdC5jcmVhdGVDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybntjYW5jZWxUaW1lOnQsdHlwZTpcImNhbmNlbEFuZEhvbGRcIn19LHQuY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybntjYW5jZWxUaW1lOnQsdHlwZTpcImNhbmNlbFNjaGVkdWxlZFZhbHVlc1wifX0sdC5jcmVhdGVFeHBvbmVudGlhbFJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VuZFRpbWU6ZSx0eXBlOlwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZVwiLHZhbHVlOnR9fSx0LmNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VuZFRpbWU6ZSx0eXBlOlwibGluZWFyUmFtcFRvVmFsdWVcIix2YWx1ZTp0fX0sdC5jcmVhdGVTZXRUYXJnZXRBdXRvbWF0aW9uRXZlbnQ9ZnVuY3Rpb24odCxlLHMpe3JldHVybntzdGFydFRpbWU6ZSx0YXJnZXQ6dCx0aW1lQ29uc3RhbnQ6cyx0eXBlOlwic2V0VGFyZ2V0XCJ9fSx0LmNyZWF0ZVNldFZhbHVlQXV0b21hdGlvbkV2ZW50PXUsdC5jcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50PWwsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KGUscygxKSxzKDcpLHMoOCkpfSxmdW5jdGlvbih0LGUscyl7dmFyIG49cygyKSxpPXMoMyksbz1zKDQpLHI9cyg2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0KXx8aSh0LGUpfHxvKHQsZSl8fHIoKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpe3ZhciBzPVtdLG49ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciByLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShyPWEubmV4dCgpKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSwhZXx8cy5sZW5ndGghPT1lKTtuPSEwKTt9Y2F0Y2godCl7aT0hMCxvPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBzfX19LGZ1bmN0aW9uKHQsZSxzKXt2YXIgbj1zKDUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBuKHQsZSk7dmFyIHM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1zJiZ0LmNvbnN0cnVjdG9yJiYocz10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1zfHxcIlNldFwiPT09cz9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1zfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChzKT9uKHQsZSk6dm9pZCAwfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBzPTAsbj1uZXcgQXJyYXkoZSk7czxlO3MrKyluW3NdPXRbc107cmV0dXJuIG59fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHModCxlKXtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIG49ZVtzXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnModC5wcm90b3R5cGUsZSksbiYmcyh0LG4pLHR9fSxmdW5jdGlvbih0LGUscyl7XCJ1c2Ugc3RyaWN0XCI7cy5yKGUpLHMuZChlLFwiZ2V0Q29udGV4dFwiLChmdW5jdGlvbigpe3JldHVybiBKaX0pKSxzLmQoZSxcInNldENvbnRleHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS2l9KSkscy5kKGUsXCJDbG9ja1wiLChmdW5jdGlvbigpe3JldHVybiBxb30pKSxzLmQoZSxcIkNvbnRleHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR2l9KSkscy5kKGUsXCJCYXNlQ29udGV4dFwiLChmdW5jdGlvbigpe3JldHVybiBXaX0pKSxzLmQoZSxcIkRlbGF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZvfSkpLHMuZChlLFwiR2FpblwiLChmdW5jdGlvbigpe3JldHVybiBrb30pKSxzLmQoZSxcIk9mZmxpbmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSW99KSkscy5kKGUsXCJPZmZsaW5lQ29udGV4dFwiLChmdW5jdGlvbigpe3JldHVybiBZaX0pKSxzLmQoZSxcIlBhcmFtXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHhvfSkpLHMuZChlLFwiVG9uZUF1ZGlvQnVmZmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFhpfSkpLHMuZChlLFwiVG9uZUF1ZGlvQnVmZmVyc1wiLChmdW5jdGlvbigpe3JldHVybiBWb30pKSxzLmQoZSxcIlRvbmVBdWRpb05vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd299KSkscy5kKGUsXCJjb25uZWN0U2VyaWVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJvfSkpLHMuZChlLFwiY29ubmVjdFwiLChmdW5jdGlvbigpe3JldHVybiBUb30pKSxzLmQoZSxcImRpc2Nvbm5lY3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU299KSkscy5kKGUsXCJGcmVxdWVuY3lDbGFzc1wiLChmdW5jdGlvbigpe3JldHVybiBsb30pKSxzLmQoZSxcIkZyZXF1ZW5jeVwiLChmdW5jdGlvbigpe3JldHVybiBfb30pKSxzLmQoZSxcIk1pZGlDbGFzc1wiLChmdW5jdGlvbigpe3JldHVybiBOb30pKSxzLmQoZSxcIk1pZGlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUG99KSkscy5kKGUsXCJUaW1lQ2xhc3NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaG99KSkscy5kKGUsXCJUaW1lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVvfSkpLHMuZChlLFwiVGlja3NDbGFzc1wiLChmdW5jdGlvbigpe3JldHVybiBqb30pKSxzLmQoZSxcIlRpY2tzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExvfSkpLHMuZChlLFwiVHJhbnNwb3J0VGltZUNsYXNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG1vfSkpLHMuZChlLFwiVHJhbnNwb3J0VGltZVwiLChmdW5jdGlvbigpe3JldHVybiBnb30pKSxzLmQoZSxcIkVtaXR0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQml9KSkscy5kKGUsXCJJbnRlcnZhbFRpbWVsaW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJvfSkpLHMuZChlLFwiU3RhdGVUaW1lbGluZVwiLChmdW5jdGlvbigpe3JldHVybiB5b30pKSxzLmQoZSxcIlRpbWVsaW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE5pfSkpLHMuZChlLFwiaXNVbmRlZlwiLChmdW5jdGlvbigpe3JldHVybiBhaX0pKSxzLmQoZSxcImlzRGVmaW5lZFwiLChmdW5jdGlvbigpe3JldHVybiBjaX0pKSxzLmQoZSxcImlzRnVuY3Rpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gaGl9KSkscy5kKGUsXCJpc051bWJlclwiLChmdW5jdGlvbigpe3JldHVybiB1aX0pKSxzLmQoZSxcImlzT2JqZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxpfSkpLHMuZChlLFwiaXNCb29sZWFuXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHBpfSkpLHMuZChlLFwiaXNBcnJheVwiLChmdW5jdGlvbigpe3JldHVybiBkaX0pKSxzLmQoZSxcImlzU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZpfSkpLHMuZChlLFwiaXNOb3RlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF9pfSkpLHMuZChlLFwiZGJUb0dhaW5cIiwoZnVuY3Rpb24oKXtyZXR1cm4gZW99KSkscy5kKGUsXCJnYWluVG9EYlwiLChmdW5jdGlvbigpe3JldHVybiBzb30pKSxzLmQoZSxcImludGVydmFsVG9GcmVxdWVuY3lSYXRpb1wiLChmdW5jdGlvbigpe3JldHVybiBub30pKSxzLmQoZSxcImZ0b21cIiwoZnVuY3Rpb24oKXtyZXR1cm4gb299KSkscy5kKGUsXCJtdG9mXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGFvfSkpLHMuZChlLFwib3B0aW9uc0Zyb21Bcmd1bWVudHNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRGl9KSkscy5kKGUsXCJkZWZhdWx0QXJnXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9pfSkpLHMuZChlLFwiVW5pdFwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLHMuZChlLFwiZGVidWdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKSxzLmQoZSxcIk5vaXNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEpvfSkpLHMuZChlLFwiVXNlck1lZGlhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGVyfSkpLHMuZChlLFwiT3NjaWxsYXRvclwiLChmdW5jdGlvbigpe3JldHVybiBpcn0pKSxzLmQoZSxcIkFNT3NjaWxsYXRvclwiLChmdW5jdGlvbigpe3JldHVybiBocn0pKSxzLmQoZSxcIkZNT3NjaWxsYXRvclwiLChmdW5jdGlvbigpe3JldHVybiB1cn0pKSxzLmQoZSxcIlB1bHNlT3NjaWxsYXRvclwiLChmdW5jdGlvbigpe3JldHVybiBscn0pKSxzLmQoZSxcIkZhdE9zY2lsbGF0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcHJ9KSkscy5kKGUsXCJQV01Pc2NpbGxhdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRyfSkpLHMuZChlLFwiT21uaU9zY2lsbGF0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX3J9KSkscy5kKGUsXCJUb25lT3NjaWxsYXRvck5vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbnJ9KSkscy5kKGUsXCJMRk9cIiwoZnVuY3Rpb24oKXtyZXR1cm4geXJ9KSkscy5kKGUsXCJUb25lQnVmZmVyU291cmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRvfSkpLHMuZChlLFwiUGxheWVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJyfSkpLHMuZChlLFwiUGxheWVyc1wiLChmdW5jdGlvbigpe3JldHVybiBUcn0pKSxzLmQoZSxcIkdyYWluUGxheWVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFNyfSkpLHMuZChlLFwiQWRkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG1yfSkpLHMuZChlLFwiQWJzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtyfSkpLHMuZChlLFwiQXVkaW9Ub0dhaW5cIiwoZnVuY3Rpb24oKXtyZXR1cm4gYXJ9KSkscy5kKGUsXCJHYWluVG9BdWRpb1wiLChmdW5jdGlvbigpe3JldHVybiBDcn0pKSxzLmQoZSxcIkdyZWF0ZXJUaGFuXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE1yfSkpLHMuZChlLFwiR3JlYXRlclRoYW5aZXJvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9yfSkpLHMuZChlLFwiTXVsdGlwbHlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY3J9KSkscy5kKGUsXCJOZWdhdGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQXJ9KSkscy5kKGUsXCJQb3dcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRXJ9KSkscy5kKGUsXCJTaWduYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRG99KSkscy5kKGUsXCJjb25uZWN0U2lnbmFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9vfSkpLHMuZChlLFwiU2NhbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3J9KSkscy5kKGUsXCJTY2FsZUV4cFwiLChmdW5jdGlvbigpe3JldHVybiBScn0pKSxzLmQoZSxcIlN1YnRyYWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIERyfSkpLHMuZChlLFwiU3luY2VkU2lnbmFsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHFyfSkpLHMuZChlLFwiV2F2ZVNoYXBlclwiLChmdW5jdGlvbigpe3JldHVybiBycn0pKSxzLmQoZSxcIlplcm9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gdnJ9KSkscy5kKGUsXCJBTVN5bnRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHpyfSkpLHMuZChlLFwiRHVvU3ludGhcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUXJ9KSkscy5kKGUsXCJGTVN5bnRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFpyfSkpLHMuZChlLFwiTWV0YWxTeW50aFwiLChmdW5jdGlvbigpe3JldHVybiBZcn0pKSxzLmQoZSxcIk1lbWJyYW5lU3ludGhcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSHJ9KSkscy5kKGUsXCJNb25vU3ludGhcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXJ9KSkscy5kKGUsXCJOb2lzZVN5bnRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRyfSkpLHMuZChlLFwiUGx1Y2tTeW50aFwiLChmdW5jdGlvbigpe3JldHVybiBvYX0pKSxzLmQoZSxcIlBvbHlTeW50aFwiLChmdW5jdGlvbigpe3JldHVybiByYX0pKSxzLmQoZSxcIlNhbXBsZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYWF9KSkscy5kKGUsXCJTeW50aFwiLChmdW5jdGlvbigpe3JldHVybiBqcn0pKSxzLmQoZSxcIkxvb3BcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaGF9KSkscy5kKGUsXCJQYXJ0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVhfSkpLHMuZChlLFwiUGF0dGVyblwiLChmdW5jdGlvbigpe3JldHVybiB4YX0pKSxzLmQoZSxcIlNlcXVlbmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdhfSkpLHMuZChlLFwiVG9uZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNhfSkpLHMuZChlLFwiQXV0b0ZpbHRlclwiLChmdW5jdGlvbigpe3JldHVybiBrYX0pKSxzLmQoZSxcIkF1dG9QYW5uZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQWF9KSkscy5kKGUsXCJBdXRvV2FoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9hfSkpLHMuZChlLFwiQml0Q3J1c2hlclwiLChmdW5jdGlvbigpe3JldHVybiBNYX0pKSxzLmQoZSxcIkNoZWJ5c2hldlwiLChmdW5jdGlvbigpe3JldHVybiBSYX0pKSxzLmQoZSxcIkNob3J1c1wiLChmdW5jdGlvbigpe3JldHVybiBOYX0pKSxzLmQoZSxcIkRpc3RvcnRpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gUGF9KSkscy5kKGUsXCJGZWVkYmFja0RlbGF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExhfSkpLHMuZChlLFwiRnJlcXVlbmN5U2hpZnRlclwiLChmdW5jdGlvbigpe3JldHVybiBCYX0pKSxzLmQoZSxcIkZyZWV2ZXJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVhfSkpLHMuZChlLFwiSkNSZXZlcmJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWWF9KSkscy5kKGUsXCJQaW5nUG9uZ0RlbGF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuICRhfSkpLHMuZChlLFwiUGl0Y2hTaGlmdFwiLChmdW5jdGlvbigpe3JldHVybiBKYX0pKSxzLmQoZSxcIlBoYXNlclwiLChmdW5jdGlvbigpe3JldHVybiBLYX0pKSxzLmQoZSxcIlJldmVyYlwiLChmdW5jdGlvbigpe3JldHVybiB0Y30pKSxzLmQoZSxcIlN0ZXJlb1dpZGVuZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaWN9KSkscy5kKGUsXCJUcmVtb2xvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9jfSkpLHMuZChlLFwiVmlicmF0b1wiLChmdW5jdGlvbigpe3JldHVybiByY30pKSxzLmQoZSxcIkFuYWx5c2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGFjfSkpLHMuZChlLFwiTWV0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaGN9KSkscy5kKGUsXCJGRlRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdWN9KSkscy5kKGUsXCJEQ01ldGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxjfSkpLHMuZChlLFwiV2F2ZWZvcm1cIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGN9KSkscy5kKGUsXCJGb2xsb3dlclwiLChmdW5jdGlvbigpe3JldHVybiBEYX0pKSxzLmQoZSxcIkNoYW5uZWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX2N9KSkscy5kKGUsXCJDcm9zc0ZhZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYmF9KSkscy5kKGUsXCJNZXJnZVwiLChmdW5jdGlvbigpe3JldHVybiBGYX0pKSxzLmQoZSxcIk1pZFNpZGVNZXJnZVwiLChmdW5jdGlvbigpe3JldHVybiBzY30pKSxzLmQoZSxcIk1pZFNpZGVTcGxpdFwiLChmdW5jdGlvbigpe3JldHVybiBlY30pKSxzLmQoZSxcIk1vbm9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gbWN9KSkscy5kKGUsXCJNdWx0aWJhbmRTcGxpdFwiLChmdW5jdGlvbigpe3JldHVybiBnY30pKSxzLmQoZSxcIlBhbm5lclwiLChmdW5jdGlvbigpe3JldHVybiBDYX0pKSxzLmQoZSxcIlBhbm5lcjNEXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHljfSkpLHMuZChlLFwiUGFuVm9sXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZjfSkpLHMuZChlLFwiUmVjb3JkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4geGN9KSkscy5kKGUsXCJTb2xvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRjfSkpLHMuZChlLFwiU3BsaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcWF9KSkscy5kKGUsXCJWb2x1bWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR299KSkscy5kKGUsXCJDb21wcmVzc29yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdjfSkpLHMuZChlLFwiR2F0ZVwiLChmdW5jdGlvbigpe3JldHVybiBiY30pKSxzLmQoZSxcIkxpbWl0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVGN9KSkscy5kKGUsXCJNaWRTaWRlQ29tcHJlc3NvclwiLChmdW5jdGlvbigpe3JldHVybiBTY30pKSxzLmQoZSxcIk11bHRpYmFuZENvbXByZXNzb3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4ga2N9KSkscy5kKGUsXCJBbXBsaXR1ZGVFbnZlbG9wZVwiLChmdW5jdGlvbigpe3JldHVybiBQcn0pKSxzLmQoZSxcIkVudmVsb3BlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZyfSkpLHMuZChlLFwiRnJlcXVlbmN5RW52ZWxvcGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR3J9KSkscy5kKGUsXCJFUTNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ2N9KSkscy5kKGUsXCJGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gV3J9KSkscy5kKGUsXCJPbmVQb2xlRmlsdGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5hfSkpLHMuZChlLFwiRmVlZGJhY2tDb21iRmlsdGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNhfSkpLHMuZChlLFwiTG93cGFzc0NvbWJGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaWF9KSkscy5kKGUsXCJDb252b2x2ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQWN9KSkscy5kKGUsXCJCaXF1YWRGaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQnJ9KSkscy5kKGUsXCJ2ZXJzaW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSkscy5kKGUsXCJzdGFydFwiLChmdW5jdGlvbigpe3JldHVybiB0b30pKSxzLmQoZSxcInN1cHBvcnRlZFwiLChmdW5jdGlvbigpe3JldHVybiBLbn0pKSxzLmQoZSxcIm5vd1wiLChmdW5jdGlvbigpe3JldHVybiBEY30pKSxzLmQoZSxcImltbWVkaWF0ZVwiLChmdW5jdGlvbigpe3JldHVybiBPY30pKSxzLmQoZSxcIlRyYW5zcG9ydFwiLChmdW5jdGlvbigpe3JldHVybiBNY30pKSxzLmQoZSxcImdldFRyYW5zcG9ydFwiLChmdW5jdGlvbigpe3JldHVybiBFY30pKSxzLmQoZSxcIkRlc3RpbmF0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJjfSkpLHMuZChlLFwiTWFzdGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHFjfSkpLHMuZChlLFwiZ2V0RGVzdGluYXRpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gRmN9KSkscy5kKGUsXCJMaXN0ZW5lclwiLChmdW5jdGlvbigpe3JldHVybiBJY30pKSxzLmQoZSxcImdldExpc3RlbmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZjfSkpLHMuZChlLFwiRHJhd1wiLChmdW5jdGlvbigpe3JldHVybiBOY30pKSxzLmQoZSxcImdldERyYXdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUGN9KSkscy5kKGUsXCJjb250ZXh0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGpjfSkpLHMuZChlLFwibG9hZGVkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExjfSkpLHMuZChlLFwiQnVmZmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHpjfSkpLHMuZChlLFwiQnVmZmVyc1wiLChmdW5jdGlvbigpe3JldHVybiBCY30pKSxzLmQoZSxcIkJ1ZmZlclNvdXJjZVwiLChmdW5jdGlvbigpe3JldHVybiBXY30pKTt2YXIgbj17fTtzLnIobikscy5kKG4sXCJhc3NlcnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGl9KSkscy5kKG4sXCJhc3NlcnRSYW5nZVwiLChmdW5jdGlvbigpe3JldHVybiBlaX0pKSxzLmQobixcImFzc2VydENvbnRleHRSdW5uaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNpfSkpLHMuZChuLFwic2V0TG9nZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGlpfSkpLHMuZChuLFwibG9nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9pfSkpLHMuZChuLFwid2FyblwiLChmdW5jdGlvbigpe3JldHVybiByaX0pKTt2YXIgaT17fTtzLnIoaSk7Y29uc3Qgbz1cIjE0LjcuNzdcIjt2YXIgcj1zKDApO2NvbnN0IGE9bmV3IFdlYWtTZXQsYz1uZXcgV2Vha01hcCxoPW5ldyBXZWFrTWFwLHU9bmV3IFdlYWtNYXAsbD1uZXcgV2Vha01hcCxwPW5ldyBXZWFrTWFwLGQ9bmV3IFdlYWtNYXAsZj1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwLG09bmV3IFdlYWtNYXAsZz17Y29uc3RydWN0OigpPT5nfSx2PS9eaW1wb3J0KD86KD86W1xcc10rW1xcd10rfCg/OltcXHNdK1tcXHddK1tcXHNdKiwpP1tcXHNdKlxce1tcXHNdKltcXHddKyg/OltcXHNdK2FzW1xcc10rW1xcd10rKT8oPzpbXFxzXSosW1xcc10qW1xcd10rKD86W1xcc10rYXNbXFxzXStbXFx3XSspPykqW1xcc10qfXwoPzpbXFxzXStbXFx3XStbXFxzXSosKT9bXFxzXSpcXCpbXFxzXSthc1tcXHNdK1tcXHddKylbXFxzXStmcm9tKT8oPzpbXFxzXSopKFwiKFteXCJcXFxcXXxcXFxcLikrXCJ8JyhbXidcXFxcXXxcXFxcLikrJykoPzpbXFxzXSopOz8vLHk9KHQsZSk9Pntjb25zdCBzPVtdO2xldCBuPXQucmVwbGFjZSgvXltcXHNdKy8sXCJcIiksaT1uLm1hdGNoKHYpO2Zvcig7bnVsbCE9PWk7KXtjb25zdCB0PWlbMV0uc2xpY2UoMSwtMSksbz1pWzBdLnJlcGxhY2UoLyhbXFxzXSspPzs/JC8sXCJcIikucmVwbGFjZSh0LG5ldyBVUkwodCxlKS50b1N0cmluZygpKTtzLnB1c2gobyksbj1uLnNsaWNlKGlbMF0ubGVuZ3RoKS5yZXBsYWNlKC9eW1xcc10rLyxcIlwiKSxpPW4ubWF0Y2godil9cmV0dXJuW3Muam9pbihcIjtcIiksbl19LHg9dD0+e2lmKHZvaWQgMCE9PXQmJiFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgcGFyYW1ldGVyRGVzY3JpcHRvcnMgcHJvcGVydHkgb2YgZ2l2ZW4gdmFsdWUgZm9yIHByb2Nlc3NvckN0b3IgaXMgbm90IGFuIGFycmF5LlwiKX0sdz10PT57aWYoISh0PT57dHJ5e25ldyBuZXcgUHJveHkodCxnKX1jYXRjaHtyZXR1cm4hMX1yZXR1cm4hMH0pKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZ2l2ZW4gdmFsdWUgZm9yIHByb2Nlc3NvckN0b3Igc2hvdWxkIGJlIGEgY29uc3RydWN0b3IuXCIpO2lmKG51bGw9PT10LnByb3RvdHlwZXx8XCJvYmplY3RcIiE9dHlwZW9mIHQucHJvdG90eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZ2l2ZW4gdmFsdWUgZm9yIHByb2Nlc3NvckN0b3Igc2hvdWxkIGhhdmUgYSBwcm90b3R5cGUuXCIpfSxiPSh0LGUpPT57Y29uc3Qgcz10LmdldChlKTtpZih2b2lkIDA9PT1zKXRocm93IG5ldyBFcnJvcihcIkEgdmFsdWUgd2l0aCB0aGUgZ2l2ZW4ga2V5IGNvdWxkIG5vdCBiZSBmb3VuZC5cIik7cmV0dXJuIHN9LFQ9KHQsZSk9Pntjb25zdCBzPUFycmF5LmZyb20odCkuZmlsdGVyKGUpO2lmKHMubGVuZ3RoPjEpdGhyb3cgRXJyb3IoXCJNb3JlIHRoYW4gb25lIGVsZW1lbnQgd2FzIGZvdW5kLlwiKTtpZigwPT09cy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJObyBlbGVtZW50IHdhcyBmb3VuZC5cIik7Y29uc3Rbbl09cztyZXR1cm4gdC5kZWxldGUobiksbn0sUz0odCxlLHMsbik9Pntjb25zdCBpPWIodCxlKSxvPVQoaSx0PT50WzBdPT09cyYmdFsxXT09PW4pO3JldHVybiAwPT09aS5zaXplJiZ0LmRlbGV0ZShlKSxvfSxrPXQ9PmIoZCx0KSxDPXQ9PntpZihhLmhhcyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgQXVkaW9Ob2RlIGlzIGFscmVhZHkgc3RvcmVkLlwiKTthLmFkZCh0KSxrKHQpLmZvckVhY2godD0+dCghMCkpfSxBPXQ9PlwicG9ydFwiaW4gdCxEPXQ9PntpZighYS5oYXModCkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIEF1ZGlvTm9kZSBpcyBub3Qgc3RvcmVkLlwiKTthLmRlbGV0ZSh0KSxrKHQpLmZvckVhY2godD0+dCghMSkpfSxPPSh0LGUpPT57IUEodCkmJmUuZXZlcnkodD0+MD09PXQuc2l6ZSkmJkQodCl9LE09e2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJtYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGZmdFNpemU6MjA0OCxtYXhEZWNpYmVsczotMzAsbWluRGVjaWJlbHM6LTEwMCxzbW9vdGhpbmdUaW1lQ29uc3RhbnQ6Ljh9LEU9KHQsZSk9PnQuY29udGV4dD09PWUsUj10PT57dHJ5e3QuY29weVRvQ2hhbm5lbChuZXcgRmxvYXQzMkFycmF5KDEpLDAsLTEpfWNhdGNoe3JldHVybiExfXJldHVybiEwfSxxPSgpPT5uZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJJbmRleFNpemVFcnJvclwiKSxGPXQ9Pnt2YXIgZTt0LmdldENoYW5uZWxEYXRhPShlPXQuZ2V0Q2hhbm5lbERhdGEscz0+e3RyeXtyZXR1cm4gZS5jYWxsKHQscyl9Y2F0Y2godCl7aWYoMTI9PT10LmNvZGUpdGhyb3cgcSgpO3Rocm93IHR9fSl9LEk9e251bWJlck9mQ2hhbm5lbHM6MX0sVj0tMzQwMjgyMzQ2NjM4NTI4ODZlMjIsTj0tVixQPXQ9PmEuaGFzKHQpLGo9e2J1ZmZlcjpudWxsLGNoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJtYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGxvb3A6ITEsbG9vcEVuZDowLGxvb3BTdGFydDowLHBsYXliYWNrUmF0ZToxfSxMPXQ9PmIoYyx0KSx6PXQ9PmIodSx0KSxCPSh0LGUpPT57Y29uc3R7YWN0aXZlSW5wdXRzOnN9PUwodCk7cy5mb3JFYWNoKHM9PnMuZm9yRWFjaCgoW3NdKT0+e2UuaW5jbHVkZXModCl8fEIocyxbLi4uZSx0XSl9KSk7Y29uc3Qgbj0odD0+XCJwbGF5YmFja1JhdGVcImluIHQpKHQpP1t0LnBsYXliYWNrUmF0ZV06QSh0KT9BcnJheS5mcm9tKHQucGFyYW1ldGVycy52YWx1ZXMoKSk6KHQ9PlwiZnJlcXVlbmN5XCJpbiB0JiZcImdhaW5cImluIHQpKHQpP1t0LlEsdC5kZXR1bmUsdC5mcmVxdWVuY3ksdC5nYWluXToodD0+XCJvZmZzZXRcImluIHQpKHQpP1t0Lm9mZnNldF06KHQ9PiEoXCJmcmVxdWVuY3lcImluIHQpJiZcImdhaW5cImluIHQpKHQpP1t0LmdhaW5dOih0PT5cImRldHVuZVwiaW4gdCYmXCJmcmVxdWVuY3lcImluIHQpKHQpP1t0LmRldHVuZSx0LmZyZXF1ZW5jeV06KHQ9PlwicGFuXCJpbiB0KSh0KT9bdC5wYW5dOltdO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IHM9eih0KTt2b2lkIDAhPT1zJiZzLmFjdGl2ZUlucHV0cy5mb3JFYWNoKChbdF0pPT5CKHQsZSkpfVAodCkmJkQodCl9LFc9dD0+e0IodC5kZXN0aW5hdGlvbixbXSl9LEc9dD0+dm9pZCAwPT09dHx8XCJudW1iZXJcIj09dHlwZW9mIHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0JiYoXCJiYWxhbmNlZFwiPT09dHx8XCJpbnRlcmFjdGl2ZVwiPT09dHx8XCJwbGF5YmFja1wiPT09dCksVT10PT5cImNvbnRleHRcImluIHQsUT10PT5VKHRbMF0pLFo9KHQsZSxzLG4pPT57Zm9yKGNvbnN0IGUgb2YgdClpZihzKGUpKXtpZihuKXJldHVybiExO3Rocm93IEVycm9yKFwiVGhlIHNldCBjb250YWlucyBhdCBsZWFzdCBvbmUgc2ltaWxhciBlbGVtZW50LlwiKX1yZXR1cm4gdC5hZGQoZSksITB9LFg9KHQsZSxbcyxuXSxpKT0+e1oodCxbZSxzLG5dLHQ9PnRbMF09PT1lJiZ0WzFdPT09cyxpKX0sWT0odCxbZSxzLG5dLGkpPT57Y29uc3Qgbz10LmdldChlKTt2b2lkIDA9PT1vP3Quc2V0KGUsbmV3IFNldChbW3Msbl1dKSk6WihvLFtzLG5dLHQ9PnRbMF09PT1zLGkpfSxIPXQ9PlwiaW5wdXRzXCJpbiB0LCQ9KHQsZSxzLG4pPT57aWYoSChlKSl7Y29uc3QgaT1lLmlucHV0c1tuXTtyZXR1cm4gdC5jb25uZWN0KGkscywwKSxbaSxzLDBdfXJldHVybiB0LmNvbm5lY3QoZSxzLG4pLFtlLHMsbl19LEo9KHQsZSxzKT0+e2Zvcihjb25zdCBuIG9mIHQpaWYoblswXT09PWUmJm5bMV09PT1zKXJldHVybiB0LmRlbGV0ZShuKSxuO3JldHVybiBudWxsfSxLPSh0LGUpPT57aWYoIWsodCkuZGVsZXRlKGUpKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgdGhlIGV4cGVjdGVkIGV2ZW50IGxpc3RlbmVyLlwiKX0sdHQ9KHQsZSxzKT0+e2NvbnN0IG49Yih0LGUpLGk9VChuLHQ9PnRbMF09PT1zKTtyZXR1cm4gMD09PW4uc2l6ZSYmdC5kZWxldGUoZSksaX0sZXQ9KHQsZSxzLG4pPT57SChlKT90LmRpc2Nvbm5lY3QoZS5pbnB1dHNbbl0scywwKTp0LmRpc2Nvbm5lY3QoZSxzLG4pfSxzdD10PT5iKGgsdCksbnQ9dD0+YihsLHQpLGl0PXQ9PmYuaGFzKHQpLG90PXQ9PiFhLmhhcyh0KSxydD10PT5uZXcgUHJvbWlzZShlPT57Y29uc3Qgcz10LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcigyNTYsMSwxKSxuPXQuY3JlYXRlR2FpbigpLGk9dC5jcmVhdGVCdWZmZXIoMSwyLDQ0MTAwKSxvPWkuZ2V0Q2hhbm5lbERhdGEoMCk7b1swXT0xLG9bMV09MTtjb25zdCByPXQuY3JlYXRlQnVmZmVyU291cmNlKCk7ci5idWZmZXI9aSxyLmxvb3A9ITAsci5jb25uZWN0KHMpLmNvbm5lY3QodC5kZXN0aW5hdGlvbiksci5jb25uZWN0KG4pLHIuZGlzY29ubmVjdChuKSxzLm9uYXVkaW9wcm9jZXNzPW49Pntjb25zdCBpPW4uaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7QXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChpLHQ9PjE9PT10KT9lKCEwKTplKCExKSxyLnN0b3AoKSxzLm9uYXVkaW9wcm9jZXNzPW51bGwsci5kaXNjb25uZWN0KHMpLHMuZGlzY29ubmVjdCh0LmRlc3RpbmF0aW9uKX0sci5zdGFydCgpfSksYXQ9KHQsZSk9Pntjb25zdCBzPW5ldyBNYXA7Zm9yKGNvbnN0IGUgb2YgdClmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXMuZ2V0KHQpO3Muc2V0KHQsdm9pZCAwPT09ZT8xOmUrMSl9cy5mb3JFYWNoKCh0LHMpPT5lKHMsdCkpfSxjdD10PT5cImNvbnRleHRcImluIHQsaHQ9KHQsZSxzLG4pPT57Y29uc3R7YWN0aXZlSW5wdXRzOmkscGFzc2l2ZUlucHV0czpvfT16KGUpLHtvdXRwdXRzOnJ9PUwodCksYT1rKHQpLGM9cj0+e2NvbnN0IGE9c3QodCksYz1udChlKTtpZihyKXtjb25zdCBlPXR0KG8sdCxzKTtYKGksdCxlLCExKSxufHxpdCh0KXx8YS5jb25uZWN0KGMscyl9ZWxzZXtjb25zdCBlPSgodCxlLHMpPT5UKHQsdD0+dFswXT09PWUmJnRbMV09PT1zKSkoaSx0LHMpO1kobyxlLCExKSxufHxpdCh0KXx8YS5kaXNjb25uZWN0KGMscyl9fTtyZXR1cm4hIVoocixbZSxzXSx0PT50WzBdPT09ZSYmdFsxXT09PXMsITApJiYoYS5hZGQoYyksUCh0KT9YKGksdCxbcyxjXSwhMCk6WShvLFt0LHMsY10sITApLCEwKX0sdXQ9KHQsZSxzLG4saSk9Pntjb25zdFtvLHJdPSgodCxlLHMsbik9Pntjb25zdHthY3RpdmVJbnB1dHM6aSxwYXNzaXZlSW5wdXRzOm99PUwoZSkscj1KKGlbbl0sdCxzKTtpZihudWxsPT09cil7cmV0dXJuW1Mobyx0LHMsbilbMl0sITFdfXJldHVybltyWzJdLCEwXX0pKHQscyxuLGkpO2lmKG51bGwhPT1vJiYoSyh0LG8pLCFyfHxlfHxpdCh0KXx8ZXQoc3QodCksc3QocyksbixpKSksUChzKSl7Y29uc3R7YWN0aXZlSW5wdXRzOnR9PUwocyk7TyhzLHQpfX0sbHQ9KHQsZSxzLG4pPT57Y29uc3RbaSxvXT0oKHQsZSxzKT0+e2NvbnN0e2FjdGl2ZUlucHV0czpuLHBhc3NpdmVJbnB1dHM6aX09eihlKSxvPUoobix0LHMpO2lmKG51bGw9PT1vKXtyZXR1cm5bdHQoaSx0LHMpWzFdLCExXX1yZXR1cm5bb1syXSwhMF19KSh0LHMsbik7bnVsbCE9PWkmJihLKHQsaSksIW98fGV8fGl0KHQpfHxzdCh0KS5kaXNjb25uZWN0KG50KHMpLG4pKX07Y2xhc3MgcHR7Y29uc3RydWN0b3IodCl7dGhpcy5fbWFwPW5ldyBNYXAodCl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fbWFwLnNpemV9ZW50cmllcygpe3JldHVybiB0aGlzLl9tYXAuZW50cmllcygpfWZvckVhY2godCxlPW51bGwpe3JldHVybiB0aGlzLl9tYXAuZm9yRWFjaCgocyxuKT0+dC5jYWxsKGUscyxuLHRoaXMpKX1nZXQodCl7cmV0dXJuIHRoaXMuX21hcC5nZXQodCl9aGFzKHQpe3JldHVybiB0aGlzLl9tYXAuaGFzKHQpfWtleXMoKXtyZXR1cm4gdGhpcy5fbWFwLmtleXMoKX12YWx1ZXMoKXtyZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpfX1jb25zdCBkdD17Y2hhbm5lbENvdW50OjIsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixudW1iZXJPZklucHV0czoxLG51bWJlck9mT3V0cHV0czoxLHBhcmFtZXRlckRhdGE6e30scHJvY2Vzc29yT3B0aW9uczp7fX07ZnVuY3Rpb24gZnQodCxlLHMsbixpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvcHlGcm9tQ2hhbm5lbCkwPT09ZVtzXS5ieXRlTGVuZ3RoJiYoZVtzXT1uZXcgRmxvYXQzMkFycmF5KDEyOCkpLHQuY29weUZyb21DaGFubmVsKGVbc10sbixpKTtlbHNle2NvbnN0IG89dC5nZXRDaGFubmVsRGF0YShuKTtpZigwPT09ZVtzXS5ieXRlTGVuZ3RoKWVbc109by5zbGljZShpLGkrMTI4KTtlbHNle2NvbnN0IHQ9bmV3IEZsb2F0MzJBcnJheShvLmJ1ZmZlcixpKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwxMjgpO2Vbc10uc2V0KHQpfX19Y29uc3QgX3Q9KHQsZSxzLG4saSk9PntcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvcHlUb0NoYW5uZWw/MCE9PWVbc10uYnl0ZUxlbmd0aCYmdC5jb3B5VG9DaGFubmVsKGVbc10sbixpKTowIT09ZVtzXS5ieXRlTGVuZ3RoJiZ0LmdldENoYW5uZWxEYXRhKG4pLnNldChlW3NdLGkpfSxtdD0odCxlKT0+e2NvbnN0IHM9W107Zm9yKGxldCBuPTA7bjx0O24rPTEpe2NvbnN0IHQ9W10saT1cIm51bWJlclwiPT10eXBlb2YgZT9lOmVbbl07Zm9yKGxldCBlPTA7ZTxpO2UrPTEpdC5wdXNoKG5ldyBGbG9hdDMyQXJyYXkoMTI4KSk7cy5wdXNoKHQpfXJldHVybiBzfSxndD1hc3luYyh0LGUscyxuLGksbyxyKT0+e2NvbnN0IGE9bnVsbD09PWU/MTI4Kk1hdGguY2VpbCh0LmNvbnRleHQubGVuZ3RoLzEyOCk6ZS5sZW5ndGgsYz1uLmNoYW5uZWxDb3VudCpuLm51bWJlck9mSW5wdXRzLGg9aS5yZWR1Y2UoKHQsZSk9PnQrZSwwKSx1PTA9PT1oP251bGw6cy5jcmVhdGVCdWZmZXIoaCxhLHMuc2FtcGxlUmF0ZSk7aWYodm9pZCAwPT09byl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSBwcm9jZXNzb3IgY29uc3RydWN0b3IuXCIpO2NvbnN0IGw9TCh0KSxwPWF3YWl0KCh0LGUpPT57Y29uc3Qgcz1iKG0sdCksbj1zdChlKTtyZXR1cm4gYihzLG4pfSkocyx0KSxkPW10KG4ubnVtYmVyT2ZJbnB1dHMsbi5jaGFubmVsQ291bnQpLGY9bXQobi5udW1iZXJPZk91dHB1dHMsaSksXz1BcnJheS5mcm9tKHQucGFyYW1ldGVycy5rZXlzKCkpLnJlZHVjZSgodCxlKT0+KHsuLi50LFtlXTpuZXcgRmxvYXQzMkFycmF5KDEyOCl9KSx7fSk7Zm9yKGxldCBoPTA7aDxhO2grPTEyOCl7aWYobi5udW1iZXJPZklucHV0cz4wJiZudWxsIT09ZSlmb3IobGV0IHQ9MDt0PG4ubnVtYmVyT2ZJbnB1dHM7dCs9MSlmb3IobGV0IHM9MDtzPG4uY2hhbm5lbENvdW50O3MrPTEpZnQoZSxkW3RdLHMscyxoKTt2b2lkIDAhPT1vLnBhcmFtZXRlckRlc2NyaXB0b3JzJiZudWxsIT09ZSYmby5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5mb3JFYWNoKCh7bmFtZTp0fSxzKT0+e2Z0KGUsXyx0LGMrcyxoKX0pO2ZvcihsZXQgdD0wO3Q8bi5udW1iZXJPZklucHV0czt0Kz0xKWZvcihsZXQgZT0wO2U8aVt0XTtlKz0xKTA9PT1mW3RdW2VdLmJ5dGVMZW5ndGgmJihmW3RdW2VdPW5ldyBGbG9hdDMyQXJyYXkoMTI4KSk7dHJ5e2NvbnN0IHQ9ZC5tYXAoKHQsZSk9PjA9PT1sLmFjdGl2ZUlucHV0c1tlXS5zaXplP1tdOnQpLGU9cihoL3Muc2FtcGxlUmF0ZSxzLnNhbXBsZVJhdGUsKCk9PnAucHJvY2Vzcyh0LGYsXykpO2lmKG51bGwhPT11KWZvcihsZXQgdD0wLGU9MDt0PG4ubnVtYmVyT2ZPdXRwdXRzO3QrPTEpe2ZvcihsZXQgcz0wO3M8aVt0XTtzKz0xKV90KHUsZlt0XSxzLGUrcyxoKTtlKz1pW3RdfWlmKCFlKWJyZWFrfWNhdGNoKGUpe3QuZGlzcGF0Y2hFdmVudChuZXcgRXJyb3JFdmVudChcInByb2Nlc3NvcmVycm9yXCIse2NvbG5vOmUuY29sbm8sZmlsZW5hbWU6ZS5maWxlbmFtZSxsaW5lbm86ZS5saW5lbm8sbWVzc2FnZTplLm1lc3NhZ2V9KSk7YnJlYWt9fXJldHVybiB1fSx2dD17UToxLGNoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJtYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGRldHVuZTowLGZyZXF1ZW5jeTozNTAsZ2FpbjowLHR5cGU6XCJsb3dwYXNzXCJ9LHl0PXtjaGFubmVsQ291bnQ6MSxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLG51bWJlck9mSW5wdXRzOjZ9LHh0PXtjaGFubmVsQ291bnQ6NixjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwiLG51bWJlck9mT3V0cHV0czo2fSx3dD17Y2hhbm5lbENvdW50OjIsY2hhbm5lbENvdW50TW9kZTpcIm1heFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcInNwZWFrZXJzXCIsb2Zmc2V0OjF9LGJ0PXtidWZmZXI6bnVsbCxjaGFubmVsQ291bnQ6MixjaGFubmVsQ291bnRNb2RlOlwiY2xhbXBlZC1tYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGRpc2FibGVOb3JtYWxpemF0aW9uOiExfSxUdD17Y2hhbm5lbENvdW50OjIsY2hhbm5lbENvdW50TW9kZTpcIm1heFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcInNwZWFrZXJzXCIsZGVsYXlUaW1lOjAsbWF4RGVsYXlUaW1lOjF9LFN0PSh0LGUscyk9Pntjb25zdCBuPWVbc107aWYodm9pZCAwPT09bil0aHJvdyB0KCk7cmV0dXJuIG59LGt0PXthdHRhY2s6LjAwMyxjaGFubmVsQ291bnQ6MixjaGFubmVsQ291bnRNb2RlOlwiY2xhbXBlZC1tYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGtuZWU6MzAscmF0aW86MTIscmVsZWFzZTouMjUsdGhyZXNob2xkOi0yNH0sQ3Q9e2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJtYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGdhaW46MX0sQXQ9KCk9Pm5ldyBET01FeGNlcHRpb24oXCJcIixcIkludmFsaWRTdGF0ZUVycm9yXCIpLER0PSgpPT5uZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIiksT3Q9e2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJtYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wifSxNdD0odCxlLHMsbixpLG8scixhLGMsaCx1KT0+e2NvbnN0IGw9aC5sZW5ndGg7bGV0IHA9YTtmb3IobGV0IGE9MDthPGw7YSs9MSl7bGV0IGw9c1swXSpoW2FdO2ZvcihsZXQgZT0xO2U8aTtlKz0xKXtjb25zdCBuPXAtZSZjLTE7bCs9c1tlXSpvW25dLGwtPXRbZV0qcltuXX1mb3IobGV0IHQ9aTt0PG47dCs9MSlsKz1zW3RdKm9bcC10JmMtMV07Zm9yKGxldCBzPWk7czxlO3MrPTEpbC09dFtzXSpyW3AtcyZjLTFdO29bcF09aFthXSxyW3BdPWwscD1wKzEmYy0xLHVbYV09bH1yZXR1cm4gcH0sRXQ9e2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcInNwZWFrZXJzXCJ9LFJ0PXQ9Pntjb25zdCBlPW5ldyBVaW50MzJBcnJheShbMTE3OTAxMTQxMCw0MCwxMTYzMjgwNzI3LDU0NDUwMTA5NCwxNiwxMzEwNzMsNDQxMDAsMTc2NDAwLDEwNDg1ODAsMTYzNTAxNzA2MCw0LDBdKTt0cnl7Y29uc3Qgcz10LmRlY29kZUF1ZGlvRGF0YShlLmJ1ZmZlciwoKT0+e30pO3JldHVybiB2b2lkIDAhPT1zJiYocy5jYXRjaCgoKT0+e30pLCEwKX1jYXRjaHt9cmV0dXJuITF9LHF0PXtudW1iZXJPZkNoYW5uZWxzOjF9LEZ0PSh0LGUscyk9Pntjb25zdCBuPWVbc107dm9pZCAwIT09biYmbiE9PXRbc10mJih0W3NdPW4pfSxJdD0odCxlKT0+e0Z0KHQsZSxcImNoYW5uZWxDb3VudFwiKSxGdCh0LGUsXCJjaGFubmVsQ291bnRNb2RlXCIpLEZ0KHQsZSxcImNoYW5uZWxJbnRlcnByZXRhdGlvblwiKX0sVnQ9dD0+XCJmdW5jdGlvblwiPT10eXBlb2YgdC5nZXRGbG9hdFRpbWVEb21haW5EYXRhLE50PSh0LGUscyk9Pntjb25zdCBuPWVbc107dm9pZCAwIT09biYmbiE9PXRbc10udmFsdWUmJih0W3NdLnZhbHVlPW4pfSxQdD10PT57dmFyIGU7dC5zdGFydD0oZT10LnN0YXJ0LChzPTAsbj0wLGkpPT57aWYoXCJudW1iZXJcIj09dHlwZW9mIGkmJmk8MHx8bjwwfHxzPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgcGFyYW1ldGVycyBjYW4ndCBiZSBuZWdhdGl2ZS5cIik7ZS5jYWxsKHQscyxuLGkpfSl9LGp0PXQ9Pnt2YXIgZTt0LnN0b3A9KGU9dC5zdG9wLChzPTApPT57aWYoczwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHBhcmFtZXRlciBjYW4ndCBiZSBuZWdhdGl2ZS5cIik7ZS5jYWxsKHQscyl9KX0sTHQ9KHQsZSk9Pm51bGw9PT10PzUxMjpNYXRoLm1heCg1MTIsTWF0aC5taW4oMTYzODQsTWF0aC5wb3coMixNYXRoLnJvdW5kKE1hdGgubG9nMih0KmUpKSkpKSx6dD1hc3luYyh0LGUpPT5uZXcgdChhd2FpdCh0PT5uZXcgUHJvbWlzZSgoZSxzKT0+e2NvbnN0e3BvcnQxOm4scG9ydDI6aX09bmV3IE1lc3NhZ2VDaGFubmVsO24ub25tZXNzYWdlPSh7ZGF0YTp0fSk9PntuLmNsb3NlKCksaS5jbG9zZSgpLGUodCl9LG4ub25tZXNzYWdlZXJyb3I9KHtkYXRhOnR9KT0+e24uY2xvc2UoKSxpLmNsb3NlKCkscyh0KX0saS5wb3N0TWVzc2FnZSh0KX0pKShlKSksQnQ9KHQsZSk9Pntjb25zdCBzPXQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7cmV0dXJuIEl0KHMsZSksTnQocyxlLFwiUVwiKSxOdChzLGUsXCJkZXR1bmVcIiksTnQocyxlLFwiZnJlcXVlbmN5XCIpLE50KHMsZSxcImdhaW5cIiksRnQocyxlLFwidHlwZVwiKSxzfSxXdD0odCxlKT0+e2NvbnN0IHM9dC5jcmVhdGVDaGFubmVsU3BsaXR0ZXIoZS5udW1iZXJPZk91dHB1dHMpO3JldHVybiBJdChzLGUpLCh0PT57Y29uc3QgZT10Lm51bWJlck9mT3V0cHV0cztPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNoYW5uZWxDb3VudFwiLHtnZXQ6KCk9PmUsc2V0OnQ9PntpZih0IT09ZSl0aHJvdyBBdCgpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiY2hhbm5lbENvdW50TW9kZVwiLHtnZXQ6KCk9PlwiZXhwbGljaXRcIixzZXQ6dD0+e2lmKFwiZXhwbGljaXRcIiE9PXQpdGhyb3cgQXQoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNoYW5uZWxJbnRlcnByZXRhdGlvblwiLHtnZXQ6KCk9PlwiZGlzY3JldGVcIixzZXQ6dD0+e2lmKFwiZGlzY3JldGVcIiE9PXQpdGhyb3cgQXQoKX19KX0pKHMpLHN9LEd0PSh0LGUpPT4odC5jb25uZWN0PWUuY29ubmVjdC5iaW5kKGUpLHQuZGlzY29ubmVjdD1lLmRpc2Nvbm5lY3QuYmluZChlKSx0KSxVdD0odCxlKT0+e2NvbnN0IHM9dC5jcmVhdGVEZWxheShlLm1heERlbGF5VGltZSk7cmV0dXJuIEl0KHMsZSksTnQocyxlLFwiZGVsYXlUaW1lXCIpLHN9LFF0PSh0LGUpPT57Y29uc3Qgcz10LmNyZWF0ZUdhaW4oKTtyZXR1cm4gSXQocyxlKSxOdChzLGUsXCJnYWluXCIpLHN9O2Z1bmN0aW9uIFp0KHQsZSl7Y29uc3Qgcz1lWzBdKmVbMF0rZVsxXSplWzFdO3JldHVyblsodFswXSplWzBdK3RbMV0qZVsxXSkvcywodFsxXSplWzBdLXRbMF0qZVsxXSkvc119ZnVuY3Rpb24gWHQodCxlKXtsZXQgcz1bMCwwXTtmb3IobGV0IG89dC5sZW5ndGgtMTtvPj0wO28tPTEpaT1lLHM9WyhuPXMpWzBdKmlbMF0tblsxXSppWzFdLG5bMF0qaVsxXStuWzFdKmlbMF1dLHNbMF0rPXRbb107dmFyIG4saTtyZXR1cm4gc31jb25zdCBZdD0odCxlLHMsbik9PnQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGUscyxuKSxIdD0oKT0+bmV3IERPTUV4Y2VwdGlvbihcIlwiLFwiTm90U3VwcG9ydGVkRXJyb3JcIiksJHQ9e251bWJlck9mQ2hhbm5lbHM6MX0sSnQ9e2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJtYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGRldHVuZTowLGZyZXF1ZW5jeTo0NDAscGVyaW9kaWNXYXZlOnZvaWQgMCx0eXBlOlwic2luZVwifSxLdD17Y2hhbm5lbENvdW50OjIsY2hhbm5lbENvdW50TW9kZTpcImNsYW1wZWQtbWF4XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixjb25lSW5uZXJBbmdsZTozNjAsY29uZU91dGVyQW5nbGU6MzYwLGNvbmVPdXRlckdhaW46MCxkaXN0YW5jZU1vZGVsOlwiaW52ZXJzZVwiLG1heERpc3RhbmNlOjFlNCxvcmllbnRhdGlvblg6MSxvcmllbnRhdGlvblk6MCxvcmllbnRhdGlvblo6MCxwYW5uaW5nTW9kZWw6XCJlcXVhbHBvd2VyXCIscG9zaXRpb25YOjAscG9zaXRpb25ZOjAscG9zaXRpb25aOjAscmVmRGlzdGFuY2U6MSxyb2xsb2ZmRmFjdG9yOjF9LHRlPXtkaXNhYmxlTm9ybWFsaXphdGlvbjohMX0sZWU9e2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcInNwZWFrZXJzXCIscGFuOjB9LHNlPSgpPT5uZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJVbmtub3duRXJyb3JcIiksbmU9e2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJtYXhcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLGN1cnZlOm51bGwsb3ZlcnNhbXBsZTpcIm5vbmVcIn0saWU9dD0+e2lmKG51bGw9PT10KXJldHVybiExO2NvbnN0IGU9dC5sZW5ndGg7cmV0dXJuIGUlMiE9MD8wIT09dFtNYXRoLmZsb29yKGUvMildOnRbZS8yLTFdK3RbZS8yXSE9PTB9LG9lPSh0LGUscyxuKT0+e2xldCBpPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtmb3IoOyFpLmhhc093blByb3BlcnR5KGUpOylpPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKTtjb25zdHtnZXQ6byxzZXQ6cn09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLGUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2dldDpzKG8pLHNldDpuKHIpfSl9LHJlPSh0LGUscyk9Pnt0cnl7dC5zZXRWYWx1ZUF0VGltZShlLHMpfWNhdGNoKG4pe2lmKDkhPT1uLmNvZGUpdGhyb3cgbjtyZSh0LGUscysxZS03KX19LGFlPXQ9Pntjb25zdCBlPXQuY3JlYXRlT3NjaWxsYXRvcigpO3RyeXtlLnN0YXJ0KC0xKX1jYXRjaCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFJhbmdlRXJyb3J9cmV0dXJuITF9LGNlPXQ9Pntjb25zdCBlPXQuY3JlYXRlQnVmZmVyKDEsMSw0NDEwMCkscz10LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3MuYnVmZmVyPWUscy5zdGFydCgpLHMuc3RvcCgpO3RyeXtyZXR1cm4gcy5zdG9wKCksITB9Y2F0Y2h7cmV0dXJuITF9fSxoZT10PT57Y29uc3QgZT10LmNyZWF0ZU9zY2lsbGF0b3IoKTt0cnl7ZS5zdG9wKC0xKX1jYXRjaCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFJhbmdlRXJyb3J9cmV0dXJuITF9LHVlPSgpPT57dHJ5e25ldyBET01FeGNlcHRpb259Y2F0Y2h7cmV0dXJuITF9cmV0dXJuITB9LGxlPSgpPT5uZXcgUHJvbWlzZSh0PT57Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIoMCkse3BvcnQxOnMscG9ydDI6bn09bmV3IE1lc3NhZ2VDaGFubmVsO3Mub25tZXNzYWdlPSh7ZGF0YTplfSk9PnQobnVsbCE9PWUpLG4ucG9zdE1lc3NhZ2UoZSxbZV0pfSkscGU9KHQsZSk9Pntjb25zdCBzPWUuY3JlYXRlR2FpbigpO3QuY29ubmVjdChzKTtjb25zdCBuPShpPXQuZGlzY29ubmVjdCwoKT0+e2kuY2FsbCh0LHMpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbil9KTt2YXIgaTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pLEd0KHQscyksdC5zdG9wPShlPT57bGV0IG49ITE7cmV0dXJuKGk9MCk9PntpZihuKXRyeXtlLmNhbGwodCxpKX1jYXRjaHtzLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCxpKX1lbHNlIGUuY2FsbCh0LGkpLG49ITB9fSkodC5zdG9wKX0sZGU9KHQsZSk9PnM9Pntjb25zdCBuPXt2YWx1ZTp0fTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocyx7Y3VycmVudFRhcmdldDpuLHRhcmdldDpufSksXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lLmNhbGwodCxzKTplLmhhbmRsZUV2ZW50LmNhbGwodCxzKX0sZmU9KF9lPVosKHQsZSxbcyxuLGldLG8pPT57X2UodFtuXSxbZSxzLGldLHQ9PnRbMF09PT1lJiZ0WzFdPT09cyxvKX0pO3ZhciBfZTtjb25zdCBtZT0odD0+KGUscyxbbixpLG9dLHIpPT57Y29uc3QgYT1lLmdldChuKTt2b2lkIDA9PT1hP2Uuc2V0KG4sbmV3IFNldChbW2kscyxvXV0pKTp0KGEsW2kscyxvXSx0PT50WzBdPT09aSYmdFsxXT09PXMscil9KShaKSxnZT0odD0+KGUscyxuLGkpPT50KGVbaV0sdD0+dFswXT09PXMmJnRbMV09PT1uKSkoVCksdmU9bmV3IFdlYWtNYXAseWU9KHQ9PmU9Pnt2YXIgcztyZXR1cm4gbnVsbCE9PShzPXQuZ2V0KGUpKSYmdm9pZCAwIT09cz9zOjB9KSh2ZSkseGU9KHdlPW5ldyBNYXAsYmU9bmV3IFdlYWtNYXAsKHQsZSk9Pntjb25zdCBzPWJlLmdldCh0KTtpZih2b2lkIDAhPT1zKXJldHVybiBzO2NvbnN0IG49d2UuZ2V0KHQpO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG47dHJ5e2NvbnN0IHM9ZSgpO3JldHVybiBzIGluc3RhbmNlb2YgUHJvbWlzZT8od2Uuc2V0KHQscykscy5jYXRjaCgoKT0+ITEpLnRoZW4oZT0+KHdlLmRlbGV0ZSh0KSxiZS5zZXQodCxlKSxlKSkpOihiZS5zZXQodCxzKSxzKX1jYXRjaHtyZXR1cm4gYmUuc2V0KHQsITEpLCExfX0pO3ZhciB3ZSxiZTtjb25zdCBUZT1cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P251bGw6d2luZG93LFNlPShrZT14ZSxDZT1xLCh0LGUpPT57Y29uc3Qgcz10LmNyZWF0ZUFuYWx5c2VyKCk7aWYoSXQocyxlKSwhKGUubWF4RGVjaWJlbHM+ZS5taW5EZWNpYmVscykpdGhyb3cgQ2UoKTtyZXR1cm4gRnQocyxlLFwiZmZ0U2l6ZVwiKSxGdChzLGUsXCJtYXhEZWNpYmVsc1wiKSxGdChzLGUsXCJtaW5EZWNpYmVsc1wiKSxGdChzLGUsXCJzbW9vdGhpbmdUaW1lQ29uc3RhbnRcIiksa2UoVnQsKCk9PlZ0KHMpKXx8KHQ9Pnt0LmdldEZsb2F0VGltZURvbWFpbkRhdGE9ZT0+e2NvbnN0IHM9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO3QuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHMpO2NvbnN0IG49TWF0aC5tYXgocy5sZW5ndGgsdC5mZnRTaXplKTtmb3IobGV0IHQ9MDt0PG47dCs9MSllW3RdPS4wMDc4MTI1KihzW3RdLTEyOCk7cmV0dXJuIGV9fSkocyksc30pO3ZhciBrZSxDZTtjb25zdCBBZT0oRGU9TCx0PT57Y29uc3QgZT1EZSh0KTtpZihudWxsPT09ZS5yZW5kZXJlcil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSByZW5kZXJlciBvZiB0aGUgZ2l2ZW4gQXVkaW9Ob2RlIGluIHRoZSBhdWRpbyBncmFwaC5cIik7cmV0dXJuIGUucmVuZGVyZXJ9KTt2YXIgRGU7Y29uc3QgT2U9KCh0LGUscyk9PmFzeW5jKG4saSxvLHIpPT57Y29uc3QgYT10KG4pLGM9Wy4uLnIsbl07YXdhaXQgUHJvbWlzZS5hbGwoYS5hY3RpdmVJbnB1dHMubWFwKCh0LHIpPT5BcnJheS5mcm9tKHQpLmZpbHRlcigoW3RdKT0+IWMuaW5jbHVkZXModCkpLm1hcChhc3luYyhbdCxhXSk9Pntjb25zdCBoPWUodCksdT1hd2FpdCBoLnJlbmRlcih0LGksYyksbD1uLmNvbnRleHQuZGVzdGluYXRpb247cyh0KXx8bj09PWwmJnMobil8fHUuY29ubmVjdChvLGEscil9KSkucmVkdWNlKCh0LGUpPT5bLi4udCwuLi5lXSxbXSkpfSkoTCxBZSxpdCksTWU9KEVlPVNlLFJlPXN0LHFlPU9lLCgpPT57Y29uc3QgdD1uZXcgV2Vha01hcDtyZXR1cm57cmVuZGVyKGUscyxuKXtjb25zdCBpPXQuZ2V0KHMpO3JldHVybiB2b2lkIDAhPT1pP1Byb21pc2UucmVzb2x2ZShpKTooYXN5bmMoZSxzLG4pPT57bGV0IGk9UmUoZSk7aWYoIUUoaSxzKSl7Y29uc3QgdD17Y2hhbm5lbENvdW50OmkuY2hhbm5lbENvdW50LGNoYW5uZWxDb3VudE1vZGU6aS5jaGFubmVsQ291bnRNb2RlLGNoYW5uZWxJbnRlcnByZXRhdGlvbjppLmNoYW5uZWxJbnRlcnByZXRhdGlvbixmZnRTaXplOmkuZmZ0U2l6ZSxtYXhEZWNpYmVsczppLm1heERlY2liZWxzLG1pbkRlY2liZWxzOmkubWluRGVjaWJlbHMsc21vb3RoaW5nVGltZUNvbnN0YW50Omkuc21vb3RoaW5nVGltZUNvbnN0YW50fTtpPUVlKHMsdCl9cmV0dXJuIHQuc2V0KHMsaSksYXdhaXQgcWUoZSxzLGksbiksaX0pKGUscyxuKX19fSk7dmFyIEVlLFJlLHFlO2NvbnN0IEZlPShJZT1wLHQ9Pntjb25zdCBlPUllLmdldCh0KTtpZih2b2lkIDA9PT1lKXRocm93IEF0KCk7cmV0dXJuIGV9KTt2YXIgSWU7Y29uc3QgVmU9KHQ9Pm51bGw9PT10P251bGw6dC5oYXNPd25Qcm9wZXJ0eShcIk9mZmxpbmVBdWRpb0NvbnRleHRcIik/dC5PZmZsaW5lQXVkaW9Db250ZXh0OnQuaGFzT3duUHJvcGVydHkoXCJ3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0XCIpP3Qud2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dDpudWxsKShUZSksTmU9KFBlPVZlLHQ9Pm51bGwhPT1QZSYmdCBpbnN0YW5jZW9mIFBlKTt2YXIgUGU7Y29uc3QgamU9bmV3IFdlYWtNYXAsTGU9KHplPWRlLGNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX25hdGl2ZUV2ZW50VGFyZ2V0PXQsdGhpcy5fbGlzdGVuZXJzPW5ldyBXZWFrTWFwfWFkZEV2ZW50TGlzdGVuZXIodCxlLHMpe2lmKG51bGwhPT1lKXtsZXQgbj10aGlzLl9saXN0ZW5lcnMuZ2V0KGUpO3ZvaWQgMD09PW4mJihuPXplKHRoaXMsZSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmdGhpcy5fbGlzdGVuZXJzLnNldChlLG4pKSx0aGlzLl9uYXRpdmVFdmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKHQsbixzKX19ZGlzcGF0Y2hFdmVudCh0KXtyZXR1cm4gdGhpcy5fbmF0aXZlRXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudCh0KX1yZW1vdmVFdmVudExpc3RlbmVyKHQsZSxzKXtjb25zdCBuPW51bGw9PT1lP3ZvaWQgMDp0aGlzLl9saXN0ZW5lcnMuZ2V0KGUpO3RoaXMuX25hdGl2ZUV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodCx2b2lkIDA9PT1uP251bGw6bixzKX19KTt2YXIgemU7Y29uc3QgQmU9KHQ9Pm51bGw9PT10P251bGw6dC5oYXNPd25Qcm9wZXJ0eShcIkF1ZGlvQ29udGV4dFwiKT90LkF1ZGlvQ29udGV4dDp0Lmhhc093blByb3BlcnR5KFwid2Via2l0QXVkaW9Db250ZXh0XCIpP3Qud2Via2l0QXVkaW9Db250ZXh0Om51bGwpKFRlKSxXZT0oR2U9QmUsdD0+bnVsbCE9PUdlJiZ0IGluc3RhbmNlb2YgR2UpO3ZhciBHZTtjb25zdCBVZT0odD0+ZT0+bnVsbCE9PXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuQXVkaW9Ob2RlJiZlIGluc3RhbmNlb2YgdC5BdWRpb05vZGUpKFRlKSxRZT0odD0+ZT0+bnVsbCE9PXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuQXVkaW9QYXJhbSYmZSBpbnN0YW5jZW9mIHQuQXVkaW9QYXJhbSkoVGUpLFplPSgodCxlLHMsbixpLG8scixhLGMsdSxsLHAsZixfLG0pPT5jbGFzcyBleHRlbmRzIHV7Y29uc3RydWN0b3IoZSxuLGksbyl7c3VwZXIoaSksdGhpcy5fY29udGV4dD1lLHRoaXMuX25hdGl2ZUF1ZGlvTm9kZT1pO2NvbnN0IHI9bChlKTtwKHIpJiYhMCE9PXMocnQsKCk9PnJ0KHIpKSYmKHQ9Pntjb25zdCBlPW5ldyBNYXA7dmFyIHMsbjt0LmNvbm5lY3Q9KHM9dC5jb25uZWN0LmJpbmQodCksKHQsbj0wLGk9MCk9Pntjb25zdCBvPWN0KHQpP3ModCxuLGkpOnModCxuKSxyPWUuZ2V0KHQpO3JldHVybiB2b2lkIDA9PT1yP2Uuc2V0KHQsW3tpbnB1dDppLG91dHB1dDpufV0pOnIuZXZlcnkodD0+dC5pbnB1dCE9PWl8fHQub3V0cHV0IT09bikmJnIucHVzaCh7aW5wdXQ6aSxvdXRwdXQ6bn0pLG99KSx0LmRpc2Nvbm5lY3Q9KG49dC5kaXNjb25uZWN0LChzLGksbyk9PntpZihuLmFwcGx5KHQpLHZvaWQgMD09PXMpZS5jbGVhcigpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHMpZm9yKGNvbnN0W3Qsbl1vZiBlKXtjb25zdCBpPW4uZmlsdGVyKHQ9PnQub3V0cHV0IT09cyk7MD09PWkubGVuZ3RoP2UuZGVsZXRlKHQpOmUuc2V0KHQsaSl9ZWxzZSBpZihlLmhhcyhzKSlpZih2b2lkIDA9PT1pKWUuZGVsZXRlKHMpO2Vsc2V7Y29uc3QgdD1lLmdldChzKTtpZih2b2lkIDAhPT10KXtjb25zdCBuPXQuZmlsdGVyKHQ9PnQub3V0cHV0IT09aSYmKHQuaW5wdXQhPT1vfHx2b2lkIDA9PT1vKSk7MD09PW4ubGVuZ3RoP2UuZGVsZXRlKHMpOmUuc2V0KHMsbil9fWZvcihjb25zdFtzLG5db2YgZSluLmZvckVhY2goZT0+e2N0KHMpP3QuY29ubmVjdChzLGUub3V0cHV0LGUuaW5wdXQpOnQuY29ubmVjdChzLGUub3V0cHV0KX0pfSl9KShpKSxoLnNldCh0aGlzLGkpLGQuc2V0KHRoaXMsbmV3IFNldCksXCJjbG9zZWRcIiE9PWUuc3RhdGUmJm4mJkModGhpcyksdCh0aGlzLG8saSl9Z2V0IGNoYW5uZWxDb3VudCgpe3JldHVybiB0aGlzLl9uYXRpdmVBdWRpb05vZGUuY2hhbm5lbENvdW50fXNldCBjaGFubmVsQ291bnQodCl7dGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxDb3VudD10fWdldCBjaGFubmVsQ291bnRNb2RlKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jaGFubmVsQ291bnRNb2RlfXNldCBjaGFubmVsQ291bnRNb2RlKHQpe3RoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jaGFubmVsQ291bnRNb2RlPXR9Z2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpe3JldHVybiB0aGlzLl9uYXRpdmVBdWRpb05vZGUuY2hhbm5lbEludGVycHJldGF0aW9ufXNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odCl7dGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmNoYW5uZWxJbnRlcnByZXRhdGlvbj10fWdldCBjb250ZXh0KCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9Z2V0IG51bWJlck9mSW5wdXRzKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5udW1iZXJPZklucHV0c31nZXQgbnVtYmVyT2ZPdXRwdXRzKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUF1ZGlvTm9kZS5udW1iZXJPZk91dHB1dHN9Y29ubmVjdCh0LHM9MCxhPTApe2lmKHM8MHx8cz49dGhpcy5fbmF0aXZlQXVkaW9Ob2RlLm51bWJlck9mT3V0cHV0cyl0aHJvdyBpKCk7Y29uc3QgaD1sKHRoaXMuX2NvbnRleHQpLHU9bShoKTtpZihmKHQpfHxfKHQpKXRocm93IG8oKTtpZihVKHQpKXtjb25zdCBpPXN0KHQpO3RyeXtjb25zdCBlPSQodGhpcy5fbmF0aXZlQXVkaW9Ob2RlLGkscyxhKSxuPW90KHRoaXMpOyh1fHxuKSYmdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmRpc2Nvbm5lY3QoLi4uZSksXCJjbG9zZWRcIiE9PXRoaXMuY29udGV4dC5zdGF0ZSYmIW4mJm90KHQpJiZDKHQpfWNhdGNoKHQpe2lmKDEyPT09dC5jb2RlKXRocm93IG8oKTt0aHJvdyB0fWlmKGUodGhpcyx0LHMsYSx1KSl7Y29uc3QgZT1jKFt0aGlzXSx0KTthdChlLG4odSkpfXJldHVybiB0fWNvbnN0IHA9bnQodCk7aWYoXCJwbGF5YmFja1JhdGVcIj09PXAubmFtZSl0aHJvdyByKCk7dHJ5e3RoaXMuX25hdGl2ZUF1ZGlvTm9kZS5jb25uZWN0KHAscyksKHV8fG90KHRoaXMpKSYmdGhpcy5fbmF0aXZlQXVkaW9Ob2RlLmRpc2Nvbm5lY3QocCxzKX1jYXRjaCh0KXtpZigxMj09PXQuY29kZSl0aHJvdyBvKCk7dGhyb3cgdH1pZihodCh0aGlzLHQscyx1KSl7Y29uc3QgZT1jKFt0aGlzXSx0KTthdChlLG4odSkpfX1kaXNjb25uZWN0KHQsZSxzKXtsZXQgbjtjb25zdCByPWwodGhpcy5fY29udGV4dCksaD1tKHIpO2lmKHZvaWQgMD09PXQpbj0oKHQsZSk9Pntjb25zdCBzPUwodCksbj1bXTtmb3IoY29uc3QgaSBvZiBzLm91dHB1dHMpUShpKT91dCh0LGUsLi4uaSk6bHQodCxlLC4uLmkpLG4ucHVzaChpWzBdKTtyZXR1cm4gcy5vdXRwdXRzLmNsZWFyKCksbn0pKHRoaXMsaCk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aWYodDwwfHx0Pj10aGlzLm51bWJlck9mT3V0cHV0cyl0aHJvdyBpKCk7bj0oKHQsZSxzKT0+e2NvbnN0IG49TCh0KSxpPVtdO2Zvcihjb25zdCBvIG9mIG4ub3V0cHV0cylvWzFdPT09cyYmKFEobyk/dXQodCxlLC4uLm8pOmx0KHQsZSwuLi5vKSxpLnB1c2gob1swXSksbi5vdXRwdXRzLmRlbGV0ZShvKSk7cmV0dXJuIGl9KSh0aGlzLGgsdCl9ZWxzZXtpZih2b2lkIDAhPT1lJiYoZTwwfHxlPj10aGlzLm51bWJlck9mT3V0cHV0cykpdGhyb3cgaSgpO2lmKFUodCkmJnZvaWQgMCE9PXMmJihzPDB8fHM+PXQubnVtYmVyT2ZJbnB1dHMpKXRocm93IGkoKTtpZihuPSgodCxlLHMsbixpKT0+e2NvbnN0IG89TCh0KTtyZXR1cm4gQXJyYXkuZnJvbShvLm91dHB1dHMpLmZpbHRlcih0PT4hKHRbMF0hPT1zfHx2b2lkIDAhPT1uJiZ0WzFdIT09bnx8dm9pZCAwIT09aSYmdFsyXSE9PWkpKS5tYXAocz0+KFEocyk/dXQodCxlLC4uLnMpOmx0KHQsZSwuLi5zKSxvLm91dHB1dHMuZGVsZXRlKHMpLHNbMF0pKX0pKHRoaXMsaCx0LGUscyksMD09PW4ubGVuZ3RoKXRocm93IG8oKX1mb3IoY29uc3QgdCBvZiBuKXtjb25zdCBlPWMoW3RoaXNdLHQpO2F0KGUsYSl9fX0pKChYZT1jLCh0LGUscyk9Pntjb25zdCBuPVtdO2ZvcihsZXQgdD0wO3Q8cy5udW1iZXJPZklucHV0czt0Kz0xKW4ucHVzaChuZXcgU2V0KTtYZS5zZXQodCx7YWN0aXZlSW5wdXRzOm4sb3V0cHV0czpuZXcgU2V0LHBhc3NpdmVJbnB1dHM6bmV3IFdlYWtNYXAscmVuZGVyZXI6ZX0pfSksKCh0LGUscyxuLGksbyxyLGEsYyxoLHUsbCxwKT0+KGQsZixfLG0sZyk9Pntjb25zdHthY3RpdmVJbnB1dHM6dixwYXNzaXZlSW5wdXRzOnl9PW8oZikse291dHB1dHM6eH09byhkKSx3PWEoZCksYj1vPT57Y29uc3QgYT1jKGYpLGg9YyhkKTtpZihvKXtjb25zdCBlPVMoeSxkLF8sbSk7dCh2LGQsZSwhMSksZ3x8bChkKXx8cyhoLGEsXyxtKSxwKGYpJiZDKGYpfWVsc2V7Y29uc3QgdD1uKHYsZCxfLG0pO2UoeSxtLHQsITEpLGd8fGwoZCl8fGkoaCxhLF8sbSk7Y29uc3Qgcz1yKGYpOzA9PT1zP3UoZikmJk8oZix2KTpzZXRUaW1lb3V0KCgpPT57dShmKSYmTyhmLHYpfSwxZTMqcyl9fTtyZXR1cm4hIWgoeCxbZixfLG1dLHQ9PnRbMF09PT1mJiZ0WzFdPT09XyYmdFsyXT09PW0sITApJiYody5hZGQoYiksdShkKT90KHYsZCxbXyxtLGJdLCEwKTplKHksbSxbZCxfLGJdLCEwKSwhMCl9KShmZSxtZSwkLGdlLGV0LEwseWUsayxzdCxaLFAsaXQsb3QpLHhlLCgodCxlLHMsbixpLG8pPT5yPT4oYSxjKT0+e2NvbnN0IGg9dC5nZXQoYSk7aWYodm9pZCAwPT09aCl7aWYoIXImJm8oYSkpe2NvbnN0IHQ9bihhKSx7b3V0cHV0czpvfT1zKGEpO2Zvcihjb25zdCBzIG9mIG8paWYoUShzKSl7Y29uc3QgaT1uKHNbMF0pO2UodCxpLHNbMV0sc1syXSl9ZWxzZXtjb25zdCBlPWkoc1swXSk7dC5kaXNjb25uZWN0KGUsc1sxXSl9fXQuc2V0KGEsYyl9ZWxzZSB0LnNldChhLGgrYyl9KShmLGV0LEwsc3QsbnQsUCkscSxEdCxIdCwoKHQsZSxzLG4saSxvLHIsYSk9PihjLGgpPT57Y29uc3QgdT1lLmdldChjKTtpZih2b2lkIDA9PT11KXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgdGhlIGV4cGVjdGVkIGN5Y2xlIGNvdW50LlwiKTtjb25zdCBsPW8oYy5jb250ZXh0KSxwPWEobCk7aWYodT09PWgpe2lmKGUuZGVsZXRlKGMpLCFwJiZyKGMpKXtjb25zdCBlPW4oYykse291dHB1dHM6b309cyhjKTtmb3IoY29uc3QgcyBvZiBvKWlmKFEocykpe2NvbnN0IGk9bihzWzBdKTt0KGUsaSxzWzFdLHNbMl0pfWVsc2V7Y29uc3QgdD1pKHNbMF0pO2UuY29ubmVjdCh0LHNbMV0pfX19ZWxzZSBlLnNldChjLHUtaCl9KSgkLGYsTCxzdCxudCxGZSxQLE5lKSwoKHQsZSxzKT0+ZnVuY3Rpb24gbihpLG8pe2NvbnN0IHI9VShvKT9vOnModCxvKTtpZigodD0+XCJkZWxheVRpbWVcImluIHQpKHIpKXJldHVybltdO2lmKGlbMF09PT1yKXJldHVybltpXTtpZihpLmluY2x1ZGVzKHIpKXJldHVybltdO2NvbnN0e291dHB1dHM6YX09ZShyKTtyZXR1cm4gQXJyYXkuZnJvbShhKS5tYXAodD0+bihbLi4uaSxyXSx0WzBdKSkucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlKSxbXSl9KShqZSxMLGIpLExlLEZlLFdlLFVlLFFlLE5lKTt2YXIgWGU7Y29uc3QgWWU9KCh0LGUscyxuLGksbyk9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LHMpe2NvbnN0IHI9aSh0KSxhPXsuLi5NLC4uLnN9LGM9bihyLGEpO3N1cGVyKHQsITEsYyxvKHIpP2UoKTpudWxsKSx0aGlzLl9uYXRpdmVBbmFseXNlck5vZGU9Y31nZXQgZmZ0U2l6ZSgpe3JldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZmZ0U2l6ZX1zZXQgZmZ0U2l6ZSh0KXt0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZmZ0U2l6ZT10fWdldCBmcmVxdWVuY3lCaW5Db3VudCgpe3JldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZnJlcXVlbmN5QmluQ291bnR9Z2V0IG1heERlY2liZWxzKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5tYXhEZWNpYmVsc31zZXQgbWF4RGVjaWJlbHModCl7Y29uc3QgZT10aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWF4RGVjaWJlbHM7aWYodGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzPXQsISh0PnRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5taW5EZWNpYmVscykpdGhyb3cgdGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzPWUscygpfWdldCBtaW5EZWNpYmVscygpe3JldHVybiB0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUubWluRGVjaWJlbHN9c2V0IG1pbkRlY2liZWxzKHQpe2NvbnN0IGU9dGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1pbkRlY2liZWxzO2lmKHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5taW5EZWNpYmVscz10LCEodGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLm1heERlY2liZWxzPnQpKXRocm93IHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5taW5EZWNpYmVscz1lLHMoKX1nZXQgc21vb3RoaW5nVGltZUNvbnN0YW50KCl7cmV0dXJuIHRoaXMuX25hdGl2ZUFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnR9c2V0IHNtb290aGluZ1RpbWVDb25zdGFudCh0KXt0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50PXR9Z2V0Qnl0ZUZyZXF1ZW5jeURhdGEodCl7dGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHQpfWdldEJ5dGVUaW1lRG9tYWluRGF0YSh0KXt0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHQpfWdldEZsb2F0RnJlcXVlbmN5RGF0YSh0KXt0aGlzLl9uYXRpdmVBbmFseXNlck5vZGUuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhKHQpfWdldEZsb2F0VGltZURvbWFpbkRhdGEodCl7dGhpcy5fbmF0aXZlQW5hbHlzZXJOb2RlLmdldEZsb2F0VGltZURvbWFpbkRhdGEodCl9fSkoWmUsTWUscSxTZSxGZSxOZSksSGU9bmV3IFdlYWtTZXQsJGU9KHQ9Pm51bGw9PT10P251bGw6dC5oYXNPd25Qcm9wZXJ0eShcIkF1ZGlvQnVmZmVyXCIpP3QuQXVkaW9CdWZmZXI6bnVsbCkoVGUpLEplPShLZT1uZXcgVWludDMyQXJyYXkoMSksdD0+KEtlWzBdPXQsS2VbMF0pKTt2YXIgS2U7Y29uc3QgdHM9KCh0LGUpPT5zPT57cy5jb3B5RnJvbUNoYW5uZWw9KG4saSxvPTApPT57Y29uc3Qgcj10KG8pLGE9dChpKTtpZihhPj1zLm51bWJlck9mQ2hhbm5lbHMpdGhyb3cgZSgpO2NvbnN0IGM9cy5sZW5ndGgsaD1zLmdldENoYW5uZWxEYXRhKGEpLHU9bi5sZW5ndGg7Zm9yKGxldCB0PXI8MD8tcjowO3QrcjxjJiZ0PHU7dCs9MSluW3RdPWhbdCtyXX0scy5jb3B5VG9DaGFubmVsPShuLGksbz0wKT0+e2NvbnN0IHI9dChvKSxhPXQoaSk7aWYoYT49cy5udW1iZXJPZkNoYW5uZWxzKXRocm93IGUoKTtjb25zdCBjPXMubGVuZ3RoLGg9cy5nZXRDaGFubmVsRGF0YShhKSx1PW4ubGVuZ3RoO2ZvcihsZXQgdD1yPDA/LXI6MDt0K3I8YyYmdDx1O3QrPTEpaFt0K3JdPW5bdF19fSkoSmUscSksZXM9KHQ9PmU9PntlLmNvcHlGcm9tQ2hhbm5lbD0ocz0+KG4saSxvPTApPT57Y29uc3Qgcj10KG8pLGE9dChpKTtpZihyPGUubGVuZ3RoKXJldHVybiBzLmNhbGwoZSxuLGEscil9KShlLmNvcHlGcm9tQ2hhbm5lbCksZS5jb3B5VG9DaGFubmVsPShzPT4obixpLG89MCk9Pntjb25zdCByPXQobyksYT10KGkpO2lmKHI8ZS5sZW5ndGgpcmV0dXJuIHMuY2FsbChlLG4sYSxyKX0pKGUuY29weVRvQ2hhbm5lbCl9KShKZSksc3M9KCh0LGUscyxuLGksbyxyLGEpPT57bGV0IGM9bnVsbDtyZXR1cm4gY2xhc3MgaHtjb25zdHJ1Y3RvcihoKXtpZihudWxsPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci5cIik7Y29uc3R7bGVuZ3RoOnUsbnVtYmVyT2ZDaGFubmVsczpsLHNhbXBsZVJhdGU6cH09ey4uLkksLi4uaH07bnVsbD09PWMmJihjPW5ldyBpKDEsMSw0NDEwMCkpO2NvbnN0IGQ9bnVsbCE9PW4mJmUobyxvKT9uZXcgbih7bGVuZ3RoOnUsbnVtYmVyT2ZDaGFubmVsczpsLHNhbXBsZVJhdGU6cH0pOmMuY3JlYXRlQnVmZmVyKGwsdSxwKTtpZigwPT09ZC5udW1iZXJPZkNoYW5uZWxzKXRocm93IHMoKTtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBkLmNvcHlGcm9tQ2hhbm5lbD8ocihkKSxGKGQpKTplKFIsKCk9PlIoZCkpfHxhKGQpLHQuYWRkKGQpLGR9c3RhdGljW1N5bWJvbC5oYXNJbnN0YW5jZV0oZSl7cmV0dXJuIG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09aC5wcm90b3R5cGV8fHQuaGFzKGUpfX19KShIZSx4ZSxIdCwkZSxWZSwobnM9JGUsKCk9PntpZihudWxsPT09bnMpcmV0dXJuITE7dHJ5e25ldyBucyh7bGVuZ3RoOjEsc2FtcGxlUmF0ZTo0NDEwMH0pfWNhdGNoe3JldHVybiExfXJldHVybiEwfSksdHMsZXMpO3ZhciBucztjb25zdCBpcz0ob3M9UXQsKHQsZSk9Pntjb25zdCBzPW9zKHQse2NoYW5uZWxDb3VudDoxLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcImRpc2NyZXRlXCIsZ2FpbjowfSk7ZS5jb25uZWN0KHMpLmNvbm5lY3QodC5kZXN0aW5hdGlvbik7Y29uc3Qgbj0oKT0+e2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbiksZS5kaXNjb25uZWN0KHMpLHMuZGlzY29ubmVjdCgpfTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pfSk7dmFyIG9zO2NvbnN0IHJzPSgodCxlLHMpPT5hc3luYyhuLGksbyxyKT0+e2NvbnN0IGE9ZShuKTthd2FpdCBQcm9taXNlLmFsbChBcnJheS5mcm9tKGEuYWN0aXZlSW5wdXRzKS5tYXAoYXN5bmMoW2Usbl0pPT57Y29uc3QgYT10KGUpLGM9YXdhaXQgYS5yZW5kZXIoZSxpLHIpO3MoZSl8fGMuY29ubmVjdChvLG4pfSkpfSkoQWUseixpdCksYXM9KHQ9PihlLHMsbixpKT0+dChzLGUsbixpKSkocnMpLGNzPSgodCxlLHMsbixpLG8scixhLGMsaCx1KT0+KGwscCk9Pntjb25zdCBkPWwuY3JlYXRlQnVmZmVyU291cmNlKCk7cmV0dXJuIEl0KGQscCksTnQoZCxwLFwicGxheWJhY2tSYXRlXCIpLEZ0KGQscCxcImJ1ZmZlclwiKSxGdChkLHAsXCJsb29wXCIpLEZ0KGQscCxcImxvb3BFbmRcIiksRnQoZCxwLFwibG9vcFN0YXJ0XCIpLGUocywoKT0+cyhsKSl8fCh0PT57dC5zdGFydD0oZT0+e2xldCBzPSExO3JldHVybihuPTAsaT0wLG8pPT57aWYocyl0aHJvdyBBdCgpO2UuY2FsbCh0LG4saSxvKSxzPSEwfX0pKHQuc3RhcnQpfSkoZCksZShuLCgpPT5uKGwpKXx8YyhkKSxlKGksKCk9PmkobCkpfHxoKGQsbCksZShvLCgpPT5vKGwpKXx8UHQoZCksZShyLCgpPT5yKGwpKXx8dShkLGwpLGUoYSwoKT0+YShsKSl8fGp0KGQpLHQobCxkKSxkfSkoaXMseGUsdD0+e2NvbnN0IGU9dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtlLnN0YXJ0KCk7dHJ5e2Uuc3RhcnQoKX1jYXRjaHtyZXR1cm4hMH1yZXR1cm4hMX0sdD0+e2NvbnN0IGU9dC5jcmVhdGVCdWZmZXJTb3VyY2UoKSxzPXQuY3JlYXRlQnVmZmVyKDEsMSw0NDEwMCk7ZS5idWZmZXI9czt0cnl7ZS5zdGFydCgwLDEpfWNhdGNoe3JldHVybiExfXJldHVybiEwfSx0PT57Y29uc3QgZT10LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO2Uuc3RhcnQoKTt0cnl7ZS5zdG9wKCl9Y2F0Y2h7cmV0dXJuITF9cmV0dXJuITB9LGFlLGNlLGhlLHQ9Pnt2YXIgZTt0LnN0YXJ0PShlPXQuc3RhcnQsKHM9MCxuPTAsaSk9Pntjb25zdCBvPXQuYnVmZmVyLHI9bnVsbD09PW8/bjpNYXRoLm1pbihvLmR1cmF0aW9uLG4pO251bGwhPT1vJiZyPm8uZHVyYXRpb24tLjUvdC5jb250ZXh0LnNhbXBsZVJhdGU/ZS5jYWxsKHQscywwLDApOmUuY2FsbCh0LHMscixpKX0pfSwoaHM9b2UsKHQsZSk9Pntjb25zdCBzPWUuY3JlYXRlQnVmZmVyKDEsMSw0NDEwMCk7bnVsbD09PXQuYnVmZmVyJiYodC5idWZmZXI9cyksaHModCxcImJ1ZmZlclwiLGU9PigpPT57Y29uc3Qgbj1lLmNhbGwodCk7cmV0dXJuIG49PT1zP251bGw6bn0sZT0+bj0+ZS5jYWxsKHQsbnVsbD09PW4/czpuKSl9KSxwZSk7dmFyIGhzO2NvbnN0IHVzPSgodCxlKT0+KHMsbixpLG8pPT4odChuKS5yZXBsYXkoaSksZShuLHMsaSxvKSkpKCh0PT5lPT57Y29uc3Qgcz10KGUpO2lmKG51bGw9PT1zLnJlbmRlcmVyKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgdGhlIHJlbmRlcmVyIG9mIHRoZSBnaXZlbiBBdWRpb1BhcmFtIGluIHRoZSBhdWRpbyBncmFwaC5cIik7cmV0dXJuIHMucmVuZGVyZXJ9KSh6KSxycyksbHM9KCh0LGUscyxuLGkpPT4oKT0+e2NvbnN0IG89bmV3IFdlYWtNYXA7bGV0IHI9bnVsbCxhPW51bGw7cmV0dXJue3NldCBzdGFydCh0KXtyPXR9LHNldCBzdG9wKHQpe2E9dH0scmVuZGVyKGMsaCx1KXtjb25zdCBsPW8uZ2V0KGgpO3JldHVybiB2b2lkIDAhPT1sP1Byb21pc2UucmVzb2x2ZShsKTooYXN5bmMoYyxoLHUpPT57bGV0IGw9cyhjKTtjb25zdCBwPUUobCxoKTtpZighcCl7Y29uc3QgdD17YnVmZmVyOmwuYnVmZmVyLGNoYW5uZWxDb3VudDpsLmNoYW5uZWxDb3VudCxjaGFubmVsQ291bnRNb2RlOmwuY2hhbm5lbENvdW50TW9kZSxjaGFubmVsSW50ZXJwcmV0YXRpb246bC5jaGFubmVsSW50ZXJwcmV0YXRpb24sbG9vcDpsLmxvb3AsbG9vcEVuZDpsLmxvb3BFbmQsbG9vcFN0YXJ0OmwubG9vcFN0YXJ0LHBsYXliYWNrUmF0ZTpsLnBsYXliYWNrUmF0ZS52YWx1ZX07bD1lKGgsdCksbnVsbCE9PXImJmwuc3RhcnQoLi4uciksbnVsbCE9PWEmJmwuc3RvcChhKX1yZXR1cm4gby5zZXQoaCxsKSxwP2F3YWl0IHQoaCxjLnBsYXliYWNrUmF0ZSxsLnBsYXliYWNrUmF0ZSx1KTphd2FpdCBuKGgsYy5wbGF5YmFja1JhdGUsbC5wbGF5YmFja1JhdGUsdSksYXdhaXQgaShjLGgsbCx1KSxsfSkoYyxoLHUpfX19KShhcyxjcyxzdCx1cyxPZSkscHM9KCh0LGUscyxuLGksbyxhLGMsaCx1LGwscCxkKT0+KGYsXyxtLGc9bnVsbCx2PW51bGwpPT57Y29uc3QgeT1uZXcgci5BdXRvbWF0aW9uRXZlbnRMaXN0KG0uZGVmYXVsdFZhbHVlKSx4PV8/bih5KTpudWxsLHc9e2dldCBkZWZhdWx0VmFsdWUoKXtyZXR1cm4gbS5kZWZhdWx0VmFsdWV9LGdldCBtYXhWYWx1ZSgpe3JldHVybiBudWxsPT09Zz9tLm1heFZhbHVlOmd9LGdldCBtaW5WYWx1ZSgpe3JldHVybiBudWxsPT09dj9tLm1pblZhbHVlOnZ9LGdldCB2YWx1ZSgpe3JldHVybiBtLnZhbHVlfSxzZXQgdmFsdWUodCl7bS52YWx1ZT10LHcuc2V0VmFsdWVBdFRpbWUodCxmLmNvbnRleHQuY3VycmVudFRpbWUpfSxjYW5jZWxBbmRIb2xkQXRUaW1lKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG0uY2FuY2VsQW5kSG9sZEF0VGltZSludWxsPT09eCYmeS5mbHVzaChmLmNvbnRleHQuY3VycmVudFRpbWUpLHkuYWRkKGkodCkpLG0uY2FuY2VsQW5kSG9sZEF0VGltZSh0KTtlbHNle2NvbnN0IGU9QXJyYXkuZnJvbSh5KS5wb3AoKTtudWxsPT09eCYmeS5mbHVzaChmLmNvbnRleHQuY3VycmVudFRpbWUpLHkuYWRkKGkodCkpO2NvbnN0IHM9QXJyYXkuZnJvbSh5KS5wb3AoKTttLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KSxlIT09cyYmdm9pZCAwIT09cyYmKFwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZVwiPT09cy50eXBlP20uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShzLnZhbHVlLHMuZW5kVGltZSk6XCJsaW5lYXJSYW1wVG9WYWx1ZVwiPT09cy50eXBlP20ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUocy52YWx1ZSxzLmVuZFRpbWUpOlwic2V0VmFsdWVcIj09PXMudHlwZT9tLnNldFZhbHVlQXRUaW1lKHMudmFsdWUscy5zdGFydFRpbWUpOlwic2V0VmFsdWVDdXJ2ZVwiPT09cy50eXBlJiZtLnNldFZhbHVlQ3VydmVBdFRpbWUocy52YWx1ZXMscy5zdGFydFRpbWUscy5kdXJhdGlvbikpfXJldHVybiB3fSxjYW5jZWxTY2hlZHVsZWRWYWx1ZXM6dD0+KG51bGw9PT14JiZ5LmZsdXNoKGYuY29udGV4dC5jdXJyZW50VGltZSkseS5hZGQobyh0KSksbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCksdyksZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh0LGUpe2lmKDA9PT10KXRocm93IG5ldyBSYW5nZUVycm9yO2lmKCFOdW1iZXIuaXNGaW5pdGUoZSl8fGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtyZXR1cm4gbnVsbD09PXgmJnkuZmx1c2goZi5jb250ZXh0LmN1cnJlbnRUaW1lKSx5LmFkZChhKHQsZSkpLG0uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh0LGUpLHd9LGxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lOih0LGUpPT4obnVsbD09PXgmJnkuZmx1c2goZi5jb250ZXh0LmN1cnJlbnRUaW1lKSx5LmFkZChjKHQsZSkpLG0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodCxlKSx3KSxzZXRUYXJnZXRBdFRpbWU6KHQsZSxzKT0+KG51bGw9PT14JiZ5LmZsdXNoKGYuY29udGV4dC5jdXJyZW50VGltZSkseS5hZGQoaCh0LGUscykpLG0uc2V0VGFyZ2V0QXRUaW1lKHQsZSxzKSx3KSxzZXRWYWx1ZUF0VGltZToodCxlKT0+KG51bGw9PT14JiZ5LmZsdXNoKGYuY29udGV4dC5jdXJyZW50VGltZSkseS5hZGQodSh0LGUpKSxtLnNldFZhbHVlQXRUaW1lKHQsZSksdyksc2V0VmFsdWVDdXJ2ZUF0VGltZSh0LGUscyl7Y29uc3Qgbj10IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3Q6bmV3IEZsb2F0MzJBcnJheSh0KTtpZihudWxsIT09cCYmXCJ3ZWJraXRBdWRpb0NvbnRleHRcIj09PXAubmFtZSl7Y29uc3QgdD1lK3MsaT1mLmNvbnRleHQuc2FtcGxlUmF0ZSxvPU1hdGguY2VpbChlKmkpLHI9TWF0aC5mbG9vcih0KmkpLGE9ci1vLGM9bmV3IEZsb2F0MzJBcnJheShhKTtmb3IobGV0IHQ9MDt0PGE7dCs9MSl7Y29uc3Qgcj0obi5sZW5ndGgtMSkvcyooKG8rdCkvaS1lKSxhPU1hdGguZmxvb3IociksaD1NYXRoLmNlaWwocik7Y1t0XT1hPT09aD9uW2FdOigxLShyLWEpKSpuW2FdKygxLShoLXIpKSpuW2hdfW51bGw9PT14JiZ5LmZsdXNoKGYuY29udGV4dC5jdXJyZW50VGltZSkseS5hZGQobChjLGUscykpLG0uc2V0VmFsdWVDdXJ2ZUF0VGltZShjLGUscyk7Y29uc3QgaD1yL2k7aDx0JiZkKHcsY1tjLmxlbmd0aC0xXSxoKSxkKHcsbltuLmxlbmd0aC0xXSx0KX1lbHNlIG51bGw9PT14JiZ5LmZsdXNoKGYuY29udGV4dC5jdXJyZW50VGltZSkseS5hZGQobChuLGUscykpLG0uc2V0VmFsdWVDdXJ2ZUF0VGltZShuLGUscyk7cmV0dXJuIHd9fTtyZXR1cm4gcy5zZXQodyxtKSxlLnNldCh3LGYpLHQodyx4KSx3fSkoKGRzPXUsKHQsZSk9Pntkcy5zZXQodCx7YWN0aXZlSW5wdXRzOm5ldyBTZXQscGFzc2l2ZUlucHV0czpuZXcgV2Vha01hcCxyZW5kZXJlcjplfSl9KSxqZSxsLHQ9Pih7cmVwbGF5KGUpe2Zvcihjb25zdCBzIG9mIHQpaWYoXCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlXCI9PT1zLnR5cGUpe2NvbnN0e2VuZFRpbWU6dCx2YWx1ZTpufT1zO2UuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShuLHQpfWVsc2UgaWYoXCJsaW5lYXJSYW1wVG9WYWx1ZVwiPT09cy50eXBlKXtjb25zdHtlbmRUaW1lOnQsdmFsdWU6bn09cztlLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKG4sdCl9ZWxzZSBpZihcInNldFRhcmdldFwiPT09cy50eXBlKXtjb25zdHtzdGFydFRpbWU6dCx0YXJnZXQ6bix0aW1lQ29uc3RhbnQ6aX09cztlLnNldFRhcmdldEF0VGltZShuLHQsaSl9ZWxzZSBpZihcInNldFZhbHVlXCI9PT1zLnR5cGUpe2NvbnN0e3N0YXJ0VGltZTp0LHZhbHVlOm59PXM7ZS5zZXRWYWx1ZUF0VGltZShuLHQpfWVsc2V7aWYoXCJzZXRWYWx1ZUN1cnZlXCIhPT1zLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgYXBwbHkgYW4gdW5rbm93biBhdXRvbWF0aW9uLlwiKTt7Y29uc3R7ZHVyYXRpb246dCxzdGFydFRpbWU6bix2YWx1ZXM6aX09cztlLnNldFZhbHVlQ3VydmVBdFRpbWUoaSxuLHQpfX19fSksci5jcmVhdGVDYW5jZWxBbmRIb2xkQXV0b21hdGlvbkV2ZW50LHIuY3JlYXRlQ2FuY2VsU2NoZWR1bGVkVmFsdWVzQXV0b21hdGlvbkV2ZW50LHIuY3JlYXRlRXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF1dG9tYXRpb25FdmVudCxyLmNyZWF0ZUxpbmVhclJhbXBUb1ZhbHVlQXV0b21hdGlvbkV2ZW50LHIuY3JlYXRlU2V0VGFyZ2V0QXV0b21hdGlvbkV2ZW50LHIuY3JlYXRlU2V0VmFsdWVBdXRvbWF0aW9uRXZlbnQsci5jcmVhdGVTZXRWYWx1ZUN1cnZlQXV0b21hdGlvbkV2ZW50LEJlLHJlKTt2YXIgZHM7Y29uc3QgZnM9KCh0LGUscyxuLGksbyxyLGEpPT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IodCxuKXtjb25zdCBhPW8odCksYz17Li4uaiwuLi5ufSxoPWkoYSxjKSx1PXIoYSksbD11P2UoKTpudWxsO3N1cGVyKHQsITEsaCxsKSx0aGlzLl9hdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlcj1sLHRoaXMuX2lzQnVmZmVyTnVsbGlmaWVkPSExLHRoaXMuX2lzQnVmZmVyU2V0PW51bGwhPT1jLmJ1ZmZlcix0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGU9aCx0aGlzLl9vbmVuZGVkPW51bGwsdGhpcy5fcGxheWJhY2tSYXRlPXModGhpcyx1LGgucGxheWJhY2tSYXRlLE4sVil9Z2V0IGJ1ZmZlcigpe3JldHVybiB0aGlzLl9pc0J1ZmZlck51bGxpZmllZD9udWxsOnRoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5idWZmZXJ9c2V0IGJ1ZmZlcih0KXtpZih0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYnVmZmVyPXQsbnVsbCE9PXQpe2lmKHRoaXMuX2lzQnVmZmVyU2V0KXRocm93IG4oKTt0aGlzLl9pc0J1ZmZlclNldD0hMH19Z2V0IGxvb3AoKXtyZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3B9c2V0IGxvb3AodCl7dGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3A9dH1nZXQgbG9vcEVuZCgpe3JldHVybiB0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcEVuZH1zZXQgbG9vcEVuZCh0KXt0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUubG9vcEVuZD10fWdldCBsb29wU3RhcnQoKXtyZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLmxvb3BTdGFydH1zZXQgbG9vcFN0YXJ0KHQpe3RoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5sb29wU3RhcnQ9dH1nZXQgb25lbmRlZCgpe3JldHVybiB0aGlzLl9vbmVuZGVkfXNldCBvbmVuZGVkKHQpe2NvbnN0IGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdD9hKHRoaXMsdCk6bnVsbDt0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUub25lbmRlZD1lO2NvbnN0IHM9dGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLm9uZW5kZWQ7dGhpcy5fb25lbmRlZD1udWxsIT09cyYmcz09PWU/dDpzfWdldCBwbGF5YmFja1JhdGUoKXtyZXR1cm4gdGhpcy5fcGxheWJhY2tSYXRlfXN0YXJ0KHQ9MCxlPTAscyl7aWYodGhpcy5fbmF0aXZlQXVkaW9CdWZmZXJTb3VyY2VOb2RlLnN0YXJ0KHQsZSxzKSxudWxsIT09dGhpcy5fYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXImJih0aGlzLl9hdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlci5zdGFydD12b2lkIDA9PT1zP1t0LGVdOlt0LGUsc10pLFwiY2xvc2VkXCIhPT10aGlzLmNvbnRleHQuc3RhdGUpe0ModGhpcyk7Y29uc3QgdD0oKT0+e3RoaXMuX25hdGl2ZUF1ZGlvQnVmZmVyU291cmNlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0KSxQKHRoaXMpJiZEKHRoaXMpfTt0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdCl9fXN0b3AodD0wKXt0aGlzLl9uYXRpdmVBdWRpb0J1ZmZlclNvdXJjZU5vZGUuc3RvcCh0KSxudWxsIT09dGhpcy5fYXVkaW9CdWZmZXJTb3VyY2VOb2RlUmVuZGVyZXImJih0aGlzLl9hdWRpb0J1ZmZlclNvdXJjZU5vZGVSZW5kZXJlci5zdG9wPXQpfX0pKFplLGxzLHBzLEF0LGNzLEZlLE5lLGRlKSxfcz0oKHQsZSxzLG4saSxvLHIsYSk9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LHMpe2NvbnN0IG49byh0KSxjPXIobiksaD1pKG4scyxjKTtzdXBlcih0LCExLGgsYz9lKGEpOm51bGwpLHRoaXMuX2lzTm9kZU9mTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dD1jLHRoaXMuX25hdGl2ZUF1ZGlvRGVzdGluYXRpb25Ob2RlPWh9Z2V0IGNoYW5uZWxDb3VudCgpe3JldHVybiB0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnR9c2V0IGNoYW5uZWxDb3VudCh0KXtpZih0aGlzLl9pc05vZGVPZk5hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpdGhyb3cgbigpO2lmKHQ+dGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUubWF4Q2hhbm5lbENvdW50KXRocm93IHMoKTt0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnQ9dH1nZXQgY2hhbm5lbENvdW50TW9kZSgpe3JldHVybiB0aGlzLl9uYXRpdmVBdWRpb0Rlc3RpbmF0aW9uTm9kZS5jaGFubmVsQ291bnRNb2RlfXNldCBjaGFubmVsQ291bnRNb2RlKHQpe2lmKHRoaXMuX2lzTm9kZU9mTmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dCl0aHJvdyBuKCk7dGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUuY2hhbm5lbENvdW50TW9kZT10fWdldCBtYXhDaGFubmVsQ291bnQoKXtyZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9EZXN0aW5hdGlvbk5vZGUubWF4Q2hhbm5lbENvdW50fX0pKFplLHQ9PntsZXQgZT1udWxsO3JldHVybntyZW5kZXI6KHMsbixpKT0+KG51bGw9PT1lJiYoZT0oYXN5bmMoZSxzLG4pPT57Y29uc3QgaT1zLmRlc3RpbmF0aW9uO3JldHVybiBhd2FpdCB0KGUscyxpLG4pLGl9KShzLG4saSkpLGUpfX0scSxBdCwoKHQsZSk9PihzLG4saSk9Pntjb25zdCBvPXMuZGVzdGluYXRpb247aWYoby5jaGFubmVsQ291bnQhPT1uKXRyeXtvLmNoYW5uZWxDb3VudD1ufWNhdGNoe31pJiZcImV4cGxpY2l0XCIhPT1vLmNoYW5uZWxDb3VudE1vZGUmJihvLmNoYW5uZWxDb3VudE1vZGU9XCJleHBsaWNpdFwiKSwwPT09by5tYXhDaGFubmVsQ291bnQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwibWF4Q2hhbm5lbENvdW50XCIse3ZhbHVlOm59KTtjb25zdCByPXQocyx7Y2hhbm5lbENvdW50Om4sY2hhbm5lbENvdW50TW9kZTpvLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOm8uY2hhbm5lbEludGVycHJldGF0aW9uLGdhaW46MX0pO3JldHVybiBlKHIsXCJjaGFubmVsQ291bnRcIix0PT4oKT0+dC5jYWxsKHIpLHQ9PmU9Pnt0LmNhbGwocixlKTt0cnl7by5jaGFubmVsQ291bnQ9ZX1jYXRjaCh0KXtpZihlPm8ubWF4Q2hhbm5lbENvdW50KXRocm93IHR9fSksZShyLFwiY2hhbm5lbENvdW50TW9kZVwiLHQ9PigpPT50LmNhbGwociksdD0+ZT0+e3QuY2FsbChyLGUpLG8uY2hhbm5lbENvdW50TW9kZT1lfSksZShyLFwiY2hhbm5lbEludGVycHJldGF0aW9uXCIsdD0+KCk9PnQuY2FsbChyKSx0PT5lPT57dC5jYWxsKHIsZSksby5jaGFubmVsSW50ZXJwcmV0YXRpb249ZX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwibWF4Q2hhbm5lbENvdW50XCIse2dldDooKT0+by5tYXhDaGFubmVsQ291bnR9KSxyLmNvbm5lY3Qobykscn0pKFF0LG9lKSxGZSxOZSxPZSksbXM9KCh0LGUscyxuLGkpPT4oKT0+e2NvbnN0IG89bmV3IFdlYWtNYXA7cmV0dXJue3JlbmRlcihyLGEsYyl7Y29uc3QgaD1vLmdldChhKTtyZXR1cm4gdm9pZCAwIT09aD9Qcm9taXNlLnJlc29sdmUoaCk6KGFzeW5jKHIsYSxjKT0+e2xldCBoPXMocik7Y29uc3QgdT1FKGgsYSk7aWYoIXUpe2NvbnN0IHQ9e1E6aC5RLnZhbHVlLGNoYW5uZWxDb3VudDpoLmNoYW5uZWxDb3VudCxjaGFubmVsQ291bnRNb2RlOmguY2hhbm5lbENvdW50TW9kZSxjaGFubmVsSW50ZXJwcmV0YXRpb246aC5jaGFubmVsSW50ZXJwcmV0YXRpb24sZGV0dW5lOmguZGV0dW5lLnZhbHVlLGZyZXF1ZW5jeTpoLmZyZXF1ZW5jeS52YWx1ZSxnYWluOmguZ2Fpbi52YWx1ZSx0eXBlOmgudHlwZX07aD1lKGEsdCl9cmV0dXJuIG8uc2V0KGEsaCksdT8oYXdhaXQgdChhLHIuUSxoLlEsYyksYXdhaXQgdChhLHIuZGV0dW5lLGguZGV0dW5lLGMpLGF3YWl0IHQoYSxyLmZyZXF1ZW5jeSxoLmZyZXF1ZW5jeSxjKSxhd2FpdCB0KGEsci5nYWluLGguZ2FpbixjKSk6KGF3YWl0IG4oYSxyLlEsaC5RLGMpLGF3YWl0IG4oYSxyLmRldHVuZSxoLmRldHVuZSxjKSxhd2FpdCBuKGEsci5mcmVxdWVuY3ksaC5mcmVxdWVuY3ksYyksYXdhaXQgbihhLHIuZ2FpbixoLmdhaW4sYykpLGF3YWl0IGkocixhLGgsYyksaH0pKHIsYSxjKX19fSkoYXMsQnQsc3QsdXMsT2UpLGdzPSh0PT4oZSxzKT0+dC5zZXQoZSxzKSkodmUpLHZzPSh5cz1aZSx4cz1wcyx3cz1tcyxicz1EdCxUcz1CdCxTcz1GZSxrcz1OZSxDcz1ncyxjbGFzcyBleHRlbmRzIHlze2NvbnN0cnVjdG9yKHQsZSl7Y29uc3Qgcz1Tcyh0KSxuPXsuLi52dCwuLi5lfSxpPVRzKHMsbiksbz1rcyhzKTtzdXBlcih0LCExLGksbz93cygpOm51bGwpLHRoaXMuX1E9eHModGhpcyxvLGkuUSxOLFYpLHRoaXMuX2RldHVuZT14cyh0aGlzLG8saS5kZXR1bmUsMTIwMCpNYXRoLmxvZzIoTiksLTEyMDAqTWF0aC5sb2cyKE4pKSx0aGlzLl9mcmVxdWVuY3k9eHModGhpcyxvLGkuZnJlcXVlbmN5LHQuc2FtcGxlUmF0ZS8yLDApLHRoaXMuX2dhaW49eHModGhpcyxvLGkuZ2Fpbiw0MCpNYXRoLmxvZzEwKE4pLFYpLHRoaXMuX25hdGl2ZUJpcXVhZEZpbHRlck5vZGU9aSxDcyh0aGlzLDEpfWdldCBkZXR1bmUoKXtyZXR1cm4gdGhpcy5fZGV0dW5lfWdldCBmcmVxdWVuY3koKXtyZXR1cm4gdGhpcy5fZnJlcXVlbmN5fWdldCBnYWluKCl7cmV0dXJuIHRoaXMuX2dhaW59Z2V0IFEoKXtyZXR1cm4gdGhpcy5fUX1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9uYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLnR5cGV9c2V0IHR5cGUodCl7dGhpcy5fbmF0aXZlQmlxdWFkRmlsdGVyTm9kZS50eXBlPXR9Z2V0RnJlcXVlbmN5UmVzcG9uc2UodCxlLHMpe3RyeXt0aGlzLl9uYXRpdmVCaXF1YWRGaWx0ZXJOb2RlLmdldEZyZXF1ZW5jeVJlc3BvbnNlKHQsZSxzKX1jYXRjaCh0KXtpZigxMT09PXQuY29kZSl0aHJvdyBicygpO3Rocm93IHR9aWYodC5sZW5ndGghPT1lLmxlbmd0aHx8ZS5sZW5ndGghPT1zLmxlbmd0aCl0aHJvdyBicygpfX0pO3ZhciB5cyx4cyx3cyxicyxUcyxTcyxrcyxDcztjb25zdCBBcz0oKHQsZSk9PihzLG4saSk9Pntjb25zdCBvPW5ldyBTZXQ7dmFyIHIsYTtyZXR1cm4gcy5jb25uZWN0PShyPXMuY29ubmVjdCwoaSxhPTAsYz0wKT0+e2NvbnN0IGg9MD09PW8uc2l6ZTtpZihlKGkpKXJldHVybiByLmNhbGwocyxpLGEsYyksdChvLFtpLGEsY10sdD0+dFswXT09PWkmJnRbMV09PT1hJiZ0WzJdPT09YywhMCksaCYmbigpLGk7ci5jYWxsKHMsaSxhKSx0KG8sW2ksYV0sdD0+dFswXT09PWkmJnRbMV09PT1hLCEwKSxoJiZuKCl9KSxzLmRpc2Nvbm5lY3Q9KGE9cy5kaXNjb25uZWN0LCh0LG4scik9Pntjb25zdCBjPW8uc2l6ZT4wO2lmKHZvaWQgMD09PXQpYS5hcHBseShzKSxvLmNsZWFyKCk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdCl7YS5jYWxsKHMsdCk7Zm9yKGNvbnN0IGUgb2YgbyllWzFdPT09dCYmby5kZWxldGUoZSl9ZWxzZXtlKHQpP2EuY2FsbChzLHQsbixyKTphLmNhbGwocyx0LG4pO2Zvcihjb25zdCBlIG9mIG8pZVswXSE9PXR8fHZvaWQgMCE9PW4mJmVbMV0hPT1ufHx2b2lkIDAhPT1yJiZlWzJdIT09cnx8by5kZWxldGUoZSl9Y29uc3QgaD0wPT09by5zaXplO2MmJmgmJmkoKX0pLHN9KShaLFVlKSxEcz0oT3M9QXQsTXM9QXMsKHQsZSk9PntlLmNoYW5uZWxDb3VudD0xLGUuY2hhbm5lbENvdW50TW9kZT1cImV4cGxpY2l0XCIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjaGFubmVsQ291bnRcIix7Z2V0OigpPT4xLHNldDooKT0+e3Rocm93IE9zKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjaGFubmVsQ291bnRNb2RlXCIse2dldDooKT0+XCJleHBsaWNpdFwiLHNldDooKT0+e3Rocm93IE9zKCl9fSk7Y29uc3Qgcz10LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO01zKGUsKCk9Pntjb25zdCB0PWUubnVtYmVyT2ZJbnB1dHM7Zm9yKGxldCBuPTA7bjx0O24rPTEpcy5jb25uZWN0KGUsMCxuKX0sKCk9PnMuZGlzY29ubmVjdChlKSl9KTt2YXIgT3MsTXM7Y29uc3QgRXM9KCh0LGUpPT4ocyxuKT0+e2NvbnN0IGk9cy5jcmVhdGVDaGFubmVsTWVyZ2VyKG4ubnVtYmVyT2ZJbnB1dHMpO3JldHVybiBudWxsIT09dCYmXCJ3ZWJraXRBdWRpb0NvbnRleHRcIj09PXQubmFtZSYmZShzLGkpLEl0KGksbiksaX0pKEJlLERzKSxScz0oKHQsZSxzLG4saSk9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LG8pe2NvbnN0IHI9bih0KSxhPXsuLi55dCwuLi5vfTtzdXBlcih0LCExLHMocixhKSxpKHIpP2UoKTpudWxsKX19KShaZSwoKHQsZSxzKT0+KCk9Pntjb25zdCBuPW5ldyBXZWFrTWFwO3JldHVybntyZW5kZXIoaSxvLHIpe2NvbnN0IGE9bi5nZXQobyk7cmV0dXJuIHZvaWQgMCE9PWE/UHJvbWlzZS5yZXNvbHZlKGEpOihhc3luYyhpLG8scik9PntsZXQgYT1lKGkpO2lmKCFFKGEsbykpe2NvbnN0IGU9e2NoYW5uZWxDb3VudDphLmNoYW5uZWxDb3VudCxjaGFubmVsQ291bnRNb2RlOmEuY2hhbm5lbENvdW50TW9kZSxjaGFubmVsSW50ZXJwcmV0YXRpb246YS5jaGFubmVsSW50ZXJwcmV0YXRpb24sbnVtYmVyT2ZJbnB1dHM6YS5udW1iZXJPZklucHV0c307YT10KG8sZSl9cmV0dXJuIG4uc2V0KG8sYSksYXdhaXQgcyhpLG8sYSxyKSxhfSkoaSxvLHIpfX19KShFcyxzdCxPZSksRXMsRmUsTmUpLHFzPSgodCxlLHMsbixpLG8pPT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IodCxyKXtjb25zdCBhPW4odCksYz1vKHsuLi54dCwuLi5yfSk7c3VwZXIodCwhMSxzKGEsYyksaShhKT9lKCk6bnVsbCl9fSkoWmUsKCh0LGUscyk9PigpPT57Y29uc3Qgbj1uZXcgV2Vha01hcDtyZXR1cm57cmVuZGVyKGksbyxyKXtjb25zdCBhPW4uZ2V0KG8pO3JldHVybiB2b2lkIDAhPT1hP1Byb21pc2UucmVzb2x2ZShhKTooYXN5bmMoaSxvLHIpPT57bGV0IGE9ZShpKTtpZighRShhLG8pKXtjb25zdCBlPXtjaGFubmVsQ291bnQ6YS5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTphLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmEuY2hhbm5lbEludGVycHJldGF0aW9uLG51bWJlck9mT3V0cHV0czphLm51bWJlck9mT3V0cHV0c307YT10KG8sZSl9cmV0dXJuIG4uc2V0KG8sYSksYXdhaXQgcyhpLG8sYSxyKSxhfSkoaSxvLHIpfX19KShXdCxzdCxPZSksV3QsRmUsTmUsdD0+KHsuLi50LGNoYW5uZWxDb3VudDp0Lm51bWJlck9mT3V0cHV0c30pKSxGcz0oKHQsZSxzLG4pPT4oaSx7b2Zmc2V0Om8sLi4ucn0pPT57Y29uc3QgYT1pLmNyZWF0ZUJ1ZmZlcigxLDIsNDQxMDApLGM9ZShpLHtidWZmZXI6bnVsbCxjaGFubmVsQ291bnQ6MixjaGFubmVsQ291bnRNb2RlOlwibWF4XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixsb29wOiExLGxvb3BFbmQ6MCxsb29wU3RhcnQ6MCxwbGF5YmFja1JhdGU6MX0pLGg9cyhpLHsuLi5yLGdhaW46b30pLHU9YS5nZXRDaGFubmVsRGF0YSgwKTt1WzBdPTEsdVsxXT0xLGMuYnVmZmVyPWEsYy5sb29wPSEwO2NvbnN0IGw9e2dldCBidWZmZXJTaXplKCl7fSxnZXQgY2hhbm5lbENvdW50KCl7cmV0dXJuIGguY2hhbm5lbENvdW50fSxzZXQgY2hhbm5lbENvdW50KHQpe2guY2hhbm5lbENvdW50PXR9LGdldCBjaGFubmVsQ291bnRNb2RlKCl7cmV0dXJuIGguY2hhbm5lbENvdW50TW9kZX0sc2V0IGNoYW5uZWxDb3VudE1vZGUodCl7aC5jaGFubmVsQ291bnRNb2RlPXR9LGdldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oKXtyZXR1cm4gaC5jaGFubmVsSW50ZXJwcmV0YXRpb259LHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odCl7aC5jaGFubmVsSW50ZXJwcmV0YXRpb249dH0sZ2V0IGNvbnRleHQoKXtyZXR1cm4gaC5jb250ZXh0fSxnZXQgaW5wdXRzKCl7cmV0dXJuW119LGdldCBudW1iZXJPZklucHV0cygpe3JldHVybiBjLm51bWJlck9mSW5wdXRzfSxnZXQgbnVtYmVyT2ZPdXRwdXRzKCl7cmV0dXJuIGgubnVtYmVyT2ZPdXRwdXRzfSxnZXQgb2Zmc2V0KCl7cmV0dXJuIGguZ2Fpbn0sZ2V0IG9uZW5kZWQoKXtyZXR1cm4gYy5vbmVuZGVkfSxzZXQgb25lbmRlZCh0KXtjLm9uZW5kZWQ9dH0sYWRkRXZlbnRMaXN0ZW5lcjooLi4udCk9PmMuYWRkRXZlbnRMaXN0ZW5lcih0WzBdLHRbMV0sdFsyXSksZGlzcGF0Y2hFdmVudDooLi4udCk9PmMuZGlzcGF0Y2hFdmVudCh0WzBdKSxyZW1vdmVFdmVudExpc3RlbmVyOiguLi50KT0+Yy5yZW1vdmVFdmVudExpc3RlbmVyKHRbMF0sdFsxXSx0WzJdKSxzdGFydCh0PTApe2Muc3RhcnQuY2FsbChjLHQpfSxzdG9wKHQ9MCl7Yy5zdG9wLmNhbGwoYyx0KX19O3JldHVybiB0KGksYyksbihHdChsLGgpLCgpPT5jLmNvbm5lY3QoaCksKCk9PmMuZGlzY29ubmVjdChoKSl9KShpcyxjcyxRdCxBcyksSXM9KCh0LGUscyxuLGkpPT4obyxyKT0+e2lmKHZvaWQgMD09PW8uY3JlYXRlQ29uc3RhbnRTb3VyY2UpcmV0dXJuIHMobyxyKTtjb25zdCBhPW8uY3JlYXRlQ29uc3RhbnRTb3VyY2UoKTtyZXR1cm4gSXQoYSxyKSxOdChhLHIsXCJvZmZzZXRcIiksZShuLCgpPT5uKG8pKXx8UHQoYSksZShpLCgpPT5pKG8pKXx8anQoYSksdChvLGEpLGF9KShpcyx4ZSxGcyxhZSxoZSksVnM9KCh0LGUscyxuLGksbyxyKT0+Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQscil7Y29uc3QgYT1pKHQpLGM9ey4uLnd0LC4uLnJ9LGg9bihhLGMpLHU9byhhKSxsPXU/cygpOm51bGw7c3VwZXIodCwhMSxoLGwpLHRoaXMuX2NvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyPWwsdGhpcy5fbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlPWgsdGhpcy5fb2Zmc2V0PWUodGhpcyx1LGgub2Zmc2V0LE4sViksdGhpcy5fb25lbmRlZD1udWxsfWdldCBvZmZzZXQoKXtyZXR1cm4gdGhpcy5fb2Zmc2V0fWdldCBvbmVuZGVkKCl7cmV0dXJuIHRoaXMuX29uZW5kZWR9c2V0IG9uZW5kZWQodCl7Y29uc3QgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3IodGhpcyx0KTpudWxsO3RoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5vbmVuZGVkPWU7Y29uc3Qgcz10aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUub25lbmRlZDt0aGlzLl9vbmVuZGVkPW51bGwhPT1zJiZzPT09ZT90OnN9c3RhcnQodD0wKXtpZih0aGlzLl9uYXRpdmVDb25zdGFudFNvdXJjZU5vZGUuc3RhcnQodCksbnVsbCE9PXRoaXMuX2NvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyJiYodGhpcy5fY29uc3RhbnRTb3VyY2VOb2RlUmVuZGVyZXIuc3RhcnQ9dCksXCJjbG9zZWRcIiE9PXRoaXMuY29udGV4dC5zdGF0ZSl7Qyh0aGlzKTtjb25zdCB0PSgpPT57dGhpcy5fbmF0aXZlQ29uc3RhbnRTb3VyY2VOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHQpLFAodGhpcykmJkQodGhpcyl9O3RoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0KX19c3RvcCh0PTApe3RoaXMuX25hdGl2ZUNvbnN0YW50U291cmNlTm9kZS5zdG9wKHQpLG51bGwhPT10aGlzLl9jb25zdGFudFNvdXJjZU5vZGVSZW5kZXJlciYmKHRoaXMuX2NvbnN0YW50U291cmNlTm9kZVJlbmRlcmVyLnN0b3A9dCl9fSkoWmUscHMsKCh0LGUscyxuLGkpPT4oKT0+e2NvbnN0IG89bmV3IFdlYWtNYXA7bGV0IHI9bnVsbCxhPW51bGw7cmV0dXJue3NldCBzdGFydCh0KXtyPXR9LHNldCBzdG9wKHQpe2E9dH0scmVuZGVyKGMsaCx1KXtjb25zdCBsPW8uZ2V0KGgpO3JldHVybiB2b2lkIDAhPT1sP1Byb21pc2UucmVzb2x2ZShsKTooYXN5bmMoYyxoLHUpPT57bGV0IGw9cyhjKTtjb25zdCBwPUUobCxoKTtpZighcCl7Y29uc3QgdD17Y2hhbm5lbENvdW50OmwuY2hhbm5lbENvdW50LGNoYW5uZWxDb3VudE1vZGU6bC5jaGFubmVsQ291bnRNb2RlLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpsLmNoYW5uZWxJbnRlcnByZXRhdGlvbixvZmZzZXQ6bC5vZmZzZXQudmFsdWV9O2w9ZShoLHQpLG51bGwhPT1yJiZsLnN0YXJ0KHIpLG51bGwhPT1hJiZsLnN0b3AoYSl9cmV0dXJuIG8uc2V0KGgsbCkscD9hd2FpdCB0KGgsYy5vZmZzZXQsbC5vZmZzZXQsdSk6YXdhaXQgbihoLGMub2Zmc2V0LGwub2Zmc2V0LHUpLGF3YWl0IGkoYyxoLGwsdSksbH0pKGMsaCx1KX19fSkoYXMsSXMsc3QsdXMsT2UpLElzLEZlLE5lLGRlKSxOcz0oKHQsZSk9PihzLG4pPT57Y29uc3QgaT1zLmNyZWF0ZUNvbnZvbHZlcigpO2lmKEl0KGksbiksbi5kaXNhYmxlTm9ybWFsaXphdGlvbj09PWkubm9ybWFsaXplJiYoaS5ub3JtYWxpemU9IW4uZGlzYWJsZU5vcm1hbGl6YXRpb24pLEZ0KGksbixcImJ1ZmZlclwiKSxuLmNoYW5uZWxDb3VudD4yKXRocm93IHQoKTtpZihlKGksXCJjaGFubmVsQ291bnRcIix0PT4oKT0+dC5jYWxsKGkpLGU9PnM9PntpZihzPjIpdGhyb3cgdCgpO3JldHVybiBlLmNhbGwoaSxzKX0pLFwibWF4XCI9PT1uLmNoYW5uZWxDb3VudE1vZGUpdGhyb3cgdCgpO3JldHVybiBlKGksXCJjaGFubmVsQ291bnRNb2RlXCIsdD0+KCk9PnQuY2FsbChpKSxlPT5zPT57aWYoXCJtYXhcIj09PXMpdGhyb3cgdCgpO3JldHVybiBlLmNhbGwoaSxzKX0pLGl9KShIdCxvZSksUHM9KCh0LGUscyxuLGksbyk9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LHIpe2NvbnN0IGE9bih0KSxjPXsuLi5idCwuLi5yfSxoPXMoYSxjKTtzdXBlcih0LCExLGgsaShhKT9lKCk6bnVsbCksdGhpcy5faXNCdWZmZXJOdWxsaWZpZWQ9ITEsdGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZT1oLG51bGwhPT1jLmJ1ZmZlciYmbyh0aGlzLGMuYnVmZmVyLmR1cmF0aW9uKX1nZXQgYnVmZmVyKCl7cmV0dXJuIHRoaXMuX2lzQnVmZmVyTnVsbGlmaWVkP251bGw6dGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXJ9c2V0IGJ1ZmZlcih0KXtpZih0aGlzLl9uYXRpdmVDb252b2x2ZXJOb2RlLmJ1ZmZlcj10LG51bGw9PT10JiZudWxsIT09dGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5idWZmZXIpe2NvbnN0IHQ9dGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5jb250ZXh0O3RoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyPXQuY3JlYXRlQnVmZmVyKDEsMSw0NDEwMCksdGhpcy5faXNCdWZmZXJOdWxsaWZpZWQ9ITAsbyh0aGlzLDApfWVsc2UgdGhpcy5faXNCdWZmZXJOdWxsaWZpZWQ9ITEsbyh0aGlzLG51bGw9PT10aGlzLl9uYXRpdmVDb252b2x2ZXJOb2RlLmJ1ZmZlcj8wOnRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUuYnVmZmVyLmR1cmF0aW9uKX1nZXQgbm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUNvbnZvbHZlck5vZGUubm9ybWFsaXplfXNldCBub3JtYWxpemUodCl7dGhpcy5fbmF0aXZlQ29udm9sdmVyTm9kZS5ub3JtYWxpemU9dH19KShaZSwoKHQsZSxzKT0+KCk9Pntjb25zdCBuPW5ldyBXZWFrTWFwO3JldHVybntyZW5kZXIoaSxvLHIpe2NvbnN0IGE9bi5nZXQobyk7cmV0dXJuIHZvaWQgMCE9PWE/UHJvbWlzZS5yZXNvbHZlKGEpOihhc3luYyhpLG8scik9PntsZXQgYT1lKGkpO2lmKCFFKGEsbykpe2NvbnN0IGU9e2J1ZmZlcjphLmJ1ZmZlcixjaGFubmVsQ291bnQ6YS5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTphLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmEuY2hhbm5lbEludGVycHJldGF0aW9uLGRpc2FibGVOb3JtYWxpemF0aW9uOiFhLm5vcm1hbGl6ZX07YT10KG8sZSl9cmV0dXJuIG4uc2V0KG8sYSksSChhKT9hd2FpdCBzKGksbyxhLmlucHV0c1swXSxyKTphd2FpdCBzKGksbyxhLHIpLGF9KShpLG8scil9fX0pKE5zLHN0LE9lKSxOcyxGZSxOZSxncyksanM9KCh0LGUscyxuLGksbyxyKT0+Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQsYSl7Y29uc3QgYz1pKHQpLGg9ey4uLlR0LC4uLmF9LHU9bihjLGgpLGw9byhjKTtzdXBlcih0LCExLHUsbD9zKGgubWF4RGVsYXlUaW1lKTpudWxsKSx0aGlzLl9kZWxheVRpbWU9ZSh0aGlzLGwsdS5kZWxheVRpbWUpLHIodGhpcyxoLm1heERlbGF5VGltZSl9Z2V0IGRlbGF5VGltZSgpe3JldHVybiB0aGlzLl9kZWxheVRpbWV9fSkoWmUscHMsKCh0LGUscyxuLGkpPT5vPT57Y29uc3Qgcj1uZXcgV2Vha01hcDtyZXR1cm57cmVuZGVyKGEsYyxoKXtjb25zdCB1PXIuZ2V0KGMpO3JldHVybiB2b2lkIDAhPT11P1Byb21pc2UucmVzb2x2ZSh1KTooYXN5bmMoYSxjLGgpPT57bGV0IHU9cyhhKTtjb25zdCBsPUUodSxjKTtpZighbCl7Y29uc3QgdD17Y2hhbm5lbENvdW50OnUuY2hhbm5lbENvdW50LGNoYW5uZWxDb3VudE1vZGU6dS5jaGFubmVsQ291bnRNb2RlLGNoYW5uZWxJbnRlcnByZXRhdGlvbjp1LmNoYW5uZWxJbnRlcnByZXRhdGlvbixkZWxheVRpbWU6dS5kZWxheVRpbWUudmFsdWUsbWF4RGVsYXlUaW1lOm99O3U9ZShjLHQpfXJldHVybiByLnNldChjLHUpLGw/YXdhaXQgdChjLGEuZGVsYXlUaW1lLHUuZGVsYXlUaW1lLGgpOmF3YWl0IG4oYyxhLmRlbGF5VGltZSx1LmRlbGF5VGltZSxoKSxhd2FpdCBpKGEsYyx1LGgpLHV9KShhLGMsaCl9fX0pKGFzLFV0LHN0LHVzLE9lKSxVdCxGZSxOZSxncyksTHM9KHpzPUh0LCh0LGUpPT57Y29uc3Qgcz10LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpO2lmKEl0KHMsZSksZS5jaGFubmVsQ291bnQ+Mil0aHJvdyB6cygpO2lmKFwibWF4XCI9PT1lLmNoYW5uZWxDb3VudE1vZGUpdGhyb3cgenMoKTtyZXR1cm4gTnQocyxlLFwiYXR0YWNrXCIpLE50KHMsZSxcImtuZWVcIiksTnQocyxlLFwicmF0aW9cIiksTnQocyxlLFwicmVsZWFzZVwiKSxOdChzLGUsXCJ0aHJlc2hvbGRcIiksc30pO3ZhciB6cztjb25zdCBCcz0oKHQsZSxzLG4saSxvLHIsYSk9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LGkpe2NvbnN0IGM9byh0KSxoPXsuLi5rdCwuLi5pfSx1PW4oYyxoKSxsPXIoYyk7c3VwZXIodCwhMSx1LGw/cygpOm51bGwpLHRoaXMuX2F0dGFjaz1lKHRoaXMsbCx1LmF0dGFjayksdGhpcy5fa25lZT1lKHRoaXMsbCx1LmtuZWUpLHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGU9dSx0aGlzLl9yYXRpbz1lKHRoaXMsbCx1LnJhdGlvKSx0aGlzLl9yZWxlYXNlPWUodGhpcyxsLHUucmVsZWFzZSksdGhpcy5fdGhyZXNob2xkPWUodGhpcyxsLHUudGhyZXNob2xkKSxhKHRoaXMsLjAwNil9Z2V0IGF0dGFjaygpe3JldHVybiB0aGlzLl9hdHRhY2t9Z2V0IGNoYW5uZWxDb3VudCgpe3JldHVybiB0aGlzLl9uYXRpdmVEeW5hbWljc0NvbXByZXNzb3JOb2RlLmNoYW5uZWxDb3VudH1zZXQgY2hhbm5lbENvdW50KHQpe2NvbnN0IGU9dGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnQ7aWYodGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnQ9dCx0PjIpdGhyb3cgdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnQ9ZSxpKCl9Z2V0IGNoYW5uZWxDb3VudE1vZGUoKXtyZXR1cm4gdGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlfXNldCBjaGFubmVsQ291bnRNb2RlKHQpe2NvbnN0IGU9dGhpcy5fbmF0aXZlRHluYW1pY3NDb21wcmVzc29yTm9kZS5jaGFubmVsQ291bnRNb2RlO2lmKHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZT10LFwibWF4XCI9PT10KXRocm93IHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY2hhbm5lbENvdW50TW9kZT1lLGkoKX1nZXQga25lZSgpe3JldHVybiB0aGlzLl9rbmVlfWdldCByYXRpbygpe3JldHVybiB0aGlzLl9yYXRpb31nZXQgcmVkdWN0aW9uKCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVkdWN0aW9uLnZhbHVlP3RoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVkdWN0aW9uLnZhbHVlOnRoaXMuX25hdGl2ZUR5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVkdWN0aW9ufWdldCByZWxlYXNlKCl7cmV0dXJuIHRoaXMuX3JlbGVhc2V9Z2V0IHRocmVzaG9sZCgpe3JldHVybiB0aGlzLl90aHJlc2hvbGR9fSkoWmUscHMsKCh0LGUscyxuLGkpPT4oKT0+e2NvbnN0IG89bmV3IFdlYWtNYXA7cmV0dXJue3JlbmRlcihyLGEsYyl7Y29uc3QgaD1vLmdldChhKTtyZXR1cm4gdm9pZCAwIT09aD9Qcm9taXNlLnJlc29sdmUoaCk6KGFzeW5jKHIsYSxjKT0+e2xldCBoPXMocik7Y29uc3QgdT1FKGgsYSk7aWYoIXUpe2NvbnN0IHQ9e2F0dGFjazpoLmF0dGFjay52YWx1ZSxjaGFubmVsQ291bnQ6aC5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTpoLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmguY2hhbm5lbEludGVycHJldGF0aW9uLGtuZWU6aC5rbmVlLnZhbHVlLHJhdGlvOmgucmF0aW8udmFsdWUscmVsZWFzZTpoLnJlbGVhc2UudmFsdWUsdGhyZXNob2xkOmgudGhyZXNob2xkLnZhbHVlfTtoPWUoYSx0KX1yZXR1cm4gby5zZXQoYSxoKSx1Pyhhd2FpdCB0KGEsci5hdHRhY2ssaC5hdHRhY2ssYyksYXdhaXQgdChhLHIua25lZSxoLmtuZWUsYyksYXdhaXQgdChhLHIucmF0aW8saC5yYXRpbyxjKSxhd2FpdCB0KGEsci5yZWxlYXNlLGgucmVsZWFzZSxjKSxhd2FpdCB0KGEsci50aHJlc2hvbGQsaC50aHJlc2hvbGQsYykpOihhd2FpdCBuKGEsci5hdHRhY2ssaC5hdHRhY2ssYyksYXdhaXQgbihhLHIua25lZSxoLmtuZWUsYyksYXdhaXQgbihhLHIucmF0aW8saC5yYXRpbyxjKSxhd2FpdCBuKGEsci5yZWxlYXNlLGgucmVsZWFzZSxjKSxhd2FpdCBuKGEsci50aHJlc2hvbGQsaC50aHJlc2hvbGQsYykpLGF3YWl0IGkocixhLGgsYyksaH0pKHIsYSxjKX19fSkoYXMsTHMsc3QsdXMsT2UpLExzLEh0LEZlLE5lLGdzKSxXcz0oKHQsZSxzLG4saSxvKT0+Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQscil7Y29uc3QgYT1pKHQpLGM9ey4uLkN0LC4uLnJ9LGg9bihhLGMpLHU9byhhKTtzdXBlcih0LCExLGgsdT9zKCk6bnVsbCksdGhpcy5fZ2Fpbj1lKHRoaXMsdSxoLmdhaW4sTixWKX1nZXQgZ2Fpbigpe3JldHVybiB0aGlzLl9nYWlufX0pKFplLHBzLCgodCxlLHMsbixpKT0+KCk9Pntjb25zdCBvPW5ldyBXZWFrTWFwO3JldHVybntyZW5kZXIocixhLGMpe2NvbnN0IGg9by5nZXQoYSk7cmV0dXJuIHZvaWQgMCE9PWg/UHJvbWlzZS5yZXNvbHZlKGgpOihhc3luYyhyLGEsYyk9PntsZXQgaD1zKHIpO2NvbnN0IHU9RShoLGEpO2lmKCF1KXtjb25zdCB0PXtjaGFubmVsQ291bnQ6aC5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTpoLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmguY2hhbm5lbEludGVycHJldGF0aW9uLGdhaW46aC5nYWluLnZhbHVlfTtoPWUoYSx0KX1yZXR1cm4gby5zZXQoYSxoKSx1P2F3YWl0IHQoYSxyLmdhaW4saC5nYWluLGMpOmF3YWl0IG4oYSxyLmdhaW4saC5nYWluLGMpLGF3YWl0IGkocixhLGgsYyksaH0pKHIsYSxjKX19fSkoYXMsUXQsc3QsdXMsT2UpLFF0LEZlLE5lKSxHcz0oKHQsZSxzLG4pPT4oaSxvLHtjaGFubmVsQ291bnQ6cixjaGFubmVsQ291bnRNb2RlOmEsY2hhbm5lbEludGVycHJldGF0aW9uOmMsZmVlZGJhY2s6aCxmZWVkZm9yd2FyZDp1fSk9Pntjb25zdCBsPUx0KG8saS5zYW1wbGVSYXRlKSxwPWggaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/aDpuZXcgRmxvYXQ2NEFycmF5KGgpLGQ9dSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheT91Om5ldyBGbG9hdDY0QXJyYXkodSksZj1wLmxlbmd0aCxfPWQubGVuZ3RoLG09TWF0aC5taW4oZixfKTtpZigwPT09Znx8Zj4yMCl0aHJvdyBuKCk7aWYoMD09PXBbMF0pdGhyb3cgZSgpO2lmKDA9PT1ffHxfPjIwKXRocm93IG4oKTtpZigwPT09ZFswXSl0aHJvdyBlKCk7aWYoMSE9PXBbMF0pe2ZvcihsZXQgdD0wO3Q8Xzt0Kz0xKWRbdF0vPXBbMF07Zm9yKGxldCB0PTE7dDxmO3QrPTEpcFt0XS89cFswXX1jb25zdCBnPXMoaSxsLHIscik7Zy5jaGFubmVsQ291bnQ9cixnLmNoYW5uZWxDb3VudE1vZGU9YSxnLmNoYW5uZWxJbnRlcnByZXRhdGlvbj1jO2NvbnN0IHY9W10seT1bXSx4PVtdO2ZvcihsZXQgdD0wO3Q8cjt0Kz0xKXt2LnB1c2goMCk7Y29uc3QgdD1uZXcgRmxvYXQzMkFycmF5KDMyKSxlPW5ldyBGbG9hdDMyQXJyYXkoMzIpO3QuZmlsbCgwKSxlLmZpbGwoMCkseS5wdXNoKHQpLHgucHVzaChlKX1nLm9uYXVkaW9wcm9jZXNzPXQ9Pntjb25zdCBlPXQuaW5wdXRCdWZmZXIscz10Lm91dHB1dEJ1ZmZlcixuPWUubnVtYmVyT2ZDaGFubmVscztmb3IobGV0IHQ9MDt0PG47dCs9MSl7Y29uc3Qgbj1lLmdldENoYW5uZWxEYXRhKHQpLGk9cy5nZXRDaGFubmVsRGF0YSh0KTt2W3RdPU10KHAsZixkLF8sbSx5W3RdLHhbdF0sdlt0XSwzMixuLGkpfX07Y29uc3Qgdz1pLnNhbXBsZVJhdGUvMjtyZXR1cm4gR3Qoe2dldCBidWZmZXJTaXplKCl7cmV0dXJuIGx9LGdldCBjaGFubmVsQ291bnQoKXtyZXR1cm4gZy5jaGFubmVsQ291bnR9LHNldCBjaGFubmVsQ291bnQodCl7Zy5jaGFubmVsQ291bnQ9dH0sZ2V0IGNoYW5uZWxDb3VudE1vZGUoKXtyZXR1cm4gZy5jaGFubmVsQ291bnRNb2RlfSxzZXQgY2hhbm5lbENvdW50TW9kZSh0KXtnLmNoYW5uZWxDb3VudE1vZGU9dH0sZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpe3JldHVybiBnLmNoYW5uZWxJbnRlcnByZXRhdGlvbn0sc2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbih0KXtnLmNoYW5uZWxJbnRlcnByZXRhdGlvbj10fSxnZXQgY29udGV4dCgpe3JldHVybiBnLmNvbnRleHR9LGdldCBpbnB1dHMoKXtyZXR1cm5bZ119LGdldCBudW1iZXJPZklucHV0cygpe3JldHVybiBnLm51bWJlck9mSW5wdXRzfSxnZXQgbnVtYmVyT2ZPdXRwdXRzKCl7cmV0dXJuIGcubnVtYmVyT2ZPdXRwdXRzfSxhZGRFdmVudExpc3RlbmVyOiguLi50KT0+Zy5hZGRFdmVudExpc3RlbmVyKHRbMF0sdFsxXSx0WzJdKSxkaXNwYXRjaEV2ZW50OiguLi50KT0+Zy5kaXNwYXRjaEV2ZW50KHRbMF0pLGdldEZyZXF1ZW5jeVJlc3BvbnNlKGUscyxuKXtpZihlLmxlbmd0aCE9PXMubGVuZ3RofHxzLmxlbmd0aCE9PW4ubGVuZ3RoKXRocm93IHQoKTtjb25zdCBpPWUubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8aTt0Kz0xKXtjb25zdCBpPS1NYXRoLlBJKihlW3RdL3cpLG89W01hdGguY29zKGkpLE1hdGguc2luKGkpXSxyPVp0KFh0KGQsbyksWHQocCxvKSk7c1t0XT1NYXRoLnNxcnQoclswXSpyWzBdK3JbMV0qclsxXSksblt0XT1NYXRoLmF0YW4yKHJbMV0sclswXSl9fSxyZW1vdmVFdmVudExpc3RlbmVyOiguLi50KT0+Zy5yZW1vdmVFdmVudExpc3RlbmVyKHRbMF0sdFsxXSx0WzJdKX0sZyl9KShEdCxBdCxZdCxIdCksVXM9KCh0LGUscyxuKT0+aT0+dChSdCwoKT0+UnQoaSkpP1Byb21pc2UucmVzb2x2ZSh0KG4sbikpLnRoZW4odD0+e2lmKCF0KXtjb25zdCB0PXMoaSw1MTIsMCwxKTtpLm9uY29tcGxldGU9KCk9Pnt0Lm9uYXVkaW9wcm9jZXNzPW51bGwsdC5kaXNjb25uZWN0KCl9LHQub25hdWRpb3Byb2Nlc3M9KCk9PmkuY3VycmVudFRpbWUsdC5jb25uZWN0KGkuZGVzdGluYXRpb24pfXJldHVybiBpLnN0YXJ0UmVuZGVyaW5nKCl9KTpuZXcgUHJvbWlzZSh0PT57Y29uc3Qgcz1lKGkse2NoYW5uZWxDb3VudDoxLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcImRpc2NyZXRlXCIsZ2FpbjowfSk7aS5vbmNvbXBsZXRlPWU9PntzLmRpc2Nvbm5lY3QoKSx0KGUucmVuZGVyZWRCdWZmZXIpfSxzLmNvbm5lY3QoaS5kZXN0aW5hdGlvbiksaS5zdGFydFJlbmRlcmluZygpfSkpKHhlLFF0LFl0LCgodCxlKT0+KCk9PntpZihudWxsPT09ZSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCExKTtjb25zdCBzPW5ldyBlKDEsMSw0NDEwMCksbj10KHMse2NoYW5uZWxDb3VudDoxLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcImRpc2NyZXRlXCIsZ2FpbjowfSk7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PntzLm9uY29tcGxldGU9KCk9PntuLmRpc2Nvbm5lY3QoKSx0KDAhPT1zLmN1cnJlbnRUaW1lKX0scy5zdGFydFJlbmRlcmluZygpfSl9KShRdCxWZSkpLFFzPSgodCxlLHMsbixpKT0+KG8scik9Pntjb25zdCBhPW5ldyBXZWFrTWFwO2xldCBjPW51bGw7Y29uc3QgaD1hc3luYyhoLHUsbCk9PntsZXQgcD1udWxsLGQ9ZShoKTtjb25zdCBmPUUoZCx1KTtpZih2b2lkIDA9PT11LmNyZWF0ZUlJUkZpbHRlcj9wPXQodSx7YnVmZmVyOm51bGwsY2hhbm5lbENvdW50OjIsY2hhbm5lbENvdW50TW9kZTpcIm1heFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcInNwZWFrZXJzXCIsbG9vcDohMSxsb29wRW5kOjAsbG9vcFN0YXJ0OjAscGxheWJhY2tSYXRlOjF9KTpmfHwoZD11LmNyZWF0ZUlJUkZpbHRlcihyLG8pKSxhLnNldCh1LG51bGw9PT1wP2Q6cCksbnVsbCE9PXApe2lmKG51bGw9PT1jKXtpZihudWxsPT09cyl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci5cIik7Y29uc3QgdD1uZXcgcyhoLmNvbnRleHQuZGVzdGluYXRpb24uY2hhbm5lbENvdW50LGguY29udGV4dC5sZW5ndGgsdS5zYW1wbGVSYXRlKTtjPShhc3luYygpPT57YXdhaXQgbihoLHQsdC5kZXN0aW5hdGlvbixsKTtyZXR1cm4oKHQsZSxzLG4pPT57Y29uc3QgaT1zIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5P3M6bmV3IEZsb2F0NjRBcnJheShzKSxvPW4gaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/bjpuZXcgRmxvYXQ2NEFycmF5KG4pLHI9aS5sZW5ndGgsYT1vLmxlbmd0aCxjPU1hdGgubWluKHIsYSk7aWYoMSE9PWlbMF0pe2ZvcihsZXQgdD0wO3Q8cjt0Kz0xKW9bdF0vPWlbMF07Zm9yKGxldCB0PTE7dDxhO3QrPTEpaVt0XS89aVswXX1jb25zdCBoPW5ldyBGbG9hdDMyQXJyYXkoMzIpLHU9bmV3IEZsb2F0MzJBcnJheSgzMiksbD1lLmNyZWF0ZUJ1ZmZlcih0Lm51bWJlck9mQ2hhbm5lbHMsdC5sZW5ndGgsdC5zYW1wbGVSYXRlKSxwPXQubnVtYmVyT2ZDaGFubmVscztmb3IobGV0IGU9MDtlPHA7ZSs9MSl7Y29uc3Qgcz10LmdldENoYW5uZWxEYXRhKGUpLG49bC5nZXRDaGFubmVsRGF0YShlKTtoLmZpbGwoMCksdS5maWxsKDApLE10KGkscixvLGEsYyxoLHUsMCwzMixzLG4pfXJldHVybiBsfSkoYXdhaXQgaSh0KSx1LG8scil9KSgpfWNvbnN0IHQ9YXdhaXQgYztyZXR1cm4gcC5idWZmZXI9dCxwLnN0YXJ0KDApLHB9cmV0dXJuIGF3YWl0IG4oaCx1LGQsbCksZH07cmV0dXJue3JlbmRlcih0LGUscyl7Y29uc3Qgbj1hLmdldChlKTtyZXR1cm4gdm9pZCAwIT09bj9Qcm9taXNlLnJlc29sdmUobik6aCh0LGUscyl9fX0pKGNzLHN0LFZlLE9lLFVzKTt2YXIgWnM7Y29uc3QgWHM9KCh0LGUscyxuLGksbyk9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LHIpe2NvbnN0IGE9bih0KSxjPWkoYSksaD17Li4uT3QsLi4ucn0sdT1lKGEsYz9udWxsOnQuYmFzZUxhdGVuY3ksaCk7c3VwZXIodCwhMSx1LGM/cyhoLmZlZWRiYWNrLGguZmVlZGZvcndhcmQpOm51bGwpLCh0PT57dmFyIGU7dC5nZXRGcmVxdWVuY3lSZXNwb25zZT0oZT10LmdldEZyZXF1ZW5jeVJlc3BvbnNlLChzLG4saSk9PntpZihzLmxlbmd0aCE9PW4ubGVuZ3RofHxuLmxlbmd0aCE9PWkubGVuZ3RoKXRocm93IER0KCk7cmV0dXJuIGUuY2FsbCh0LHMsbixpKX0pfSkodSksdGhpcy5fbmF0aXZlSUlSRmlsdGVyTm9kZT11LG8odGhpcywxKX1nZXRGcmVxdWVuY3lSZXNwb25zZSh0LGUscyl7cmV0dXJuIHRoaXMuX25hdGl2ZUlJUkZpbHRlck5vZGUuZ2V0RnJlcXVlbmN5UmVzcG9uc2UodCxlLHMpfX0pKFplLChacz1HcywodCxlLHMpPT57aWYodm9pZCAwPT09dC5jcmVhdGVJSVJGaWx0ZXIpcmV0dXJuIFpzKHQsZSxzKTtjb25zdCBuPXQuY3JlYXRlSUlSRmlsdGVyKHMuZmVlZGZvcndhcmQscy5mZWVkYmFjayk7cmV0dXJuIEl0KG4scyksbn0pLFFzLEZlLE5lLGdzKSxZcz0oKHQsZSxzLG4saSk9PihvLHIpPT57Y29uc3QgYT1yLmxpc3RlbmVyLHtmb3J3YXJkWDpjLGZvcndhcmRZOmgsZm9yd2FyZFo6dSxwb3NpdGlvblg6bCxwb3NpdGlvblk6cCxwb3NpdGlvblo6ZCx1cFg6Zix1cFk6Xyx1cFo6bX09dm9pZCAwPT09YS5mb3J3YXJkWD8oKCk9Pntjb25zdCBjPWUocix7Y2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixudW1iZXJPZklucHV0czo5fSksaD1pKHIpLHU9bihyLDI1Niw5LDApLGw9KGUsbik9Pntjb25zdCBpPXMocix7Y2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwiZGlzY3JldGVcIixvZmZzZXQ6bn0pO3JldHVybiBpLmNvbm5lY3QoYywwLGUpLGkuc3RhcnQoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5vZmZzZXQsXCJkZWZhdWx0VmFsdWVcIix7Z2V0OigpPT5ufSksdCh7Y29udGV4dDpvfSxoLGkub2Zmc2V0LE4sVil9O2xldCBwPVswLDAsLTEsMCwxLDBdLGQ9WzAsMCwwXTtyZXR1cm4gdS5vbmF1ZGlvcHJvY2Vzcz0oe2lucHV0QnVmZmVyOnR9KT0+e2NvbnN0IGU9W3QuZ2V0Q2hhbm5lbERhdGEoMClbMF0sdC5nZXRDaGFubmVsRGF0YSgxKVswXSx0LmdldENoYW5uZWxEYXRhKDIpWzBdLHQuZ2V0Q2hhbm5lbERhdGEoMylbMF0sdC5nZXRDaGFubmVsRGF0YSg0KVswXSx0LmdldENoYW5uZWxEYXRhKDUpWzBdXTtlLnNvbWUoKHQsZSk9PnQhPT1wW2VdKSYmKGEuc2V0T3JpZW50YXRpb24oLi4uZSkscD1lKTtjb25zdCBzPVt0LmdldENoYW5uZWxEYXRhKDYpWzBdLHQuZ2V0Q2hhbm5lbERhdGEoNylbMF0sdC5nZXRDaGFubmVsRGF0YSg4KVswXV07cy5zb21lKCh0LGUpPT50IT09ZFtlXSkmJihhLnNldFBvc2l0aW9uKC4uLnMpLGQ9cyl9LGMuY29ubmVjdCh1KSx7Zm9yd2FyZFg6bCgwLDApLGZvcndhcmRZOmwoMSwwKSxmb3J3YXJkWjpsKDIsLTEpLHBvc2l0aW9uWDpsKDYsMCkscG9zaXRpb25ZOmwoNywwKSxwb3NpdGlvblo6bCg4LDApLHVwWDpsKDMsMCksdXBZOmwoNCwxKSx1cFo6bCg1LDApfX0pKCk6YTtyZXR1cm57Z2V0IGZvcndhcmRYKCl7cmV0dXJuIGN9LGdldCBmb3J3YXJkWSgpe3JldHVybiBofSxnZXQgZm9yd2FyZFooKXtyZXR1cm4gdX0sZ2V0IHBvc2l0aW9uWCgpe3JldHVybiBsfSxnZXQgcG9zaXRpb25ZKCl7cmV0dXJuIHB9LGdldCBwb3NpdGlvblooKXtyZXR1cm4gZH0sZ2V0IHVwWCgpe3JldHVybiBmfSxnZXQgdXBZKCl7cmV0dXJuIF99LGdldCB1cFooKXtyZXR1cm4gbX19fSkocHMsRXMsSXMsWXQsTmUpLEhzPW5ldyBXZWFrTWFwLCRzPSgodCxlLHMsbixpLG8pPT5jbGFzcyBleHRlbmRzIHN7Y29uc3RydWN0b3IocyxvKXtzdXBlcihzKSx0aGlzLl9uYXRpdmVDb250ZXh0PXMscC5zZXQodGhpcyxzKSxuKHMpJiZpLnNldChzLG5ldyBTZXQpLHRoaXMuX2Rlc3RpbmF0aW9uPW5ldyB0KHRoaXMsbyksdGhpcy5fbGlzdGVuZXI9ZSh0aGlzLHMpLHRoaXMuX29uc3RhdGVjaGFuZ2U9bnVsbH1nZXQgY3VycmVudFRpbWUoKXtyZXR1cm4gdGhpcy5fbmF0aXZlQ29udGV4dC5jdXJyZW50VGltZX1nZXQgZGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fZGVzdGluYXRpb259Z2V0IGxpc3RlbmVyKCl7cmV0dXJuIHRoaXMuX2xpc3RlbmVyfWdldCBvbnN0YXRlY2hhbmdlKCl7cmV0dXJuIHRoaXMuX29uc3RhdGVjaGFuZ2V9c2V0IG9uc3RhdGVjaGFuZ2UodCl7Y29uc3QgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P28odGhpcyx0KTpudWxsO3RoaXMuX25hdGl2ZUNvbnRleHQub25zdGF0ZWNoYW5nZT1lO2NvbnN0IHM9dGhpcy5fbmF0aXZlQ29udGV4dC5vbnN0YXRlY2hhbmdlO3RoaXMuX29uc3RhdGVjaGFuZ2U9bnVsbCE9PXMmJnM9PT1lP3Q6c31nZXQgc2FtcGxlUmF0ZSgpe3JldHVybiB0aGlzLl9uYXRpdmVDb250ZXh0LnNhbXBsZVJhdGV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUNvbnRleHQuc3RhdGV9fSkoX3MsWXMsTGUsTmUsSHMsZGUpLEpzPSgodCxlLHMsbixpLG8pPT4ocixhKT0+e2NvbnN0IGM9ci5jcmVhdGVPc2NpbGxhdG9yKCk7cmV0dXJuIEl0KGMsYSksTnQoYyxhLFwiZGV0dW5lXCIpLE50KGMsYSxcImZyZXF1ZW5jeVwiKSx2b2lkIDAhPT1hLnBlcmlvZGljV2F2ZT9jLnNldFBlcmlvZGljV2F2ZShhLnBlcmlvZGljV2F2ZSk6RnQoYyxhLFwidHlwZVwiKSxlKHMsKCk9PnMocikpfHxQdChjKSxlKG4sKCk9Pm4ocikpfHxvKGMsciksZShpLCgpPT5pKHIpKXx8anQoYyksdChyLGMpLGN9KShpcyx4ZSxhZSxjZSxoZSxwZSksS3M9KCh0LGUscyxuLGksbyxyKT0+Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQscil7Y29uc3QgYT1pKHQpLGM9ey4uLkp0LC4uLnJ9LGg9cyhhLGMpLHU9byhhKSxsPXU/bigpOm51bGwscD10LnNhbXBsZVJhdGUvMjtzdXBlcih0LCExLGgsbCksdGhpcy5fZGV0dW5lPWUodGhpcyx1LGguZGV0dW5lLDE1MzYwMCwtMTUzNjAwKSx0aGlzLl9mcmVxdWVuY3k9ZSh0aGlzLHUsaC5mcmVxdWVuY3kscCwtcCksdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGU9aCx0aGlzLl9vbmVuZGVkPW51bGwsdGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlcj1sLG51bGwhPT10aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyJiZ2b2lkIDAhPT1jLnBlcmlvZGljV2F2ZSYmKHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIucGVyaW9kaWNXYXZlPWMucGVyaW9kaWNXYXZlKX1nZXQgZGV0dW5lKCl7cmV0dXJuIHRoaXMuX2RldHVuZX1nZXQgZnJlcXVlbmN5KCl7cmV0dXJuIHRoaXMuX2ZyZXF1ZW5jeX1nZXQgb25lbmRlZCgpe3JldHVybiB0aGlzLl9vbmVuZGVkfXNldCBvbmVuZGVkKHQpe2NvbnN0IGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdD9yKHRoaXMsdCk6bnVsbDt0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5vbmVuZGVkPWU7Y29uc3Qgcz10aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5vbmVuZGVkO3RoaXMuX29uZW5kZWQ9bnVsbCE9PXMmJnM9PT1lP3Q6c31nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS50eXBlfXNldCB0eXBlKHQpe3RoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLnR5cGU9dCxudWxsIT09dGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlciYmKHRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXIucGVyaW9kaWNXYXZlPW51bGwpfXNldFBlcmlvZGljV2F2ZSh0KXt0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5zZXRQZXJpb2RpY1dhdmUodCksbnVsbCE9PXRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXImJih0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyLnBlcmlvZGljV2F2ZT10KX1zdGFydCh0PTApe2lmKHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLnN0YXJ0KHQpLG51bGwhPT10aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyJiYodGhpcy5fb3NjaWxsYXRvck5vZGVSZW5kZXJlci5zdGFydD10KSxcImNsb3NlZFwiIT09dGhpcy5jb250ZXh0LnN0YXRlKXtDKHRoaXMpO2NvbnN0IHQ9KCk9Pnt0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0KSxQKHRoaXMpJiZEKHRoaXMpfTt0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0KX19c3RvcCh0PTApe3RoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLnN0b3AodCksbnVsbCE9PXRoaXMuX29zY2lsbGF0b3JOb2RlUmVuZGVyZXImJih0aGlzLl9vc2NpbGxhdG9yTm9kZVJlbmRlcmVyLnN0b3A9dCl9fSkoWmUscHMsSnMsKCh0LGUscyxuLGkpPT4oKT0+e2NvbnN0IG89bmV3IFdlYWtNYXA7bGV0IHI9bnVsbCxhPW51bGwsYz1udWxsO3JldHVybntzZXQgcGVyaW9kaWNXYXZlKHQpe3I9dH0sc2V0IHN0YXJ0KHQpe2E9dH0sc2V0IHN0b3AodCl7Yz10fSxyZW5kZXIoaCx1LGwpe2NvbnN0IHA9by5nZXQodSk7cmV0dXJuIHZvaWQgMCE9PXA/UHJvbWlzZS5yZXNvbHZlKHApOihhc3luYyhoLHUsbCk9PntsZXQgcD1zKGgpO2NvbnN0IGQ9RShwLHUpO2lmKCFkKXtjb25zdCB0PXtjaGFubmVsQ291bnQ6cC5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTpwLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOnAuY2hhbm5lbEludGVycHJldGF0aW9uLGRldHVuZTpwLmRldHVuZS52YWx1ZSxmcmVxdWVuY3k6cC5mcmVxdWVuY3kudmFsdWUscGVyaW9kaWNXYXZlOm51bGw9PT1yP3ZvaWQgMDpyLHR5cGU6cC50eXBlfTtwPWUodSx0KSxudWxsIT09YSYmcC5zdGFydChhKSxudWxsIT09YyYmcC5zdG9wKGMpfXJldHVybiBvLnNldCh1LHApLGQ/KGF3YWl0IHQodSxoLmRldHVuZSxwLmRldHVuZSxsKSxhd2FpdCB0KHUsaC5mcmVxdWVuY3kscC5mcmVxdWVuY3ksbCkpOihhd2FpdCBuKHUsaC5kZXR1bmUscC5kZXR1bmUsbCksYXdhaXQgbih1LGguZnJlcXVlbmN5LHAuZnJlcXVlbmN5LGwpKSxhd2FpdCBpKGgsdSxwLGwpLHB9KShoLHUsbCl9fX0pKGFzLEpzLHN0LHVzLE9lKSxGZSxOZSxkZSksdG49KGVuPWNzLCh0LGUpPT57Y29uc3Qgcz1lbih0LHtidWZmZXI6bnVsbCxjaGFubmVsQ291bnQ6MixjaGFubmVsQ291bnRNb2RlOlwibWF4XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixsb29wOiExLGxvb3BFbmQ6MCxsb29wU3RhcnQ6MCxwbGF5YmFja1JhdGU6MX0pLG49dC5jcmVhdGVCdWZmZXIoMSwyLDQ0MTAwKTtyZXR1cm4gcy5idWZmZXI9bixzLmxvb3A9ITAscy5jb25uZWN0KGUpLHMuc3RhcnQoKSwoKT0+e3Muc3RvcCgpLHMuZGlzY29ubmVjdChlKX19KTt2YXIgZW47Y29uc3Qgc249KCh0LGUscyxuLGkpPT4obyx7Y3VydmU6cixvdmVyc2FtcGxlOmEsLi4uY30pPT57Y29uc3QgaD1vLmNyZWF0ZVdhdmVTaGFwZXIoKSx1PW8uY3JlYXRlV2F2ZVNoYXBlcigpO0l0KGgsYyksSXQodSxjKTtjb25zdCBsPXMobyx7Li4uYyxnYWluOjF9KSxwPXMobyx7Li4uYyxnYWluOi0xfSksZD1zKG8sey4uLmMsZ2FpbjoxfSksZj1zKG8sey4uLmMsZ2FpbjotMX0pO2xldCBfPW51bGwsbT0hMSxnPW51bGw7Y29uc3Qgdj17Z2V0IGJ1ZmZlclNpemUoKXt9LGdldCBjaGFubmVsQ291bnQoKXtyZXR1cm4gaC5jaGFubmVsQ291bnR9LHNldCBjaGFubmVsQ291bnQodCl7bC5jaGFubmVsQ291bnQ9dCxwLmNoYW5uZWxDb3VudD10LGguY2hhbm5lbENvdW50PXQsZC5jaGFubmVsQ291bnQ9dCx1LmNoYW5uZWxDb3VudD10LGYuY2hhbm5lbENvdW50PXR9LGdldCBjaGFubmVsQ291bnRNb2RlKCl7cmV0dXJuIGguY2hhbm5lbENvdW50TW9kZX0sc2V0IGNoYW5uZWxDb3VudE1vZGUodCl7bC5jaGFubmVsQ291bnRNb2RlPXQscC5jaGFubmVsQ291bnRNb2RlPXQsaC5jaGFubmVsQ291bnRNb2RlPXQsZC5jaGFubmVsQ291bnRNb2RlPXQsdS5jaGFubmVsQ291bnRNb2RlPXQsZi5jaGFubmVsQ291bnRNb2RlPXR9LGdldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oKXtyZXR1cm4gaC5jaGFubmVsSW50ZXJwcmV0YXRpb259LHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odCl7bC5jaGFubmVsSW50ZXJwcmV0YXRpb249dCxwLmNoYW5uZWxJbnRlcnByZXRhdGlvbj10LGguY2hhbm5lbEludGVycHJldGF0aW9uPXQsZC5jaGFubmVsSW50ZXJwcmV0YXRpb249dCx1LmNoYW5uZWxJbnRlcnByZXRhdGlvbj10LGYuY2hhbm5lbEludGVycHJldGF0aW9uPXR9LGdldCBjb250ZXh0KCl7cmV0dXJuIGguY29udGV4dH0sZ2V0IGN1cnZlKCl7cmV0dXJuIGd9LHNldCBjdXJ2ZShzKXtpZihudWxsIT09cyYmcy5sZW5ndGg8Mil0aHJvdyBlKCk7aWYobnVsbD09PXMpaC5jdXJ2ZT1zLHUuY3VydmU9cztlbHNle2NvbnN0IHQ9cy5sZW5ndGgsZT1uZXcgRmxvYXQzMkFycmF5KHQrMi10JTIpLG49bmV3IEZsb2F0MzJBcnJheSh0KzItdCUyKTtlWzBdPXNbMF0sblswXT0tc1t0LTFdO2NvbnN0IGk9TWF0aC5jZWlsKCh0KzEpLzIpLG89KHQrMSkvMi0xO2ZvcihsZXQgcj0xO3I8aTtyKz0xKXtjb25zdCBhPXIvaSpvLGM9TWF0aC5mbG9vcihhKSxoPU1hdGguY2VpbChhKTtlW3JdPWM9PT1oP3NbY106KDEtKGEtYykpKnNbY10rKDEtKGgtYSkpKnNbaF0sbltyXT1jPT09aD8tc1t0LTEtY106LSgxLShhLWMpKSpzW3QtMS1jXS0oMS0oaC1hKSkqc1t0LTEtaF19ZVtpXT10JTI9PTE/c1tpLTFdOihzW2ktMl0rc1tpLTFdKS8yLGguY3VydmU9ZSx1LmN1cnZlPW59Zz1zLG0mJihuKGcpJiZudWxsPT09Xz9fPXQobyxsKTpudWxsIT09XyYmKF8oKSxfPW51bGwpKX0sZ2V0IGlucHV0cygpe3JldHVybltsXX0sZ2V0IG51bWJlck9mSW5wdXRzKCl7cmV0dXJuIGgubnVtYmVyT2ZJbnB1dHN9LGdldCBudW1iZXJPZk91dHB1dHMoKXtyZXR1cm4gaC5udW1iZXJPZk91dHB1dHN9LGdldCBvdmVyc2FtcGxlKCl7cmV0dXJuIGgub3ZlcnNhbXBsZX0sc2V0IG92ZXJzYW1wbGUodCl7aC5vdmVyc2FtcGxlPXQsdS5vdmVyc2FtcGxlPXR9LGFkZEV2ZW50TGlzdGVuZXI6KC4uLnQpPT5sLmFkZEV2ZW50TGlzdGVuZXIodFswXSx0WzFdLHRbMl0pLGRpc3BhdGNoRXZlbnQ6KC4uLnQpPT5sLmRpc3BhdGNoRXZlbnQodFswXSkscmVtb3ZlRXZlbnRMaXN0ZW5lcjooLi4udCk9PmwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0WzBdLHRbMV0sdFsyXSl9O251bGwhPT1yJiYodi5jdXJ2ZT1yIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3I6bmV3IEZsb2F0MzJBcnJheShyKSksYSE9PXYub3ZlcnNhbXBsZSYmKHYub3ZlcnNhbXBsZT1hKTtyZXR1cm4gaShHdCh2LGQpLCgpPT57bC5jb25uZWN0KGgpLmNvbm5lY3QoZCksbC5jb25uZWN0KHApLmNvbm5lY3QodSkuY29ubmVjdChmKS5jb25uZWN0KGQpLG09ITAsbihnKSYmKF89dChvLGwpKX0sKCk9PntsLmRpc2Nvbm5lY3QoaCksaC5kaXNjb25uZWN0KGQpLGwuZGlzY29ubmVjdChwKSxwLmRpc2Nvbm5lY3QodSksdS5kaXNjb25uZWN0KGYpLGYuZGlzY29ubmVjdChkKSxtPSExLG51bGwhPT1fJiYoXygpLF89bnVsbCl9KX0pKHRuLEF0LFF0LGllLEFzKSxubj0oKHQsZSxzLG4saSxvLHIpPT4oYSxjKT0+e2NvbnN0IGg9YS5jcmVhdGVXYXZlU2hhcGVyKCk7aWYobnVsbCE9PW8mJlwid2Via2l0QXVkaW9Db250ZXh0XCI9PT1vLm5hbWUmJnZvaWQgMD09PWEuY3JlYXRlR2FpbigpLmdhaW4uYXV0b21hdGlvblJhdGUpcmV0dXJuIHMoYSxjKTtJdChoLGMpO2NvbnN0IHU9bnVsbD09PWMuY3VydmV8fGMuY3VydmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/Yy5jdXJ2ZTpuZXcgRmxvYXQzMkFycmF5KGMuY3VydmUpO2lmKG51bGwhPT11JiZ1Lmxlbmd0aDwyKXRocm93IGUoKTtGdChoLHtjdXJ2ZTp1fSxcImN1cnZlXCIpLEZ0KGgsYyxcIm92ZXJzYW1wbGVcIik7bGV0IGw9bnVsbCxwPSExO3IoaCxcImN1cnZlXCIsdD0+KCk9PnQuY2FsbChoKSxlPT5zPT4oZS5jYWxsKGgscykscCYmKG4ocykmJm51bGw9PT1sP2w9dChhLGgpOm4ocyl8fG51bGw9PT1sfHwobCgpLGw9bnVsbCkpLHMpKTtyZXR1cm4gaShoLCgpPT57cD0hMCxuKGguY3VydmUpJiYobD10KGEsaCkpfSwoKT0+e3A9ITEsbnVsbCE9PWwmJihsKCksbD1udWxsKX0pfSkodG4sQXQsc24saWUsQXMsQmUsb2UpLG9uPSgodCxlLHMsbixpLG8scixhLGMpPT4oaCx7Y29uZUlubmVyQW5nbGU6dSxjb25lT3V0ZXJBbmdsZTpsLGNvbmVPdXRlckdhaW46cCxkaXN0YW5jZU1vZGVsOmQsbWF4RGlzdGFuY2U6ZixvcmllbnRhdGlvblg6XyxvcmllbnRhdGlvblk6bSxvcmllbnRhdGlvblo6ZyxwYW5uaW5nTW9kZWw6dixwb3NpdGlvblg6eSxwb3NpdGlvblk6eCxwb3NpdGlvblo6dyxyZWZEaXN0YW5jZTpiLHJvbGxvZmZGYWN0b3I6VCwuLi5TfSk9Pntjb25zdCBrPWguY3JlYXRlUGFubmVyKCk7aWYoUy5jaGFubmVsQ291bnQ+Mil0aHJvdyByKCk7aWYoXCJtYXhcIj09PVMuY2hhbm5lbENvdW50TW9kZSl0aHJvdyByKCk7SXQoayxTKTtjb25zdCBDPXtjaGFubmVsQ291bnQ6MSxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwifSxBPXMoaCx7Li4uQyxjaGFubmVsSW50ZXJwcmV0YXRpb246XCJzcGVha2Vyc1wiLG51bWJlck9mSW5wdXRzOjZ9KSxEPW4oaCx7Li4uUyxnYWluOjF9KSxPPW4oaCx7Li4uQyxnYWluOjF9KSxNPW4oaCx7Li4uQyxnYWluOjB9KSxFPW4oaCx7Li4uQyxnYWluOjB9KSxSPW4oaCx7Li4uQyxnYWluOjB9KSxxPW4oaCx7Li4uQyxnYWluOjB9KSxGPW4oaCx7Li4uQyxnYWluOjB9KSxJPWkoaCwyNTYsNiwxKSxWPW8oaCx7Li4uQyxjdXJ2ZTpuZXcgRmxvYXQzMkFycmF5KFsxLDFdKSxvdmVyc2FtcGxlOlwibm9uZVwifSk7bGV0IE49W18sbSxnXSxQPVt5LHgsd107SS5vbmF1ZGlvcHJvY2Vzcz0oe2lucHV0QnVmZmVyOnR9KT0+e2NvbnN0IGU9W3QuZ2V0Q2hhbm5lbERhdGEoMClbMF0sdC5nZXRDaGFubmVsRGF0YSgxKVswXSx0LmdldENoYW5uZWxEYXRhKDIpWzBdXTtlLnNvbWUoKHQsZSk9PnQhPT1OW2VdKSYmKGsuc2V0T3JpZW50YXRpb24oLi4uZSksTj1lKTtjb25zdCBzPVt0LmdldENoYW5uZWxEYXRhKDMpWzBdLHQuZ2V0Q2hhbm5lbERhdGEoNClbMF0sdC5nZXRDaGFubmVsRGF0YSg1KVswXV07cy5zb21lKCh0LGUpPT50IT09UFtlXSkmJihrLnNldFBvc2l0aW9uKC4uLnMpLFA9cyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNLmdhaW4sXCJkZWZhdWx0VmFsdWVcIix7Z2V0OigpPT4wfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEUuZ2FpbixcImRlZmF1bHRWYWx1ZVwiLHtnZXQ6KCk9PjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUi5nYWluLFwiZGVmYXVsdFZhbHVlXCIse2dldDooKT0+MH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShxLmdhaW4sXCJkZWZhdWx0VmFsdWVcIix7Z2V0OigpPT4wfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEYuZ2FpbixcImRlZmF1bHRWYWx1ZVwiLHtnZXQ6KCk9PjB9KTtjb25zdCBqPXtnZXQgYnVmZmVyU2l6ZSgpe30sZ2V0IGNoYW5uZWxDb3VudCgpe3JldHVybiBrLmNoYW5uZWxDb3VudH0sc2V0IGNoYW5uZWxDb3VudCh0KXtpZih0PjIpdGhyb3cgcigpO0QuY2hhbm5lbENvdW50PXQsay5jaGFubmVsQ291bnQ9dH0sZ2V0IGNoYW5uZWxDb3VudE1vZGUoKXtyZXR1cm4gay5jaGFubmVsQ291bnRNb2RlfSxzZXQgY2hhbm5lbENvdW50TW9kZSh0KXtpZihcIm1heFwiPT09dCl0aHJvdyByKCk7RC5jaGFubmVsQ291bnRNb2RlPXQsay5jaGFubmVsQ291bnRNb2RlPXR9LGdldCBjaGFubmVsSW50ZXJwcmV0YXRpb24oKXtyZXR1cm4gay5jaGFubmVsSW50ZXJwcmV0YXRpb259LHNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odCl7RC5jaGFubmVsSW50ZXJwcmV0YXRpb249dCxrLmNoYW5uZWxJbnRlcnByZXRhdGlvbj10fSxnZXQgY29uZUlubmVyQW5nbGUoKXtyZXR1cm4gay5jb25lSW5uZXJBbmdsZX0sc2V0IGNvbmVJbm5lckFuZ2xlKHQpe2suY29uZUlubmVyQW5nbGU9dH0sZ2V0IGNvbmVPdXRlckFuZ2xlKCl7cmV0dXJuIGsuY29uZU91dGVyQW5nbGV9LHNldCBjb25lT3V0ZXJBbmdsZSh0KXtrLmNvbmVPdXRlckFuZ2xlPXR9LGdldCBjb25lT3V0ZXJHYWluKCl7cmV0dXJuIGsuY29uZU91dGVyR2Fpbn0sc2V0IGNvbmVPdXRlckdhaW4odCl7aWYodDwwfHx0PjEpdGhyb3cgZSgpO2suY29uZU91dGVyR2Fpbj10fSxnZXQgY29udGV4dCgpe3JldHVybiBrLmNvbnRleHR9LGdldCBkaXN0YW5jZU1vZGVsKCl7cmV0dXJuIGsuZGlzdGFuY2VNb2RlbH0sc2V0IGRpc3RhbmNlTW9kZWwodCl7ay5kaXN0YW5jZU1vZGVsPXR9LGdldCBpbnB1dHMoKXtyZXR1cm5bRF19LGdldCBtYXhEaXN0YW5jZSgpe3JldHVybiBrLm1heERpc3RhbmNlfSxzZXQgbWF4RGlzdGFuY2UodCl7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yO2subWF4RGlzdGFuY2U9dH0sZ2V0IG51bWJlck9mSW5wdXRzKCl7cmV0dXJuIGsubnVtYmVyT2ZJbnB1dHN9LGdldCBudW1iZXJPZk91dHB1dHMoKXtyZXR1cm4gay5udW1iZXJPZk91dHB1dHN9LGdldCBvcmllbnRhdGlvblgoKXtyZXR1cm4gTy5nYWlufSxnZXQgb3JpZW50YXRpb25ZKCl7cmV0dXJuIE0uZ2Fpbn0sZ2V0IG9yaWVudGF0aW9uWigpe3JldHVybiBFLmdhaW59LGdldCBwYW5uaW5nTW9kZWwoKXtyZXR1cm4gay5wYW5uaW5nTW9kZWx9LHNldCBwYW5uaW5nTW9kZWwodCl7ay5wYW5uaW5nTW9kZWw9dH0sZ2V0IHBvc2l0aW9uWCgpe3JldHVybiBSLmdhaW59LGdldCBwb3NpdGlvblkoKXtyZXR1cm4gcS5nYWlufSxnZXQgcG9zaXRpb25aKCl7cmV0dXJuIEYuZ2Fpbn0sZ2V0IHJlZkRpc3RhbmNlKCl7cmV0dXJuIGsucmVmRGlzdGFuY2V9LHNldCByZWZEaXN0YW5jZSh0KXtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3I7ay5yZWZEaXN0YW5jZT10fSxnZXQgcm9sbG9mZkZhY3Rvcigpe3JldHVybiBrLnJvbGxvZmZGYWN0b3J9LHNldCByb2xsb2ZmRmFjdG9yKHQpe2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtrLnJvbGxvZmZGYWN0b3I9dH0sYWRkRXZlbnRMaXN0ZW5lcjooLi4udCk9PkQuYWRkRXZlbnRMaXN0ZW5lcih0WzBdLHRbMV0sdFsyXSksZGlzcGF0Y2hFdmVudDooLi4udCk9PkQuZGlzcGF0Y2hFdmVudCh0WzBdKSxyZW1vdmVFdmVudExpc3RlbmVyOiguLi50KT0+RC5yZW1vdmVFdmVudExpc3RlbmVyKHRbMF0sdFsxXSx0WzJdKX07dSE9PWouY29uZUlubmVyQW5nbGUmJihqLmNvbmVJbm5lckFuZ2xlPXUpLGwhPT1qLmNvbmVPdXRlckFuZ2xlJiYoai5jb25lT3V0ZXJBbmdsZT1sKSxwIT09ai5jb25lT3V0ZXJHYWluJiYoai5jb25lT3V0ZXJHYWluPXApLGQhPT1qLmRpc3RhbmNlTW9kZWwmJihqLmRpc3RhbmNlTW9kZWw9ZCksZiE9PWoubWF4RGlzdGFuY2UmJihqLm1heERpc3RhbmNlPWYpLF8hPT1qLm9yaWVudGF0aW9uWC52YWx1ZSYmKGoub3JpZW50YXRpb25YLnZhbHVlPV8pLG0hPT1qLm9yaWVudGF0aW9uWS52YWx1ZSYmKGoub3JpZW50YXRpb25ZLnZhbHVlPW0pLGchPT1qLm9yaWVudGF0aW9uWi52YWx1ZSYmKGoub3JpZW50YXRpb25aLnZhbHVlPWcpLHYhPT1qLnBhbm5pbmdNb2RlbCYmKGoucGFubmluZ01vZGVsPXYpLHkhPT1qLnBvc2l0aW9uWC52YWx1ZSYmKGoucG9zaXRpb25YLnZhbHVlPXkpLHghPT1qLnBvc2l0aW9uWS52YWx1ZSYmKGoucG9zaXRpb25ZLnZhbHVlPXgpLHchPT1qLnBvc2l0aW9uWi52YWx1ZSYmKGoucG9zaXRpb25aLnZhbHVlPXcpLGIhPT1qLnJlZkRpc3RhbmNlJiYoai5yZWZEaXN0YW5jZT1iKSxUIT09ai5yb2xsb2ZmRmFjdG9yJiYoai5yb2xsb2ZmRmFjdG9yPVQpLDE9PT1OWzBdJiYwPT09TlsxXSYmMD09PU5bMl18fGsuc2V0T3JpZW50YXRpb24oLi4uTiksMD09PVBbMF0mJjA9PT1QWzFdJiYwPT09UFsyXXx8ay5zZXRQb3NpdGlvbiguLi5QKTtyZXR1cm4gYyhHdChqLGspLCgpPT57RC5jb25uZWN0KGspLHQoRCxWLDAsMCksVi5jb25uZWN0KE8pLmNvbm5lY3QoQSwwLDApLFYuY29ubmVjdChNKS5jb25uZWN0KEEsMCwxKSxWLmNvbm5lY3QoRSkuY29ubmVjdChBLDAsMiksVi5jb25uZWN0KFIpLmNvbm5lY3QoQSwwLDMpLFYuY29ubmVjdChxKS5jb25uZWN0KEEsMCw0KSxWLmNvbm5lY3QoRikuY29ubmVjdChBLDAsNSksQS5jb25uZWN0KEkpLmNvbm5lY3QoaC5kZXN0aW5hdGlvbil9LCgpPT57RC5kaXNjb25uZWN0KGspLGEoRCxWLDAsMCksVi5kaXNjb25uZWN0KE8pLE8uZGlzY29ubmVjdChBKSxWLmRpc2Nvbm5lY3QoTSksTS5kaXNjb25uZWN0KEEpLFYuZGlzY29ubmVjdChFKSxFLmRpc2Nvbm5lY3QoQSksVi5kaXNjb25uZWN0KFIpLFIuZGlzY29ubmVjdChBKSxWLmRpc2Nvbm5lY3QocSkscS5kaXNjb25uZWN0KEEpLFYuZGlzY29ubmVjdChGKSxGLmRpc2Nvbm5lY3QoQSksQS5kaXNjb25uZWN0KEkpLEkuZGlzY29ubmVjdChoLmRlc3RpbmF0aW9uKX0pfSkoJCxBdCxFcyxRdCxZdCxubixIdCxldCxBcykscm49KGFuPW9uLCh0LGUpPT57Y29uc3Qgcz10LmNyZWF0ZVBhbm5lcigpO3JldHVybiB2b2lkIDA9PT1zLm9yaWVudGF0aW9uWD9hbih0LGUpOihJdChzLGUpLE50KHMsZSxcIm9yaWVudGF0aW9uWFwiKSxOdChzLGUsXCJvcmllbnRhdGlvbllcIiksTnQocyxlLFwib3JpZW50YXRpb25aXCIpLE50KHMsZSxcInBvc2l0aW9uWFwiKSxOdChzLGUsXCJwb3NpdGlvbllcIiksTnQocyxlLFwicG9zaXRpb25aXCIpLEZ0KHMsZSxcImNvbmVJbm5lckFuZ2xlXCIpLEZ0KHMsZSxcImNvbmVPdXRlckFuZ2xlXCIpLEZ0KHMsZSxcImNvbmVPdXRlckdhaW5cIiksRnQocyxlLFwiZGlzdGFuY2VNb2RlbFwiKSxGdChzLGUsXCJtYXhEaXN0YW5jZVwiKSxGdChzLGUsXCJwYW5uaW5nTW9kZWxcIiksRnQocyxlLFwicmVmRGlzdGFuY2VcIiksRnQocyxlLFwicm9sbG9mZkZhY3RvclwiKSxzKX0pO3ZhciBhbjtjb25zdCBjbj0oKHQsZSxzLG4saSxvLHIpPT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IodCxhKXtjb25zdCBjPWkodCksaD17Li4uS3QsLi4uYX0sdT1zKGMsaCksbD1vKGMpO3N1cGVyKHQsITEsdSxsP24oKTpudWxsKSx0aGlzLl9uYXRpdmVQYW5uZXJOb2RlPXUsdGhpcy5fb3JpZW50YXRpb25YPWUodGhpcyxsLHUub3JpZW50YXRpb25YLE4sViksdGhpcy5fb3JpZW50YXRpb25ZPWUodGhpcyxsLHUub3JpZW50YXRpb25ZLE4sViksdGhpcy5fb3JpZW50YXRpb25aPWUodGhpcyxsLHUub3JpZW50YXRpb25aLE4sViksdGhpcy5fcG9zaXRpb25YPWUodGhpcyxsLHUucG9zaXRpb25YLE4sViksdGhpcy5fcG9zaXRpb25ZPWUodGhpcyxsLHUucG9zaXRpb25ZLE4sViksdGhpcy5fcG9zaXRpb25aPWUodGhpcyxsLHUucG9zaXRpb25aLE4sVikscih0aGlzLDEpfWdldCBjb25lSW5uZXJBbmdsZSgpe3JldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLmNvbmVJbm5lckFuZ2xlfXNldCBjb25lSW5uZXJBbmdsZSh0KXt0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLmNvbmVJbm5lckFuZ2xlPXR9Z2V0IGNvbmVPdXRlckFuZ2xlKCl7cmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUuY29uZU91dGVyQW5nbGV9c2V0IGNvbmVPdXRlckFuZ2xlKHQpe3RoaXMuX25hdGl2ZVBhbm5lck5vZGUuY29uZU91dGVyQW5nbGU9dH1nZXQgY29uZU91dGVyR2Fpbigpe3JldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLmNvbmVPdXRlckdhaW59c2V0IGNvbmVPdXRlckdhaW4odCl7dGhpcy5fbmF0aXZlUGFubmVyTm9kZS5jb25lT3V0ZXJHYWluPXR9Z2V0IGRpc3RhbmNlTW9kZWwoKXtyZXR1cm4gdGhpcy5fbmF0aXZlUGFubmVyTm9kZS5kaXN0YW5jZU1vZGVsfXNldCBkaXN0YW5jZU1vZGVsKHQpe3RoaXMuX25hdGl2ZVBhbm5lck5vZGUuZGlzdGFuY2VNb2RlbD10fWdldCBtYXhEaXN0YW5jZSgpe3JldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLm1heERpc3RhbmNlfXNldCBtYXhEaXN0YW5jZSh0KXt0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLm1heERpc3RhbmNlPXR9Z2V0IG9yaWVudGF0aW9uWCgpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvblh9Z2V0IG9yaWVudGF0aW9uWSgpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbll9Z2V0IG9yaWVudGF0aW9uWigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvblp9Z2V0IHBhbm5pbmdNb2RlbCgpe3JldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLnBhbm5pbmdNb2RlbH1zZXQgcGFubmluZ01vZGVsKHQpe3RoaXMuX25hdGl2ZVBhbm5lck5vZGUucGFubmluZ01vZGVsPXR9Z2V0IHBvc2l0aW9uWCgpe3JldHVybiB0aGlzLl9wb3NpdGlvblh9Z2V0IHBvc2l0aW9uWSgpe3JldHVybiB0aGlzLl9wb3NpdGlvbll9Z2V0IHBvc2l0aW9uWigpe3JldHVybiB0aGlzLl9wb3NpdGlvblp9Z2V0IHJlZkRpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX25hdGl2ZVBhbm5lck5vZGUucmVmRGlzdGFuY2V9c2V0IHJlZkRpc3RhbmNlKHQpe3RoaXMuX25hdGl2ZVBhbm5lck5vZGUucmVmRGlzdGFuY2U9dH1nZXQgcm9sbG9mZkZhY3Rvcigpe3JldHVybiB0aGlzLl9uYXRpdmVQYW5uZXJOb2RlLnJvbGxvZmZGYWN0b3J9c2V0IHJvbGxvZmZGYWN0b3IodCl7dGhpcy5fbmF0aXZlUGFubmVyTm9kZS5yb2xsb2ZmRmFjdG9yPXR9fSkoWmUscHMscm4sKCh0LGUscyxuLGksbyxyLGEsYyxoKT0+KCk9Pntjb25zdCB1PW5ldyBXZWFrTWFwO2xldCBsPW51bGw7cmV0dXJue3JlbmRlcihwLGQsZil7Y29uc3QgXz11LmdldChkKTtyZXR1cm4gdm9pZCAwIT09Xz9Qcm9taXNlLnJlc29sdmUoXyk6KGFzeW5jKHAsZCxmKT0+e2xldCBfPW51bGwsbT1vKHApO2NvbnN0IGc9e2NoYW5uZWxDb3VudDptLmNoYW5uZWxDb3VudCxjaGFubmVsQ291bnRNb2RlOm0uY2hhbm5lbENvdW50TW9kZSxjaGFubmVsSW50ZXJwcmV0YXRpb246bS5jaGFubmVsSW50ZXJwcmV0YXRpb259LHY9ey4uLmcsY29uZUlubmVyQW5nbGU6bS5jb25lSW5uZXJBbmdsZSxjb25lT3V0ZXJBbmdsZTptLmNvbmVPdXRlckFuZ2xlLGNvbmVPdXRlckdhaW46bS5jb25lT3V0ZXJHYWluLGRpc3RhbmNlTW9kZWw6bS5kaXN0YW5jZU1vZGVsLG1heERpc3RhbmNlOm0ubWF4RGlzdGFuY2UscGFubmluZ01vZGVsOm0ucGFubmluZ01vZGVsLHJlZkRpc3RhbmNlOm0ucmVmRGlzdGFuY2Uscm9sbG9mZkZhY3RvcjptLnJvbGxvZmZGYWN0b3J9LHk9RShtLGQpO2lmKFwiYnVmZmVyU2l6ZVwiaW4gbSlfPW4oZCx7Li4uZyxnYWluOjF9KTtlbHNlIGlmKCF5KXtjb25zdCB0PXsuLi52LG9yaWVudGF0aW9uWDptLm9yaWVudGF0aW9uWC52YWx1ZSxvcmllbnRhdGlvblk6bS5vcmllbnRhdGlvblkudmFsdWUsb3JpZW50YXRpb25aOm0ub3JpZW50YXRpb25aLnZhbHVlLHBvc2l0aW9uWDptLnBvc2l0aW9uWC52YWx1ZSxwb3NpdGlvblk6bS5wb3NpdGlvblkudmFsdWUscG9zaXRpb25aOm0ucG9zaXRpb25aLnZhbHVlfTttPWkoZCx0KX1pZih1LnNldChkLG51bGw9PT1fP206XyksbnVsbCE9PV8pe2lmKG51bGw9PT1sKXtpZihudWxsPT09cil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci5cIik7Y29uc3QgdD1uZXcgcig2LHAuY29udGV4dC5sZW5ndGgsZC5zYW1wbGVSYXRlKSxuPWUodCx7Y2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixudW1iZXJPZklucHV0czo2fSk7bi5jb25uZWN0KHQuZGVzdGluYXRpb24pLGw9KGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IFByb21pc2UuYWxsKFtwLm9yaWVudGF0aW9uWCxwLm9yaWVudGF0aW9uWSxwLm9yaWVudGF0aW9uWixwLnBvc2l0aW9uWCxwLnBvc2l0aW9uWSxwLnBvc2l0aW9uWl0ubWFwKGFzeW5jKGUsbik9Pntjb25zdCBpPXModCx7Y2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwiZGlzY3JldGVcIixvZmZzZXQ6MD09PW4/MTowfSk7cmV0dXJuIGF3YWl0IGEodCxlLGkub2Zmc2V0LGYpLGl9KSk7Zm9yKGxldCB0PTA7dDw2O3QrPTEpZVt0XS5jb25uZWN0KG4sMCx0KSxlW3RdLnN0YXJ0KDApO3JldHVybiBoKHQpfSkoKX1jb25zdCB0PWF3YWl0IGwsbz1uKGQsey4uLmcsZ2FpbjoxfSk7YXdhaXQgYyhwLGQsbyxmKTtjb25zdCB1PVtdO2ZvcihsZXQgZT0wO2U8dC5udW1iZXJPZkNoYW5uZWxzO2UrPTEpdS5wdXNoKHQuZ2V0Q2hhbm5lbERhdGEoZSkpO2xldCBtPVt1WzBdWzBdLHVbMV1bMF0sdVsyXVswXV0seT1bdVszXVswXSx1WzRdWzBdLHVbNV1bMF1dLHg9bihkLHsuLi5nLGdhaW46MX0pLHc9aShkLHsuLi52LG9yaWVudGF0aW9uWDptWzBdLG9yaWVudGF0aW9uWTptWzFdLG9yaWVudGF0aW9uWjptWzJdLHBvc2l0aW9uWDp5WzBdLHBvc2l0aW9uWTp5WzFdLHBvc2l0aW9uWjp5WzJdfSk7by5jb25uZWN0KHgpLmNvbm5lY3Qody5pbnB1dHNbMF0pLHcuY29ubmVjdChfKTtmb3IobGV0IGU9MTI4O2U8dC5sZW5ndGg7ZSs9MTI4KXtjb25zdCB0PVt1WzBdW2VdLHVbMV1bZV0sdVsyXVtlXV0scz1bdVszXVtlXSx1WzRdW2VdLHVbNV1bZV1dO2lmKHQuc29tZSgodCxlKT0+dCE9PW1bZV0pfHxzLnNvbWUoKHQsZSk9PnQhPT15W2VdKSl7bT10LHk9cztjb25zdCByPWUvZC5zYW1wbGVSYXRlO3guZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLHIpLHg9bihkLHsuLi5nLGdhaW46MH0pLHc9aShkLHsuLi52LG9yaWVudGF0aW9uWDptWzBdLG9yaWVudGF0aW9uWTptWzFdLG9yaWVudGF0aW9uWjptWzJdLHBvc2l0aW9uWDp5WzBdLHBvc2l0aW9uWTp5WzFdLHBvc2l0aW9uWjp5WzJdfSkseC5nYWluLnNldFZhbHVlQXRUaW1lKDEsciksby5jb25uZWN0KHgpLmNvbm5lY3Qody5pbnB1dHNbMF0pLHcuY29ubmVjdChfKX19cmV0dXJuIF99cmV0dXJuIHk/KGF3YWl0IHQoZCxwLm9yaWVudGF0aW9uWCxtLm9yaWVudGF0aW9uWCxmKSxhd2FpdCB0KGQscC5vcmllbnRhdGlvblksbS5vcmllbnRhdGlvblksZiksYXdhaXQgdChkLHAub3JpZW50YXRpb25aLG0ub3JpZW50YXRpb25aLGYpLGF3YWl0IHQoZCxwLnBvc2l0aW9uWCxtLnBvc2l0aW9uWCxmKSxhd2FpdCB0KGQscC5wb3NpdGlvblksbS5wb3NpdGlvblksZiksYXdhaXQgdChkLHAucG9zaXRpb25aLG0ucG9zaXRpb25aLGYpKTooYXdhaXQgYShkLHAub3JpZW50YXRpb25YLG0ub3JpZW50YXRpb25YLGYpLGF3YWl0IGEoZCxwLm9yaWVudGF0aW9uWSxtLm9yaWVudGF0aW9uWSxmKSxhd2FpdCBhKGQscC5vcmllbnRhdGlvblosbS5vcmllbnRhdGlvblosZiksYXdhaXQgYShkLHAucG9zaXRpb25YLG0ucG9zaXRpb25YLGYpLGF3YWl0IGEoZCxwLnBvc2l0aW9uWSxtLnBvc2l0aW9uWSxmKSxhd2FpdCBhKGQscC5wb3NpdGlvblosbS5wb3NpdGlvblosZikpLEgobSk/YXdhaXQgYyhwLGQsbS5pbnB1dHNbMF0sZik6YXdhaXQgYyhwLGQsbSxmKSxtfSkocCxkLGYpfX19KShhcyxFcyxJcyxRdCxybixzdCxWZSx1cyxPZSxVcyksRmUsTmUsZ3MpLGhuPSgodCxlLHMsbik9PmNsYXNzIGl7Y29uc3RydWN0b3IoaSxvKXtjb25zdCByPWUoaSksYT1uKHsuLi50ZSwuLi5vfSksYz10KHIsYSk7cmV0dXJuIHMuYWRkKGMpLGN9c3RhdGljW1N5bWJvbC5oYXNJbnN0YW5jZV0odCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT09aS5wcm90b3R5cGV8fHMuaGFzKHQpfX0pKCh0PT4oZSx7ZGlzYWJsZU5vcm1hbGl6YXRpb246cyxpbWFnOm4scmVhbDppfSk9Pntjb25zdCBvPW4gaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/bjpuZXcgRmxvYXQzMkFycmF5KG4pLHI9aSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT9pOm5ldyBGbG9hdDMyQXJyYXkoaSksYT1lLmNyZWF0ZVBlcmlvZGljV2F2ZShyLG8se2Rpc2FibGVOb3JtYWxpemF0aW9uOnN9KTtpZihBcnJheS5mcm9tKG4pLmxlbmd0aDwyKXRocm93IHQoKTtyZXR1cm4gYX0pKHEpLEZlLG5ldyBXZWFrU2V0LHQ9Pntjb25zdHtpbWFnOmUscmVhbDpzfT10O3JldHVybiB2b2lkIDA9PT1lP3ZvaWQgMD09PXM/ey4uLnQsaW1hZzpbMCwwXSxyZWFsOlswLDBdfTp7Li4udCxpbWFnOkFycmF5LmZyb20ocywoKT0+MCkscmVhbDpzfTp2b2lkIDA9PT1zP3suLi50LGltYWc6ZSxyZWFsOkFycmF5LmZyb20oZSwoKT0+MCl9OnsuLi50LGltYWc6ZSxyZWFsOnN9fSksdW49KCh0LGUpPT4ocyxuKT0+e2NvbnN0IGk9bi5jaGFubmVsQ291bnRNb2RlO2lmKFwiY2xhbXBlZC1tYXhcIj09PWkpdGhyb3cgZSgpO2lmKHZvaWQgMD09PXMuY3JlYXRlU3RlcmVvUGFubmVyKXJldHVybiB0KHMsbik7Y29uc3Qgbz1zLmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO3JldHVybiBJdChvLG4pLE50KG8sbixcInBhblwiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImNoYW5uZWxDb3VudE1vZGVcIix7Z2V0OigpPT5pLHNldDp0PT57aWYodCE9PWkpdGhyb3cgZSgpfX0pLG99KSgoKHQsZSxzLG4saSxvKT0+e2NvbnN0IHI9bmV3IEZsb2F0MzJBcnJheShbMSwxXSksYT1NYXRoLlBJLzIsYz17Y2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwiZGlzY3JldGVcIn0saD17Li4uYyxvdmVyc2FtcGxlOlwibm9uZVwifSx1PSh0LG8sdSxsLHApPT57aWYoMT09PW8pcmV0dXJuKCh0LGUsaSxvKT0+e2NvbnN0IHU9bmV3IEZsb2F0MzJBcnJheSgxNjM4NSksbD1uZXcgRmxvYXQzMkFycmF5KDE2Mzg1KTtmb3IobGV0IHQ9MDt0PDE2Mzg1O3QrPTEpe2NvbnN0IGU9dC8xNjM4NCphO3VbdF09TWF0aC5jb3MoZSksbFt0XT1NYXRoLnNpbihlKX1jb25zdCBwPXModCx7Li4uYyxnYWluOjB9KSxkPW4odCx7Li4uaCxjdXJ2ZTp1fSksZj1uKHQsey4uLmgsY3VydmU6cn0pLF89cyh0LHsuLi5jLGdhaW46MH0pLG09bih0LHsuLi5oLGN1cnZlOmx9KTtyZXR1cm57Y29ubmVjdEdyYXBoKCl7ZS5jb25uZWN0KHApLGUuY29ubmVjdCh2b2lkIDA9PT1mLmlucHV0cz9mOmYuaW5wdXRzWzBdKSxlLmNvbm5lY3QoXyksZi5jb25uZWN0KGkpLGkuY29ubmVjdCh2b2lkIDA9PT1kLmlucHV0cz9kOmQuaW5wdXRzWzBdKSxpLmNvbm5lY3Qodm9pZCAwPT09bS5pbnB1dHM/bTptLmlucHV0c1swXSksZC5jb25uZWN0KHAuZ2FpbiksbS5jb25uZWN0KF8uZ2FpbikscC5jb25uZWN0KG8sMCwwKSxfLmNvbm5lY3QobywwLDEpfSxkaXNjb25uZWN0R3JhcGgoKXtlLmRpc2Nvbm5lY3QocCksZS5kaXNjb25uZWN0KHZvaWQgMD09PWYuaW5wdXRzP2Y6Zi5pbnB1dHNbMF0pLGUuZGlzY29ubmVjdChfKSxmLmRpc2Nvbm5lY3QoaSksaS5kaXNjb25uZWN0KHZvaWQgMD09PWQuaW5wdXRzP2Q6ZC5pbnB1dHNbMF0pLGkuZGlzY29ubmVjdCh2b2lkIDA9PT1tLmlucHV0cz9tOm0uaW5wdXRzWzBdKSxkLmRpc2Nvbm5lY3QocC5nYWluKSxtLmRpc2Nvbm5lY3QoXy5nYWluKSxwLmRpc2Nvbm5lY3QobywwLDApLF8uZGlzY29ubmVjdChvLDAsMSl9fX0pKHQsdSxsLHApO2lmKDI9PT1vKXJldHVybigodCxpLG8sdSk9Pntjb25zdCBsPW5ldyBGbG9hdDMyQXJyYXkoMTYzODUpLHA9bmV3IEZsb2F0MzJBcnJheSgxNjM4NSksZD1uZXcgRmxvYXQzMkFycmF5KDE2Mzg1KSxmPW5ldyBGbG9hdDMyQXJyYXkoMTYzODUpLF89TWF0aC5mbG9vcig4MTkyLjUpO2ZvcihsZXQgdD0wO3Q8MTYzODU7dCs9MSlpZih0Pl8pe2NvbnN0IGU9KHQtXykvKDE2Mzg0LV8pKmE7bFt0XT1NYXRoLmNvcyhlKSxwW3RdPU1hdGguc2luKGUpLGRbdF09MCxmW3RdPTF9ZWxzZXtjb25zdCBlPXQvKDE2Mzg0LV8pKmE7bFt0XT0xLHBbdF09MCxkW3RdPU1hdGguY29zKGUpLGZbdF09TWF0aC5zaW4oZSl9Y29uc3QgbT1lKHQse2NoYW5uZWxDb3VudDoyLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcImRpc2NyZXRlXCIsbnVtYmVyT2ZPdXRwdXRzOjJ9KSxnPXModCx7Li4uYyxnYWluOjB9KSx2PW4odCx7Li4uaCxjdXJ2ZTpsfSkseT1zKHQsey4uLmMsZ2FpbjowfSkseD1uKHQsey4uLmgsY3VydmU6cH0pLHc9bih0LHsuLi5oLGN1cnZlOnJ9KSxiPXModCx7Li4uYyxnYWluOjB9KSxUPW4odCx7Li4uaCxjdXJ2ZTpkfSksUz1zKHQsey4uLmMsZ2FpbjowfSksaz1uKHQsey4uLmgsY3VydmU6Zn0pO3JldHVybntjb25uZWN0R3JhcGgoKXtpLmNvbm5lY3QobSksaS5jb25uZWN0KHZvaWQgMD09PXcuaW5wdXRzP3c6dy5pbnB1dHNbMF0pLG0uY29ubmVjdChnLDApLG0uY29ubmVjdCh5LDApLG0uY29ubmVjdChiLDEpLG0uY29ubmVjdChTLDEpLHcuY29ubmVjdChvKSxvLmNvbm5lY3Qodm9pZCAwPT09di5pbnB1dHM/djp2LmlucHV0c1swXSksby5jb25uZWN0KHZvaWQgMD09PXguaW5wdXRzP3g6eC5pbnB1dHNbMF0pLG8uY29ubmVjdCh2b2lkIDA9PT1ULmlucHV0cz9UOlQuaW5wdXRzWzBdKSxvLmNvbm5lY3Qodm9pZCAwPT09ay5pbnB1dHM/azprLmlucHV0c1swXSksdi5jb25uZWN0KGcuZ2FpbikseC5jb25uZWN0KHkuZ2FpbiksVC5jb25uZWN0KGIuZ2Fpbiksay5jb25uZWN0KFMuZ2FpbiksZy5jb25uZWN0KHUsMCwwKSxiLmNvbm5lY3QodSwwLDApLHkuY29ubmVjdCh1LDAsMSksUy5jb25uZWN0KHUsMCwxKX0sZGlzY29ubmVjdEdyYXBoKCl7aS5kaXNjb25uZWN0KG0pLGkuZGlzY29ubmVjdCh2b2lkIDA9PT13LmlucHV0cz93OncuaW5wdXRzWzBdKSxtLmRpc2Nvbm5lY3QoZywwKSxtLmRpc2Nvbm5lY3QoeSwwKSxtLmRpc2Nvbm5lY3QoYiwxKSxtLmRpc2Nvbm5lY3QoUywxKSx3LmRpc2Nvbm5lY3Qobyksby5kaXNjb25uZWN0KHZvaWQgMD09PXYuaW5wdXRzP3Y6di5pbnB1dHNbMF0pLG8uZGlzY29ubmVjdCh2b2lkIDA9PT14LmlucHV0cz94OnguaW5wdXRzWzBdKSxvLmRpc2Nvbm5lY3Qodm9pZCAwPT09VC5pbnB1dHM/VDpULmlucHV0c1swXSksby5kaXNjb25uZWN0KHZvaWQgMD09PWsuaW5wdXRzP2s6ay5pbnB1dHNbMF0pLHYuZGlzY29ubmVjdChnLmdhaW4pLHguZGlzY29ubmVjdCh5LmdhaW4pLFQuZGlzY29ubmVjdChiLmdhaW4pLGsuZGlzY29ubmVjdChTLmdhaW4pLGcuZGlzY29ubmVjdCh1LDAsMCksYi5kaXNjb25uZWN0KHUsMCwwKSx5LmRpc2Nvbm5lY3QodSwwLDEpLFMuZGlzY29ubmVjdCh1LDAsMSl9fX0pKHQsdSxsLHApO3Rocm93IGkoKX07cmV0dXJuKGUse2NoYW5uZWxDb3VudDpuLGNoYW5uZWxDb3VudE1vZGU6cixwYW46YSwuLi5jfSk9PntpZihcIm1heFwiPT09cil0aHJvdyBpKCk7Y29uc3QgaD10KGUsey4uLmMsY2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpyLG51bWJlck9mSW5wdXRzOjJ9KSxsPXMoZSx7Li4uYyxjaGFubmVsQ291bnQ6bixjaGFubmVsQ291bnRNb2RlOnIsZ2FpbjoxfSkscD1zKGUse2NoYW5uZWxDb3VudDoxLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcImRpc2NyZXRlXCIsZ2FpbjphfSk7bGV0e2Nvbm5lY3RHcmFwaDpkLGRpc2Nvbm5lY3RHcmFwaDpmfT11KGUsbixsLHAsaCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHAuZ2FpbixcImRlZmF1bHRWYWx1ZVwiLHtnZXQ6KCk9PjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocC5nYWluLFwibWF4VmFsdWVcIix7Z2V0OigpPT4xfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHAuZ2FpbixcIm1pblZhbHVlXCIse2dldDooKT0+LTF9KTtjb25zdCBfPXtnZXQgYnVmZmVyU2l6ZSgpe30sZ2V0IGNoYW5uZWxDb3VudCgpe3JldHVybiBsLmNoYW5uZWxDb3VudH0sc2V0IGNoYW5uZWxDb3VudCh0KXtsLmNoYW5uZWxDb3VudCE9PXQmJihtJiZmKCksKHtjb25uZWN0R3JhcGg6ZCxkaXNjb25uZWN0R3JhcGg6Zn09dShlLHQsbCxwLGgpKSxtJiZkKCkpLGwuY2hhbm5lbENvdW50PXR9LGdldCBjaGFubmVsQ291bnRNb2RlKCl7cmV0dXJuIGwuY2hhbm5lbENvdW50TW9kZX0sc2V0IGNoYW5uZWxDb3VudE1vZGUodCl7aWYoXCJjbGFtcGVkLW1heFwiPT09dHx8XCJtYXhcIj09PXQpdGhyb3cgaSgpO2wuY2hhbm5lbENvdW50TW9kZT10fSxnZXQgY2hhbm5lbEludGVycHJldGF0aW9uKCl7cmV0dXJuIGwuY2hhbm5lbEludGVycHJldGF0aW9ufSxzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKHQpe2wuY2hhbm5lbEludGVycHJldGF0aW9uPXR9LGdldCBjb250ZXh0KCl7cmV0dXJuIGwuY29udGV4dH0sZ2V0IGlucHV0cygpe3JldHVybltsXX0sZ2V0IG51bWJlck9mSW5wdXRzKCl7cmV0dXJuIGwubnVtYmVyT2ZJbnB1dHN9LGdldCBudW1iZXJPZk91dHB1dHMoKXtyZXR1cm4gbC5udW1iZXJPZk91dHB1dHN9LGdldCBwYW4oKXtyZXR1cm4gcC5nYWlufSxhZGRFdmVudExpc3RlbmVyOiguLi50KT0+bC5hZGRFdmVudExpc3RlbmVyKHRbMF0sdFsxXSx0WzJdKSxkaXNwYXRjaEV2ZW50OiguLi50KT0+bC5kaXNwYXRjaEV2ZW50KHRbMF0pLHJlbW92ZUV2ZW50TGlzdGVuZXI6KC4uLnQpPT5sLnJlbW92ZUV2ZW50TGlzdGVuZXIodFswXSx0WzFdLHRbMl0pfTtsZXQgbT0hMTtyZXR1cm4gbyhHdChfLGgpLCgpPT57ZCgpLG09ITB9LCgpPT57ZigpLG09ITF9KX19KShFcyxXdCxRdCxubixIdCxBcyksSHQpLGxuPSgodCxlLHMsbixpLG8pPT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IodCxyKXtjb25zdCBhPWkodCksYz17Li4uZWUsLi4ucn0saD1zKGEsYyksdT1vKGEpO3N1cGVyKHQsITEsaCx1P24oKTpudWxsKSx0aGlzLl9wYW49ZSh0aGlzLHUsaC5wYW4pfWdldCBwYW4oKXtyZXR1cm4gdGhpcy5fcGFufX0pKFplLHBzLHVuLCgodCxlLHMsbixpKT0+KCk9Pntjb25zdCBvPW5ldyBXZWFrTWFwO3JldHVybntyZW5kZXIocixhLGMpe2NvbnN0IGg9by5nZXQoYSk7cmV0dXJuIHZvaWQgMCE9PWg/UHJvbWlzZS5yZXNvbHZlKGgpOihhc3luYyhyLGEsYyk9PntsZXQgaD1zKHIpO2NvbnN0IHU9RShoLGEpO2lmKCF1KXtjb25zdCB0PXtjaGFubmVsQ291bnQ6aC5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTpoLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmguY2hhbm5lbEludGVycHJldGF0aW9uLHBhbjpoLnBhbi52YWx1ZX07aD1lKGEsdCl9cmV0dXJuIG8uc2V0KGEsaCksdT9hd2FpdCB0KGEsci5wYW4saC5wYW4sYyk6YXdhaXQgbihhLHIucGFuLGgucGFuLGMpLEgoaCk/YXdhaXQgaShyLGEsaC5pbnB1dHNbMF0sYyk6YXdhaXQgaShyLGEsaCxjKSxofSkocixhLGMpfX19KShhcyx1bixzdCx1cyxPZSksRmUsTmUpLHBuPSgodCxlLHMpPT4oKT0+e2NvbnN0IG49bmV3IFdlYWtNYXA7cmV0dXJue3JlbmRlcihpLG8scil7Y29uc3QgYT1uLmdldChvKTtyZXR1cm4gdm9pZCAwIT09YT9Qcm9taXNlLnJlc29sdmUoYSk6KGFzeW5jKGksbyxyKT0+e2xldCBhPWUoaSk7aWYoIUUoYSxvKSl7Y29uc3QgZT17Y2hhbm5lbENvdW50OmEuY2hhbm5lbENvdW50LGNoYW5uZWxDb3VudE1vZGU6YS5jaGFubmVsQ291bnRNb2RlLGNoYW5uZWxJbnRlcnByZXRhdGlvbjphLmNoYW5uZWxJbnRlcnByZXRhdGlvbixjdXJ2ZTphLmN1cnZlLG92ZXJzYW1wbGU6YS5vdmVyc2FtcGxlfTthPXQobyxlKX1yZXR1cm4gbi5zZXQobyxhKSxIKGEpP2F3YWl0IHMoaSxvLGEuaW5wdXRzWzBdLHIpOmF3YWl0IHMoaSxvLGEsciksYX0pKGksbyxyKX19fSkobm4sc3QsT2UpLGRuPSgodCxlLHMsbixpLG8scik9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LGUpe2NvbnN0IGE9aSh0KSxjPXsuLi5uZSwuLi5lfSxoPXMoYSxjKTtzdXBlcih0LCEwLGgsbyhhKT9uKCk6bnVsbCksdGhpcy5faXNDdXJ2ZU51bGxpZmllZD0hMSx0aGlzLl9uYXRpdmVXYXZlU2hhcGVyTm9kZT1oLHIodGhpcywxKX1nZXQgY3VydmUoKXtyZXR1cm4gdGhpcy5faXNDdXJ2ZU51bGxpZmllZD9udWxsOnRoaXMuX25hdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlfXNldCBjdXJ2ZSh0KXtpZihudWxsPT09dCl0aGlzLl9pc0N1cnZlTnVsbGlmaWVkPSEwLHRoaXMuX25hdGl2ZVdhdmVTaGFwZXJOb2RlLmN1cnZlPW5ldyBGbG9hdDMyQXJyYXkoWzAsMF0pO2Vsc2V7aWYodC5sZW5ndGg8Mil0aHJvdyBlKCk7dGhpcy5faXNDdXJ2ZU51bGxpZmllZD0hMSx0aGlzLl9uYXRpdmVXYXZlU2hhcGVyTm9kZS5jdXJ2ZT10fX1nZXQgb3ZlcnNhbXBsZSgpe3JldHVybiB0aGlzLl9uYXRpdmVXYXZlU2hhcGVyTm9kZS5vdmVyc2FtcGxlfXNldCBvdmVyc2FtcGxlKHQpe3RoaXMuX25hdGl2ZVdhdmVTaGFwZXJOb2RlLm92ZXJzYW1wbGU9dH19KShaZSxBdCxubixwbixGZSxOZSxncyksZm49KHQ9Pm51bGwhPT10JiZ0LmlzU2VjdXJlQ29udGV4dCkoVGUpLF9uPSh0PT4oZSxzLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCx7Y3VycmVudEZyYW1lOntjb25maWd1cmFibGU6ITAsZ2V0OigpPT5NYXRoLnJvdW5kKGUqcyl9LGN1cnJlbnRUaW1lOntjb25maWd1cmFibGU6ITAsZ2V0OigpPT5lfX0pO3RyeXtyZXR1cm4gbigpfWZpbmFsbHl7bnVsbCE9PXQmJihkZWxldGUgdC5jdXJyZW50RnJhbWUsZGVsZXRlIHQuY3VycmVudFRpbWUpfX0pKFRlKSxtbj1uZXcgV2Vha01hcCxnbj0oKHQsZSk9PnM9PntsZXQgbj10LmdldChzKTtpZih2b2lkIDAhPT1uKXJldHVybiBuO2lmKG51bGw9PT1lKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgdGhlIG5hdGl2ZSBPZmZsaW5lQXVkaW9Db250ZXh0IGNvbnN0cnVjdG9yLlwiKTtyZXR1cm4gbj1uZXcgZSgxLDEsOGUzKSx0LnNldChzLG4pLG59KShtbixWZSksdm49KHQ9Pm51bGw9PT10P251bGw6dC5oYXNPd25Qcm9wZXJ0eShcIkF1ZGlvV29ya2xldE5vZGVcIik/dC5BdWRpb1dvcmtsZXROb2RlOm51bGwpKFRlKSx5bj1mbj8oKHQsZSxzLG4saSxvLHIsYSxjLGgsdSxsKT0+KHAsZCxmPXtjcmVkZW50aWFsczpcIm9taXRcIn0pPT57Y29uc3QgbT1vKHApO2lmKHZvaWQgMCE9PW0uYXVkaW9Xb3JrbGV0KXJldHVybiBQcm9taXNlLmFsbChbaShkKSxQcm9taXNlLnJlc29sdmUodCh1LHUpKV0pLnRoZW4oKFtbdCxlXSxzXSk9Pntjb25zdFtuLGldPXkodCxlKSxvPXM/aTppLnJlcGxhY2UoL1xccytleHRlbmRzXFxzK0F1ZGlvV29ya2xldFByb2Nlc3Nvclxccyp7LyxcIiBleHRlbmRzIChjbGFzcyBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7X19iPW5ldyBXZWFrU2V0KCk7Y29uc3RydWN0b3IoKXtzdXBlcigpOyhwPT5wLnBvc3RNZXNzYWdlPShxPT4obSx0KT0+cS5jYWxsKHAsbSx0P3QuZmlsdGVyKHU9PiF0aGlzLl9fYi5oYXModSkpOnQpKShwLnBvc3RNZXNzYWdlKSkodGhpcy5wb3J0KX19KXtcIiksYz1uZXcgQmxvYihbYCR7bn07KHJlZ2lzdGVyUHJvY2Vzc29yPT57JHtvfVxcbn0pKChuLHApPT5yZWdpc3RlclByb2Nlc3NvcihuLGNsYXNzIGV4dGVuZHMgcHske3M/XCJcIjpcIl9fYyA9IChhKSA9PiBhLmZvckVhY2goZT0+dGhpcy5fX2IuYWRkKGUuYnVmZmVyKSk7XCJ9cHJvY2VzcyhpLG8scCl7JHtzP1wiXCI6XCJpLmZvckVhY2godGhpcy5fX2MpO28uZm9yRWFjaCh0aGlzLl9fYyk7dGhpcy5fX2MoT2JqZWN0LnZhbHVlcyhwKSk7XCJ9cmV0dXJuIHN1cGVyLnByb2Nlc3MoaS5tYXAoaj0+ai5zb21lKGs9PmsubGVuZ3RoPT09MCk/W106aiksbyxwKX19KSlgXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLThcIn0pLGg9VVJMLmNyZWF0ZU9iamVjdFVSTChjKTtyZXR1cm4gbS5hdWRpb1dvcmtsZXQuYWRkTW9kdWxlKGgsZikudGhlbigoKT0+e2lmKGEobSkpcmV0dXJuO3JldHVybiByKG0pLmF1ZGlvV29ya2xldC5hZGRNb2R1bGUoaCxmKX0pLmZpbmFsbHkoKCk9PlVSTC5yZXZva2VPYmplY3RVUkwoaCkpfSk7Y29uc3QgZz1oLmdldChwKTtpZih2b2lkIDAhPT1nJiZnLmhhcyhkKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7Y29uc3Qgdj1jLmdldChwKTtpZih2b2lkIDAhPT12KXtjb25zdCB0PXYuZ2V0KGQpO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHR9Y29uc3QgYj1pKGQpLnRoZW4oKFt0LGVdKT0+e2NvbnN0W24saV09eSh0LGUpO3JldHVybiBzKGAke259OygoYSxiKT0+eyhhW2JdPWFbYl18fFtdKS5wdXNoKChBdWRpb1dvcmtsZXRQcm9jZXNzb3IsZ2xvYmFsLHJlZ2lzdGVyUHJvY2Vzc29yLHNhbXBsZVJhdGUsc2VsZix3aW5kb3cpPT57JHtpfVxcbn0pfSkod2luZG93LCdfQVdHUycpYCl9KS50aGVuKCgpPT57Y29uc3QgdD1sLl9BV0dTLnBvcCgpO2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFN5bnRheEVycm9yO24obS5jdXJyZW50VGltZSxtLnNhbXBsZVJhdGUsKCk9PnQoY2xhc3N7fSx2b2lkIDAsKHQscyk9PntpZihcIlwiPT09dC50cmltKCkpdGhyb3cgZSgpO2NvbnN0IG49Xy5nZXQobSk7aWYodm9pZCAwIT09bil7aWYobi5oYXModCkpdGhyb3cgZSgpO3cocykseChzLnBhcmFtZXRlckRlc2NyaXB0b3JzKSxuLnNldCh0LHMpfWVsc2UgdyhzKSx4KHMucGFyYW1ldGVyRGVzY3JpcHRvcnMpLF8uc2V0KG0sbmV3IE1hcChbW3Qsc11dKSl9LG0uc2FtcGxlUmF0ZSx2b2lkIDAsdm9pZCAwKSl9KTtyZXR1cm4gdm9pZCAwPT09dj9jLnNldChwLG5ldyBNYXAoW1tkLGJdXSkpOnYuc2V0KGQsYiksYi50aGVuKCgpPT57Y29uc3QgdD1oLmdldChwKTt2b2lkIDA9PT10P2guc2V0KHAsbmV3IFNldChbZF0pKTp0LmFkZChkKX0pLmZpbmFsbHkoKCk9Pntjb25zdCB0PWMuZ2V0KHApO3ZvaWQgMCE9PXQmJnQuZGVsZXRlKGQpfSksYn0pKHhlLEh0LCh0PT5lPT5uZXcgUHJvbWlzZSgocyxuKT0+e2lmKG51bGw9PT10KXJldHVybiB2b2lkIG4obmV3IFN5bnRheEVycm9yKTtjb25zdCBpPXQuZG9jdW1lbnQuaGVhZDtpZihudWxsPT09aSluKG5ldyBTeW50YXhFcnJvcik7ZWxzZXtjb25zdCBvPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxyPW5ldyBCbG9iKFtlXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIn0pLGE9VVJMLmNyZWF0ZU9iamVjdFVSTChyKSxjPXQub25lcnJvcixoPSgpPT57dC5vbmVycm9yPWMsVVJMLnJldm9rZU9iamVjdFVSTChhKX07dC5vbmVycm9yPShlLHMsaSxvLHIpPT5zPT09YXx8cz09PXQubG9jYXRpb24uaHJlZiYmMT09PWkmJjE9PT1vPyhoKCksbihyKSwhMSk6bnVsbCE9PWM/YyhlLHMsaSxvLHIpOnZvaWQgMCxvLm9uZXJyb3I9KCk9PntoKCksbihuZXcgU3ludGF4RXJyb3IpfSxvLm9ubG9hZD0oKT0+e2goKSxzKCl9LG8uc3JjPWEsby50eXBlPVwibW9kdWxlXCIsaS5hcHBlbmRDaGlsZChvKX19KSkoVGUpLF9uLCh0PT5hc3luYyBlPT57dHJ5e2NvbnN0IHQ9YXdhaXQgZmV0Y2goZSk7aWYodC5vaylyZXR1cm5bYXdhaXQgdC50ZXh0KCksdC51cmxdfWNhdGNoe310aHJvdyB0KCl9KSgoKT0+bmV3IERPTUV4Y2VwdGlvbihcIlwiLFwiQWJvcnRFcnJvclwiKSksRmUsZ24sTmUsbmV3IFdlYWtNYXAsbmV3IFdlYWtNYXAsKCh0LGUpPT5hc3luYygpPT57aWYobnVsbD09PXQpcmV0dXJuITA7aWYobnVsbD09PWUpcmV0dXJuITE7Y29uc3Qgcz1uZXcgQmxvYihbJ2NsYXNzIEEgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7cHJvY2VzcyhpKXt0aGlzLnBvcnQucG9zdE1lc3NhZ2UoaSxbaVswXVswXS5idWZmZXJdKX19cmVnaXN0ZXJQcm9jZXNzb3IoXCJhXCIsQSknXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLThcIn0pLG49bmV3IGUoMSwxMjgsOGUzKSxpPVVSTC5jcmVhdGVPYmplY3RVUkwocyk7bGV0IG89ITEscj0hMTt0cnl7YXdhaXQgbi5hdWRpb1dvcmtsZXQuYWRkTW9kdWxlKGkpO2NvbnN0IGU9bmV3IHQobixcImFcIix7bnVtYmVyT2ZPdXRwdXRzOjB9KSxzPW4uY3JlYXRlT3NjaWxsYXRvcigpO2UucG9ydC5vbm1lc3NhZ2U9KCk9Pm89ITAsZS5vbnByb2Nlc3NvcmVycm9yPSgpPT5yPSEwLHMuY29ubmVjdChlKSxhd2FpdCBuLnN0YXJ0UmVuZGVyaW5nKCl9Y2F0Y2h7fWZpbmFsbHl7VVJMLnJldm9rZU9iamVjdFVSTChpKX1yZXR1cm4gbyYmIXJ9KSh2bixWZSksVGUpOnZvaWQgMCx4bj0oKHQsZSk9PnM9PnQocyl8fGUocykpKFdlLE5lKSx3bj0oKHQsZSxzLG4saSxvLHIsYSxjLGgsdSxsLHAsZCxmLF8sbSxnLHYseSk9PmNsYXNzIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHMpe3N1cGVyKGUscyksdGhpcy5fbmF0aXZlQ29udGV4dD1lLHRoaXMuX2F1ZGlvV29ya2xldD12b2lkIDA9PT10P3ZvaWQgMDp7YWRkTW9kdWxlOihlLHMpPT50KHRoaXMsZSxzKX19Z2V0IGF1ZGlvV29ya2xldCgpe3JldHVybiB0aGlzLl9hdWRpb1dvcmtsZXR9Y3JlYXRlQW5hbHlzZXIoKXtyZXR1cm4gbmV3IGUodGhpcyl9Y3JlYXRlQmlxdWFkRmlsdGVyKCl7cmV0dXJuIG5ldyBpKHRoaXMpfWNyZWF0ZUJ1ZmZlcih0LGUsbil7cmV0dXJuIG5ldyBzKHtsZW5ndGg6ZSxudW1iZXJPZkNoYW5uZWxzOnQsc2FtcGxlUmF0ZTpufSl9Y3JlYXRlQnVmZmVyU291cmNlKCl7cmV0dXJuIG5ldyBuKHRoaXMpfWNyZWF0ZUNoYW5uZWxNZXJnZXIodD02KXtyZXR1cm4gbmV3IG8odGhpcyx7bnVtYmVyT2ZJbnB1dHM6dH0pfWNyZWF0ZUNoYW5uZWxTcGxpdHRlcih0PTYpe3JldHVybiBuZXcgcih0aGlzLHtudW1iZXJPZk91dHB1dHM6dH0pfWNyZWF0ZUNvbnN0YW50U291cmNlKCl7cmV0dXJuIG5ldyBhKHRoaXMpfWNyZWF0ZUNvbnZvbHZlcigpe3JldHVybiBuZXcgYyh0aGlzKX1jcmVhdGVEZWxheSh0PTEpe3JldHVybiBuZXcgdSh0aGlzLHttYXhEZWxheVRpbWU6dH0pfWNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvcigpe3JldHVybiBuZXcgbCh0aGlzKX1jcmVhdGVHYWluKCl7cmV0dXJuIG5ldyBwKHRoaXMpfWNyZWF0ZUlJUkZpbHRlcih0LGUpe3JldHVybiBuZXcgZCh0aGlzLHtmZWVkYmFjazplLGZlZWRmb3J3YXJkOnR9KX1jcmVhdGVPc2NpbGxhdG9yKCl7cmV0dXJuIG5ldyBfKHRoaXMpfWNyZWF0ZVBhbm5lcigpe3JldHVybiBuZXcgbSh0aGlzKX1jcmVhdGVQZXJpb2RpY1dhdmUodCxlLHM9e2Rpc2FibGVOb3JtYWxpemF0aW9uOiExfSl7cmV0dXJuIG5ldyBnKHRoaXMsey4uLnMsaW1hZzplLHJlYWw6dH0pfWNyZWF0ZVN0ZXJlb1Bhbm5lcigpe3JldHVybiBuZXcgdih0aGlzKX1jcmVhdGVXYXZlU2hhcGVyKCl7cmV0dXJuIG5ldyB5KHRoaXMpfWRlY29kZUF1ZGlvRGF0YSh0LGUscyl7cmV0dXJuIGgodGhpcy5fbmF0aXZlQ29udGV4dCx0KS50aGVuKHQ9PihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKHQpLHQpKS5jYXRjaCh0PT57dGhyb3dcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiZzKHQpLHR9KX19KSh5bixZZSxzcyxmcyx2cyxScyxxcyxWcyxQcywoKHQsZSxzLG4saSxvLHIsYSxjLGgsdSk9PihsLHApPT57Y29uc3QgZD1yKGwpP2w6byhsKTtpZihpLmhhcyhwKSl7Y29uc3QgdD1zKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KHQpfXRyeXtpLmFkZChwKX1jYXRjaHt9cmV0dXJuIGUoYywoKT0+YyhkKSk/ZC5kZWNvZGVBdWRpb0RhdGEocCkudGhlbihzPT4oZShhLCgpPT5hKHMpKXx8dShzKSx0LmFkZChzKSxzKSk6bmV3IFByb21pc2UoKGUscyk9Pntjb25zdCBpPSgpPT57dHJ5eyh0PT57Y29uc3R7cG9ydDE6ZX09bmV3IE1lc3NhZ2VDaGFubmVsO2UucG9zdE1lc3NhZ2UodCxbdF0pfSkocCl9Y2F0Y2h7fX0sbz10PT57cyh0KSxpKCl9O3RyeXtkLmRlY29kZUF1ZGlvRGF0YShwLHM9PntcImZ1bmN0aW9uXCIhPXR5cGVvZiBzLmNvcHlGcm9tQ2hhbm5lbCYmKGgocyksRihzKSksdC5hZGQocyksaSgpLGUocyl9LHQ9PntvKG51bGw9PT10P24oKTp0KX0pfWNhdGNoKHQpe28odCl9fSl9KShIZSx4ZSwoKT0+bmV3IERPTUV4Y2VwdGlvbihcIlwiLFwiRGF0YUNsb25lRXJyb3JcIiksKCk9Pm5ldyBET01FeGNlcHRpb24oXCJcIixcIkVuY29kaW5nRXJyb3JcIiksbmV3IFdlYWtTZXQsRmUseG4sUixSdCx0cyxlcyksanMsQnMsV3MsWHMsJHMsS3MsY24saG4sbG4sZG4pLGJuPSgodCxlLHMsbik9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LGkpe2NvbnN0IG89cyh0KSxyPWUobyxpKTtpZihuKG8pKXRocm93IFR5cGVFcnJvcigpO3N1cGVyKHQsITAscixudWxsKSx0aGlzLl9uYXRpdmVNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGU9cn1nZXQgbWVkaWFFbGVtZW50KCl7cmV0dXJuIHRoaXMuX25hdGl2ZU1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZS5tZWRpYUVsZW1lbnR9fSkoWmUsKHQsZSk9PnQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGUubWVkaWFFbGVtZW50KSxGZSxOZSksVG49KCh0LGUscyxuKT0+Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQsaSl7Y29uc3Qgbz1zKHQpO2lmKG4obykpdGhyb3cgbmV3IFR5cGVFcnJvcjtjb25zdCByPXsuLi5FdCwuLi5pfSxhPWUobyxyKTtzdXBlcih0LCExLGEsbnVsbCksdGhpcy5fbmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZT1hfWdldCBzdHJlYW0oKXtyZXR1cm4gdGhpcy5fbmF0aXZlTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZS5zdHJlYW19fSkoWmUsKHQsZSk9Pntjb25zdCBzPXQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO3JldHVybiBJdChzLGUpLDE9PT1zLm51bWJlck9mT3V0cHV0cyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJudW1iZXJPZk91dHB1dHNcIix7Z2V0OigpPT4wfSksc30sRmUsTmUpLFNuPSgodCxlLHMsbik9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LGkpe2NvbnN0IG89cyh0KSxyPWUobyxpKTtpZihuKG8pKXRocm93IG5ldyBUeXBlRXJyb3I7c3VwZXIodCwhMCxyLG51bGwpLHRoaXMuX25hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlPXJ9Z2V0IG1lZGlhU3RyZWFtKCl7cmV0dXJuIHRoaXMuX25hdGl2ZU1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLm1lZGlhU3RyZWFtfX0pKFplLCh0LHttZWRpYVN0cmVhbTplfSk9Pntjb25zdCBzPWUuZ2V0QXVkaW9UcmFja3MoKTtzLnNvcnQoKHQsZSk9PnQuaWQ8ZS5pZD8tMTp0LmlkPmUuaWQ/MTowKTtjb25zdCBuPXMuc2xpY2UoMCwxKSxpPXQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobmV3IE1lZGlhU3RyZWFtKG4pKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJtZWRpYVN0cmVhbVwiLHt2YWx1ZTplfSksaX0sRmUsTmUpLGtuPSgodCxlLHMpPT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IodCxuKXtjb25zdCBpPXModCk7c3VwZXIodCwhMCxlKGksbiksbnVsbCl9fSkoWmUsKCh0LGUpPT4ocyx7bWVkaWFTdHJlYW1UcmFjazpufSk9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tTb3VyY2UpcmV0dXJuIHMuY3JlYXRlTWVkaWFTdHJlYW1UcmFja1NvdXJjZShuKTtjb25zdCBpPW5ldyBNZWRpYVN0cmVhbShbbl0pLG89cy5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShpKTtpZihcImF1ZGlvXCIhPT1uLmtpbmQpdGhyb3cgdCgpO2lmKGUocykpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gb30pKEF0LE5lKSxGZSksQ249KCh0LGUscyxuLGksbyxyLGEsYyk9PmNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0PXt9KXtpZihudWxsPT09Yyl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSBuYXRpdmUgQXVkaW9Db250ZXh0IGNvbnN0cnVjdG9yLlwiKTtjb25zdCBlPW5ldyBjKHQpO2lmKG51bGw9PT1lKXRocm93IG4oKTtpZighRyh0LmxhdGVuY3lIaW50KSl0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgcHJvdmlkZWQgdmFsdWUgJyR7dC5sYXRlbmN5SGludH0nIGlzIG5vdCBhIHZhbGlkIGVudW0gdmFsdWUgb2YgdHlwZSBBdWRpb0NvbnRleHRMYXRlbmN5Q2F0ZWdvcnkuYCk7aWYodm9pZCAwIT09dC5zYW1wbGVSYXRlJiZlLnNhbXBsZVJhdGUhPT10LnNhbXBsZVJhdGUpdGhyb3cgcygpO3N1cGVyKGUsMik7Y29uc3R7bGF0ZW5jeUhpbnQ6aX09dCx7c2FtcGxlUmF0ZTpvfT1lO2lmKHRoaXMuX2Jhc2VMYXRlbmN5PVwibnVtYmVyXCI9PXR5cGVvZiBlLmJhc2VMYXRlbmN5P2UuYmFzZUxhdGVuY3k6XCJiYWxhbmNlZFwiPT09aT81MTIvbzpcImludGVyYWN0aXZlXCI9PT1pfHx2b2lkIDA9PT1pPzI1Ni9vOlwicGxheWJhY2tcIj09PWk/MTAyNC9vOjEyOCpNYXRoLm1heCgyLE1hdGgubWluKDEyOCxNYXRoLnJvdW5kKGkqby8xMjgpKSkvbyx0aGlzLl9uYXRpdmVBdWRpb0NvbnRleHQ9ZSxcIndlYmtpdEF1ZGlvQ29udGV4dFwiPT09Yy5uYW1lPyh0aGlzLl9uYXRpdmVHYWluTm9kZT1lLmNyZWF0ZUdhaW4oKSx0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZT1lLmNyZWF0ZU9zY2lsbGF0b3IoKSx0aGlzLl9uYXRpdmVHYWluTm9kZS5nYWluLnZhbHVlPTFlLTM3LHRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlLmNvbm5lY3QodGhpcy5fbmF0aXZlR2Fpbk5vZGUpLmNvbm5lY3QoZS5kZXN0aW5hdGlvbiksdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUuc3RhcnQoKSk6KHRoaXMuX25hdGl2ZUdhaW5Ob2RlPW51bGwsdGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGU9bnVsbCksdGhpcy5fc3RhdGU9bnVsbCxcInJ1bm5pbmdcIj09PWUuc3RhdGUpe3RoaXMuX3N0YXRlPVwic3VzcGVuZGVkXCI7Y29uc3QgdD0oKT0+e1wic3VzcGVuZGVkXCI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPW51bGwpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsdCl9O2UuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsdCl9fWdldCBiYXNlTGF0ZW5jeSgpe3JldHVybiB0aGlzLl9iYXNlTGF0ZW5jeX1nZXQgc3RhdGUoKXtyZXR1cm4gbnVsbCE9PXRoaXMuX3N0YXRlP3RoaXMuX3N0YXRlOnRoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dC5zdGF0ZX1jbG9zZSgpe3JldHVyblwiY2xvc2VkXCI9PT10aGlzLnN0YXRlP3RoaXMuX25hdGl2ZUF1ZGlvQ29udGV4dC5jbG9zZSgpLnRoZW4oKCk9Pnt0aHJvdyBlKCl9KTooXCJzdXNwZW5kZWRcIj09PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9bnVsbCksdGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LmNsb3NlKCkudGhlbigoKT0+e251bGwhPT10aGlzLl9uYXRpdmVHYWluTm9kZSYmbnVsbCE9PXRoaXMuX25hdGl2ZU9zY2lsbGF0b3JOb2RlJiYodGhpcy5fbmF0aXZlT3NjaWxsYXRvck5vZGUuc3RvcCgpLHRoaXMuX25hdGl2ZUdhaW5Ob2RlLmRpc2Nvbm5lY3QoKSx0aGlzLl9uYXRpdmVPc2NpbGxhdG9yTm9kZS5kaXNjb25uZWN0KCkpLFcodGhpcyl9KSl9Y3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHQpe3JldHVybiBuZXcgaSh0aGlzLHttZWRpYUVsZW1lbnQ6dH0pfWNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKXtyZXR1cm4gbmV3IG8odGhpcyl9Y3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCl7cmV0dXJuIG5ldyByKHRoaXMse21lZGlhU3RyZWFtOnR9KX1jcmVhdGVNZWRpYVN0cmVhbVRyYWNrU291cmNlKHQpe3JldHVybiBuZXcgYSh0aGlzLHttZWRpYVN0cmVhbVRyYWNrOnR9KX1yZXN1bWUoKXtyZXR1cm5cInN1c3BlbmRlZFwiPT09dGhpcy5fc3RhdGU/bmV3IFByb21pc2UoKHQsZSk9Pntjb25zdCBzPSgpPT57dGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLHMpLFwicnVubmluZ1wiPT09dGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LnN0YXRlP3QoKTp0aGlzLnJlc3VtZSgpLnRoZW4odCxlKX07dGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLHMpfSk6dGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LnJlc3VtZSgpLmNhdGNoKHQ9PntpZih2b2lkIDA9PT10fHwxNT09PXQuY29kZSl0aHJvdyBlKCk7dGhyb3cgdH0pfXN1c3BlbmQoKXtyZXR1cm4gdGhpcy5fbmF0aXZlQXVkaW9Db250ZXh0LnN1c3BlbmQoKS5jYXRjaCh0PT57aWYodm9pZCAwPT09dCl0aHJvdyBlKCk7dGhyb3cgdH0pfX0pKHduLEF0LEh0LHNlLGJuLFRuLFNuLGtuLEJlKSxBbj0oRG49SHMsdD0+e2NvbnN0IGU9RG4uZ2V0KHQpO2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbnRleHQgaGFzIG5vIHNldCBvZiBBdWRpb1dvcmtsZXROb2Rlcy5cIik7cmV0dXJuIGV9KTt2YXIgRG47Y29uc3QgT249KE1uPUFuLCh0LGUpPT57TW4odCkuYWRkKGUpfSk7dmFyIE1uO2NvbnN0IEVuPSh0PT4oZSxzLG49MCxpPTApPT57Y29uc3Qgbz1lW25dO2lmKHZvaWQgMD09PW8pdGhyb3cgdCgpO3JldHVybiBjdChzKT9vLmNvbm5lY3QocywwLGkpOm8uY29ubmVjdChzLDApfSkocSksUm49KHQ9PihlLHMpPT57dChlKS5kZWxldGUocyl9KShBbikscW49KHQ9PihlLHMsbixpPTApPT52b2lkIDA9PT1zP2UuZm9yRWFjaCh0PT50LmRpc2Nvbm5lY3QoKSk6XCJudW1iZXJcIj09dHlwZW9mIHM/U3QodCxlLHMpLmRpc2Nvbm5lY3QoKTpjdChzKT92b2lkIDA9PT1uP2UuZm9yRWFjaCh0PT50LmRpc2Nvbm5lY3QocykpOnZvaWQgMD09PWk/U3QodCxlLG4pLmRpc2Nvbm5lY3QocywwKTpTdCh0LGUsbikuZGlzY29ubmVjdChzLDAsaSk6dm9pZCAwPT09bj9lLmZvckVhY2godD0+dC5kaXNjb25uZWN0KHMpKTpTdCh0LGUsbikuZGlzY29ubmVjdChzLDApKShxKSxGbj1uZXcgV2Vha01hcCxJbj0oKHQsZSk9PnM9PmUodCxzKSkoRm4sYiksVm49KCh0LGUscyxuLGksbyxyLGEsYyxoLHUsbCxwKT0+KGQsZixfLGcpPT57aWYoMD09PWcubnVtYmVyT2ZJbnB1dHMmJjA9PT1nLm51bWJlck9mT3V0cHV0cyl0aHJvdyBjKCk7Y29uc3Qgdj1BcnJheS5pc0FycmF5KGcub3V0cHV0Q2hhbm5lbENvdW50KT9nLm91dHB1dENoYW5uZWxDb3VudDpBcnJheS5mcm9tKGcub3V0cHV0Q2hhbm5lbENvdW50KTtpZih2LnNvbWUodD0+dDwxKSl0aHJvdyBjKCk7aWYodi5sZW5ndGghPT1nLm51bWJlck9mT3V0cHV0cyl0aHJvdyBlKCk7aWYoXCJleHBsaWNpdFwiIT09Zy5jaGFubmVsQ291bnRNb2RlKXRocm93IGMoKTtjb25zdCB5PWcuY2hhbm5lbENvdW50KmcubnVtYmVyT2ZJbnB1dHMseD12LnJlZHVjZSgodCxlKT0+dCtlLDApLHc9dm9pZCAwPT09Xy5wYXJhbWV0ZXJEZXNjcmlwdG9ycz8wOl8ucGFyYW1ldGVyRGVzY3JpcHRvcnMubGVuZ3RoO2lmKHkrdz42fHx4PjYpdGhyb3cgYygpO2NvbnN0IGI9bmV3IE1lc3NhZ2VDaGFubmVsLFQ9W10sUz1bXTtmb3IobGV0IHQ9MDt0PGcubnVtYmVyT2ZJbnB1dHM7dCs9MSlULnB1c2gocihkLHtjaGFubmVsQ291bnQ6Zy5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTpnLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmcuY2hhbm5lbEludGVycHJldGF0aW9uLGdhaW46MX0pKSxTLnB1c2goaShkLHtjaGFubmVsQ291bnQ6Zy5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwiZGlzY3JldGVcIixudW1iZXJPZk91dHB1dHM6Zy5jaGFubmVsQ291bnR9KSk7Y29uc3Qgaz1bXTtpZih2b2lkIDAhPT1fLnBhcmFtZXRlckRlc2NyaXB0b3JzKWZvcihjb25zdHtkZWZhdWx0VmFsdWU6dCxtYXhWYWx1ZTplLG1pblZhbHVlOnMsbmFtZTpufW9mIF8ucGFyYW1ldGVyRGVzY3JpcHRvcnMpe2NvbnN0IGk9byhkLHtjaGFubmVsQ291bnQ6MSxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwiLG9mZnNldDp2b2lkIDAhPT1nLnBhcmFtZXRlckRhdGFbbl0/Zy5wYXJhbWV0ZXJEYXRhW25dOnZvaWQgMD09PXQ/MDp0fSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaS5vZmZzZXQse2RlZmF1bHRWYWx1ZTp7Z2V0OigpPT52b2lkIDA9PT10PzA6dH0sbWF4VmFsdWU6e2dldDooKT0+dm9pZCAwPT09ZT9OOmV9LG1pblZhbHVlOntnZXQ6KCk9PnZvaWQgMD09PXM/VjpzfX0pLGsucHVzaChpKX1jb25zdCBDPW4oZCx7Y2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixudW1iZXJPZklucHV0czpNYXRoLm1heCgxLHkrdyl9KSxBPUx0KGYsZC5zYW1wbGVSYXRlKSxEPWEoZCxBLHkrdyxNYXRoLm1heCgxLHgpKSxPPWkoZCx7Y2hhbm5lbENvdW50Ok1hdGgubWF4KDEseCksY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwiZGlzY3JldGVcIixudW1iZXJPZk91dHB1dHM6TWF0aC5tYXgoMSx4KX0pLE09W107Zm9yKGxldCB0PTA7dDxnLm51bWJlck9mT3V0cHV0czt0Kz0xKU0ucHVzaChuKGQse2NoYW5uZWxDb3VudDoxLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcInNwZWFrZXJzXCIsbnVtYmVyT2ZJbnB1dHM6dlt0XX0pKTtmb3IobGV0IHQ9MDt0PGcubnVtYmVyT2ZJbnB1dHM7dCs9MSl7VFt0XS5jb25uZWN0KFNbdF0pO2ZvcihsZXQgZT0wO2U8Zy5jaGFubmVsQ291bnQ7ZSs9MSlTW3RdLmNvbm5lY3QoQyxlLHQqZy5jaGFubmVsQ291bnQrZSl9Y29uc3QgRT1uZXcgcHQodm9pZCAwPT09Xy5wYXJhbWV0ZXJEZXNjcmlwdG9ycz9bXTpfLnBhcmFtZXRlckRlc2NyaXB0b3JzLm1hcCgoe25hbWU6dH0sZSk9Pntjb25zdCBzPWtbZV07cmV0dXJuIHMuY29ubmVjdChDLDAseStlKSxzLnN0YXJ0KDApLFt0LHMub2Zmc2V0XX0pKTtDLmNvbm5lY3QoRCk7bGV0IFI9Zy5jaGFubmVsSW50ZXJwcmV0YXRpb24scT1udWxsO2NvbnN0IEY9MD09PWcubnVtYmVyT2ZPdXRwdXRzP1tEXTpNLEk9e2dldCBidWZmZXJTaXplKCl7cmV0dXJuIEF9LGdldCBjaGFubmVsQ291bnQoKXtyZXR1cm4gZy5jaGFubmVsQ291bnR9LHNldCBjaGFubmVsQ291bnQodCl7dGhyb3cgcygpfSxnZXQgY2hhbm5lbENvdW50TW9kZSgpe3JldHVybiBnLmNoYW5uZWxDb3VudE1vZGV9LHNldCBjaGFubmVsQ291bnRNb2RlKHQpe3Rocm93IHMoKX0sZ2V0IGNoYW5uZWxJbnRlcnByZXRhdGlvbigpe3JldHVybiBSfSxzZXQgY2hhbm5lbEludGVycHJldGF0aW9uKHQpe2Zvcihjb25zdCBlIG9mIFQpZS5jaGFubmVsSW50ZXJwcmV0YXRpb249dDtSPXR9LGdldCBjb250ZXh0KCl7cmV0dXJuIEQuY29udGV4dH0sZ2V0IGlucHV0cygpe3JldHVybiBUfSxnZXQgbnVtYmVyT2ZJbnB1dHMoKXtyZXR1cm4gZy5udW1iZXJPZklucHV0c30sZ2V0IG51bWJlck9mT3V0cHV0cygpe3JldHVybiBnLm51bWJlck9mT3V0cHV0c30sZ2V0IG9ucHJvY2Vzc29yZXJyb3IoKXtyZXR1cm4gcX0sc2V0IG9ucHJvY2Vzc29yZXJyb3IodCl7XCJmdW5jdGlvblwiPT10eXBlb2YgcSYmSS5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvY2Vzc29yZXJyb3JcIixxKSxxPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsLFwiZnVuY3Rpb25cIj09dHlwZW9mIHEmJkkuYWRkRXZlbnRMaXN0ZW5lcihcInByb2Nlc3NvcmVycm9yXCIscSl9LGdldCBwYXJhbWV0ZXJzKCl7cmV0dXJuIEV9LGdldCBwb3J0KCl7cmV0dXJuIGIucG9ydDJ9LGFkZEV2ZW50TGlzdGVuZXI6KC4uLnQpPT5ELmFkZEV2ZW50TGlzdGVuZXIodFswXSx0WzFdLHRbMl0pLGNvbm5lY3Q6dC5iaW5kKG51bGwsRiksZGlzY29ubmVjdDpoLmJpbmQobnVsbCxGKSxkaXNwYXRjaEV2ZW50OiguLi50KT0+RC5kaXNwYXRjaEV2ZW50KHRbMF0pLHJlbW92ZUV2ZW50TGlzdGVuZXI6KC4uLnQpPT5ELnJlbW92ZUV2ZW50TGlzdGVuZXIodFswXSx0WzFdLHRbMl0pfSxQPW5ldyBNYXA7dmFyIGosTDtiLnBvcnQxLmFkZEV2ZW50TGlzdGVuZXI9KGo9Yi5wb3J0MS5hZGRFdmVudExpc3RlbmVyLCguLi50KT0+e2lmKFwibWVzc2FnZVwiPT09dFswXSl7Y29uc3QgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzFdP3RbMV06XCJvYmplY3RcIj09dHlwZW9mIHRbMV0mJm51bGwhPT10WzFdJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzFdLmhhbmRsZUV2ZW50P3RbMV0uaGFuZGxlRXZlbnQ6bnVsbDtpZihudWxsIT09ZSl7Y29uc3Qgcz1QLmdldCh0WzFdKTt2b2lkIDAhPT1zP3RbMV09czoodFsxXT10PT57dShkLmN1cnJlbnRUaW1lLGQuc2FtcGxlUmF0ZSwoKT0+ZSh0KSl9LFAuc2V0KGUsdFsxXSkpfX1yZXR1cm4gai5jYWxsKGIucG9ydDEsdFswXSx0WzFdLHRbMl0pfSksYi5wb3J0MS5yZW1vdmVFdmVudExpc3RlbmVyPShMPWIucG9ydDEucmVtb3ZlRXZlbnRMaXN0ZW5lciwoLi4udCk9PntpZihcIm1lc3NhZ2VcIj09PXRbMF0pe2NvbnN0IGU9UC5nZXQodFsxXSk7dm9pZCAwIT09ZSYmKFAuZGVsZXRlKHRbMV0pLHRbMV09ZSl9cmV0dXJuIEwuY2FsbChiLnBvcnQxLHRbMF0sdFsxXSx0WzJdKX0pO2xldCB6PW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucG9ydDEsXCJvbm1lc3NhZ2VcIix7Z2V0OigpPT56LHNldDp0PT57XCJmdW5jdGlvblwiPT10eXBlb2YgeiYmYi5wb3J0MS5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHopLHo9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om51bGwsXCJmdW5jdGlvblwiPT10eXBlb2YgeiYmKGIucG9ydDEuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix6KSxiLnBvcnQxLnN0YXJ0KCkpfX0pLF8ucHJvdG90eXBlLnBvcnQ9Yi5wb3J0MTtsZXQgQj1udWxsOygodCxlLHMsbik9PntsZXQgaT1tLmdldCh0KTt2b2lkIDA9PT1pJiYoaT1uZXcgV2Vha01hcCxtLnNldCh0LGkpKTtjb25zdCBvPXp0KHMsbik7cmV0dXJuIGkuc2V0KGUsbyksb30pKGQsSSxfLGcpLnRoZW4odD0+Qj10KTtjb25zdCBXPW10KGcubnVtYmVyT2ZJbnB1dHMsZy5jaGFubmVsQ291bnQpLEc9bXQoZy5udW1iZXJPZk91dHB1dHMsdiksVT12b2lkIDA9PT1fLnBhcmFtZXRlckRlc2NyaXB0b3JzP1tdOl8ucGFyYW1ldGVyRGVzY3JpcHRvcnMucmVkdWNlKCh0LHtuYW1lOmV9KT0+KHsuLi50LFtlXTpuZXcgRmxvYXQzMkFycmF5KDEyOCl9KSx7fSk7bGV0IFE9ITA7Y29uc3QgWj0oKT0+e2cubnVtYmVyT2ZPdXRwdXRzPjAmJkQuZGlzY29ubmVjdChPKTtmb3IobGV0IHQ9MCxlPTA7dDxnLm51bWJlck9mT3V0cHV0czt0Kz0xKXtjb25zdCBzPU1bdF07Zm9yKGxldCBuPTA7bjx2W3RdO24rPTEpTy5kaXNjb25uZWN0KHMsZStuLG4pO2UrPXZbdF19fSxYPW5ldyBNYXA7RC5vbmF1ZGlvcHJvY2Vzcz0oe2lucHV0QnVmZmVyOnQsb3V0cHV0QnVmZmVyOmV9KT0+e2lmKG51bGwhPT1CKXtjb25zdCBzPWwoSSk7Zm9yKGxldCBuPTA7bjxBO24rPTEyOCl7Zm9yKGxldCBlPTA7ZTxnLm51bWJlck9mSW5wdXRzO2UrPTEpZm9yKGxldCBzPTA7czxnLmNoYW5uZWxDb3VudDtzKz0xKWZ0KHQsV1tlXSxzLHMsbik7dm9pZCAwIT09Xy5wYXJhbWV0ZXJEZXNjcmlwdG9ycyYmXy5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5mb3JFYWNoKCh7bmFtZTplfSxzKT0+e2Z0KHQsVSxlLHkrcyxuKX0pO2ZvcihsZXQgdD0wO3Q8Zy5udW1iZXJPZklucHV0czt0Kz0xKWZvcihsZXQgZT0wO2U8dlt0XTtlKz0xKTA9PT1HW3RdW2VdLmJ5dGVMZW5ndGgmJihHW3RdW2VdPW5ldyBGbG9hdDMyQXJyYXkoMTI4KSk7dHJ5e2NvbnN0IHQ9Vy5tYXAoKHQsZSk9PntpZihzW2VdLnNpemU+MClyZXR1cm4gWC5zZXQoZSxBLzEyOCksdDtjb25zdCBuPVguZ2V0KGUpO3JldHVybiB2b2lkIDA9PT1uP1tdOih0LmV2ZXJ5KHQ9PnQuZXZlcnkodD0+MD09PXQpKSYmKDE9PT1uP1guZGVsZXRlKGUpOlguc2V0KGUsbi0xKSksdCl9KSxpPXUoZC5jdXJyZW50VGltZStuL2Quc2FtcGxlUmF0ZSxkLnNhbXBsZVJhdGUsKCk9PkIucHJvY2Vzcyh0LEcsVSkpO1E9aTtmb3IobGV0IHQ9MCxzPTA7dDxnLm51bWJlck9mT3V0cHV0czt0Kz0xKXtmb3IobGV0IGk9MDtpPHZbdF07aSs9MSlfdChlLEdbdF0saSxzK2ksbik7cys9dlt0XX19Y2F0Y2godCl7UT0hMSxJLmRpc3BhdGNoRXZlbnQobmV3IEVycm9yRXZlbnQoXCJwcm9jZXNzb3JlcnJvclwiLHtjb2xubzp0LmNvbG5vLGZpbGVuYW1lOnQuZmlsZW5hbWUsbGluZW5vOnQubGluZW5vLG1lc3NhZ2U6dC5tZXNzYWdlfSkpfWlmKCFRKXtmb3IobGV0IHQ9MDt0PGcubnVtYmVyT2ZJbnB1dHM7dCs9MSl7VFt0XS5kaXNjb25uZWN0KFNbdF0pO2ZvcihsZXQgZT0wO2U8Zy5jaGFubmVsQ291bnQ7ZSs9MSlTW25dLmRpc2Nvbm5lY3QoQyxlLHQqZy5jaGFubmVsQ291bnQrZSl9aWYodm9pZCAwIT09Xy5wYXJhbWV0ZXJEZXNjcmlwdG9ycyl7Y29uc3QgdD1fLnBhcmFtZXRlckRlc2NyaXB0b3JzLmxlbmd0aDtmb3IobGV0IGU9MDtlPHQ7ZSs9MSl7Y29uc3QgdD1rW2VdO3QuZGlzY29ubmVjdChDLDAseStlKSx0LnN0b3AoKX19Qy5kaXNjb25uZWN0KEQpLEQub25hdWRpb3Byb2Nlc3M9bnVsbCxZP1ooKTpKKCk7YnJlYWt9fX19O2xldCBZPSExO2NvbnN0IEg9cihkLHtjaGFubmVsQ291bnQ6MSxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwiLGdhaW46MH0pLCQ9KCk9PkQuY29ubmVjdChIKS5jb25uZWN0KGQuZGVzdGluYXRpb24pLEo9KCk9PntELmRpc2Nvbm5lY3QoSCksSC5kaXNjb25uZWN0KCl9O3JldHVybiAkKCkscChJLCgpPT57aWYoUSl7SigpLGcubnVtYmVyT2ZPdXRwdXRzPjAmJkQuY29ubmVjdChPKTtmb3IobGV0IHQ9MCxlPTA7dDxnLm51bWJlck9mT3V0cHV0czt0Kz0xKXtjb25zdCBzPU1bdF07Zm9yKGxldCBuPTA7bjx2W3RdO24rPTEpTy5jb25uZWN0KHMsZStuLG4pO2UrPXZbdF19fVk9ITB9LCgpPT57USYmKCQoKSxaKCkpLFk9ITF9KX0pKEVuLHEsQXQsRXMsV3QsSXMsUXQsWXQsSHQscW4sX24sSW4sQXMpLE5uPSgodCxlLHMsbixpKT0+KG8scixhLGMsaCx1KT0+e2lmKG51bGwhPT1hKXRyeXtjb25zdCBlPW5ldyBhKG8sYyx1KSxuPW5ldyBNYXA7bGV0IHI9bnVsbDtpZihPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtjaGFubmVsQ291bnQ6e2dldDooKT0+dS5jaGFubmVsQ291bnQsc2V0OigpPT57dGhyb3cgdCgpfX0sY2hhbm5lbENvdW50TW9kZTp7Z2V0OigpPT5cImV4cGxpY2l0XCIsc2V0OigpPT57dGhyb3cgdCgpfX0sb25wcm9jZXNzb3JlcnJvcjp7Z2V0OigpPT5yLHNldDp0PT57XCJmdW5jdGlvblwiPT10eXBlb2YgciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvY2Vzc29yZXJyb3JcIixyKSxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsLFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJmUuYWRkRXZlbnRMaXN0ZW5lcihcInByb2Nlc3NvcmVycm9yXCIscil9fX0pLGUuYWRkRXZlbnRMaXN0ZW5lcj0ocD1lLmFkZEV2ZW50TGlzdGVuZXIsKC4uLnQpPT57aWYoXCJwcm9jZXNzb3JlcnJvclwiPT09dFswXSl7Y29uc3QgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzFdP3RbMV06XCJvYmplY3RcIj09dHlwZW9mIHRbMV0mJm51bGwhPT10WzFdJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzFdLmhhbmRsZUV2ZW50P3RbMV0uaGFuZGxlRXZlbnQ6bnVsbDtpZihudWxsIT09ZSl7Y29uc3Qgcz1uLmdldCh0WzFdKTt2b2lkIDAhPT1zP3RbMV09czoodFsxXT1zPT57XCJlcnJvclwiPT09cy50eXBlPyhPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLHt0eXBlOnt2YWx1ZTpcInByb2Nlc3NvcmVycm9yXCJ9fSksZShzKSk6ZShuZXcgRXJyb3JFdmVudCh0WzBdLHsuLi5zfSkpfSxuLnNldChlLHRbMV0pKX19cmV0dXJuIHAuY2FsbChlLFwiZXJyb3JcIix0WzFdLHRbMl0pLHAuY2FsbChlLC4uLnQpfSksZS5yZW1vdmVFdmVudExpc3RlbmVyPShsPWUucmVtb3ZlRXZlbnRMaXN0ZW5lciwoLi4udCk9PntpZihcInByb2Nlc3NvcmVycm9yXCI9PT10WzBdKXtjb25zdCBlPW4uZ2V0KHRbMV0pO3ZvaWQgMCE9PWUmJihuLmRlbGV0ZSh0WzFdKSx0WzFdPWUpfXJldHVybiBsLmNhbGwoZSxcImVycm9yXCIsdFsxXSx0WzJdKSxsLmNhbGwoZSx0WzBdLHRbMV0sdFsyXSl9KSwwIT09dS5udW1iZXJPZk91dHB1dHMpe2NvbnN0IHQ9cyhvLHtjaGFubmVsQ291bnQ6MSxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwiLGdhaW46MH0pO2UuY29ubmVjdCh0KS5jb25uZWN0KG8uZGVzdGluYXRpb24pO3JldHVybiBpKGUsKCk9PnQuZGlzY29ubmVjdCgpLCgpPT50LmNvbm5lY3Qoby5kZXN0aW5hdGlvbikpfXJldHVybiBlfWNhdGNoKHQpe2lmKDExPT09dC5jb2RlKXRocm93IG4oKTt0aHJvdyB0fXZhciBsLHA7aWYodm9pZCAwPT09aCl0aHJvdyBuKCk7cmV0dXJuKHQ9Pntjb25zdHtwb3J0MTplfT1uZXcgTWVzc2FnZUNoYW5uZWw7dHJ5e2UucG9zdE1lc3NhZ2UodCl9ZmluYWxseXtlLmNsb3NlKCl9fSkodSksZShvLHIsaCx1KX0pKEF0LFZuLFF0LEh0LEFzKSxQbj0oKHQsZSxzLG4saSxvLHIsYSxjLGgsdSxsLHAsZCxmLF8pPT4obSxnLHYpPT57Y29uc3QgeT1uZXcgV2Vha01hcDtsZXQgeD1udWxsO3JldHVybntyZW5kZXIodyxiLFQpe2EoYix3KTtjb25zdCBTPXkuZ2V0KGIpO3JldHVybiB2b2lkIDAhPT1TP1Byb21pc2UucmVzb2x2ZShTKTooYXN5bmMoYSx3LGIpPT57bGV0IFQ9dShhKSxTPW51bGw7Y29uc3Qgaz1FKFQsdyksQz1BcnJheS5pc0FycmF5KGcub3V0cHV0Q2hhbm5lbENvdW50KT9nLm91dHB1dENoYW5uZWxDb3VudDpBcnJheS5mcm9tKGcub3V0cHV0Q2hhbm5lbENvdW50KTtpZihudWxsPT09bCl7Y29uc3QgdD1DLnJlZHVjZSgodCxlKT0+dCtlLDApLHM9aSh3LHtjaGFubmVsQ291bnQ6TWF0aC5tYXgoMSx0KSxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwiLG51bWJlck9mT3V0cHV0czpNYXRoLm1heCgxLHQpfSksbz1bXTtmb3IobGV0IHQ9MDt0PGEubnVtYmVyT2ZPdXRwdXRzO3QrPTEpby5wdXNoKG4odyx7Y2hhbm5lbENvdW50OjEsY2hhbm5lbENvdW50TW9kZTpcImV4cGxpY2l0XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixudW1iZXJPZklucHV0czpDW3RdfSkpO2NvbnN0IGg9cih3LHtjaGFubmVsQ291bnQ6Zy5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTpnLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmcuY2hhbm5lbEludGVycHJldGF0aW9uLGdhaW46MX0pO2guY29ubmVjdD1lLmJpbmQobnVsbCxvKSxoLmRpc2Nvbm5lY3Q9Yy5iaW5kKG51bGwsbyksUz1bcyxvLGhdfWVsc2Uga3x8KFQ9bmV3IGwodyxtKSk7aWYoeS5zZXQodyxudWxsPT09Uz9UOlNbMl0pLG51bGwhPT1TKXtpZihudWxsPT09eCl7aWYodm9pZCAwPT09dil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSBwcm9jZXNzb3IgY29uc3RydWN0b3IuXCIpO2lmKG51bGw9PT1wKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgdGhlIG5hdGl2ZSBPZmZsaW5lQXVkaW9Db250ZXh0IGNvbnN0cnVjdG9yLlwiKTtjb25zdCB0PWEuY2hhbm5lbENvdW50KmEubnVtYmVyT2ZJbnB1dHMsZT12b2lkIDA9PT12LnBhcmFtZXRlckRlc2NyaXB0b3JzPzA6di5wYXJhbWV0ZXJEZXNjcmlwdG9ycy5sZW5ndGgscz10K2UsYz1hc3luYygpPT57Y29uc3QgYz1uZXcgcChzLDEyOCpNYXRoLmNlaWwoYS5jb250ZXh0Lmxlbmd0aC8xMjgpLHcuc2FtcGxlUmF0ZSksaD1bXSx1PVtdO2ZvcihsZXQgdD0wO3Q8Zy5udW1iZXJPZklucHV0czt0Kz0xKWgucHVzaChyKGMse2NoYW5uZWxDb3VudDpnLmNoYW5uZWxDb3VudCxjaGFubmVsQ291bnRNb2RlOmcuY2hhbm5lbENvdW50TW9kZSxjaGFubmVsSW50ZXJwcmV0YXRpb246Zy5jaGFubmVsSW50ZXJwcmV0YXRpb24sZ2FpbjoxfSkpLHUucHVzaChpKGMse2NoYW5uZWxDb3VudDpnLmNoYW5uZWxDb3VudCxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwiLG51bWJlck9mT3V0cHV0czpnLmNoYW5uZWxDb3VudH0pKTtjb25zdCBsPWF3YWl0IFByb21pc2UuYWxsKEFycmF5LmZyb20oYS5wYXJhbWV0ZXJzLnZhbHVlcygpKS5tYXAoYXN5bmMgdD0+e2NvbnN0IGU9byhjLHtjaGFubmVsQ291bnQ6MSxjaGFubmVsQ291bnRNb2RlOlwiZXhwbGljaXRcIixjaGFubmVsSW50ZXJwcmV0YXRpb246XCJkaXNjcmV0ZVwiLG9mZnNldDp0LnZhbHVlfSk7cmV0dXJuIGF3YWl0IGQoYyx0LGUub2Zmc2V0LGIpLGV9KSksbT1uKGMse2NoYW5uZWxDb3VudDoxLGNoYW5uZWxDb3VudE1vZGU6XCJleHBsaWNpdFwiLGNoYW5uZWxJbnRlcnByZXRhdGlvbjpcInNwZWFrZXJzXCIsbnVtYmVyT2ZJbnB1dHM6TWF0aC5tYXgoMSx0K2UpfSk7Zm9yKGxldCB0PTA7dDxnLm51bWJlck9mSW5wdXRzO3QrPTEpe2hbdF0uY29ubmVjdCh1W3RdKTtmb3IobGV0IGU9MDtlPGcuY2hhbm5lbENvdW50O2UrPTEpdVt0XS5jb25uZWN0KG0sZSx0KmcuY2hhbm5lbENvdW50K2UpfWZvcihjb25zdFtlLHNdb2YgbC5lbnRyaWVzKCkpcy5jb25uZWN0KG0sMCx0K2UpLHMuc3RhcnQoMCk7cmV0dXJuIG0uY29ubmVjdChjLmRlc3RpbmF0aW9uKSxhd2FpdCBQcm9taXNlLmFsbChoLm1hcCh0PT5mKGEsYyx0LGIpKSksXyhjKX07eD1ndChhLDA9PT1zP251bGw6YXdhaXQgYygpLHcsZyxDLHYsaCl9Y29uc3QgdD1hd2FpdCB4LGU9cyh3LHtidWZmZXI6bnVsbCxjaGFubmVsQ291bnQ6MixjaGFubmVsQ291bnRNb2RlOlwibWF4XCIsY2hhbm5lbEludGVycHJldGF0aW9uOlwic3BlYWtlcnNcIixsb29wOiExLGxvb3BFbmQ6MCxsb29wU3RhcnQ6MCxwbGF5YmFja1JhdGU6MX0pLFtjLHUsbF09UztudWxsIT09dCYmKGUuYnVmZmVyPXQsZS5zdGFydCgwKSksZS5jb25uZWN0KGMpO2ZvcihsZXQgdD0wLGU9MDt0PGEubnVtYmVyT2ZPdXRwdXRzO3QrPTEpe2NvbnN0IHM9dVt0XTtmb3IobGV0IG49MDtuPENbdF07bis9MSljLmNvbm5lY3QocyxlK24sbik7ZSs9Q1t0XX1yZXR1cm4gbH1pZihrKWZvcihjb25zdFtlLHNdb2YgYS5wYXJhbWV0ZXJzLmVudHJpZXMoKSlhd2FpdCB0KHcscyxULnBhcmFtZXRlcnMuZ2V0KGUpLGIpO2Vsc2UgZm9yKGNvbnN0W3QsZV1vZiBhLnBhcmFtZXRlcnMuZW50cmllcygpKWF3YWl0IGQodyxlLFQucGFyYW1ldGVycy5nZXQodCksYik7cmV0dXJuIGF3YWl0IGYoYSx3LFQsYiksVH0pKHcsYixUKX19fSkoYXMsRW4sY3MsRXMsV3QsSXMsUXQsUm4scW4sX24sc3Qsdm4sVmUsdXMsT2UsVXMpLGpuPSh0PT5lPT50LmdldChlKSkobW4pLExuPSh0PT4oZSxzKT0+e3Quc2V0KGUscyl9KShGbiksem49Zm4/KCh0LGUscyxuLGksbyxyLGEsYyxoLHUsbCxwKT0+Y2xhc3MgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUscCxkKXt2YXIgZjtjb25zdCBtPWEoZSksZz1jKG0pLHY9dSh7Li4uZHQsLi4uZH0pLHk9Xy5nZXQobSkseD1udWxsPT15P3ZvaWQgMDp5LmdldChwKSx3PWd8fFwiY2xvc2VkXCIhPT1tLnN0YXRlP206bnVsbCE9PShmPXIobSkpJiZ2b2lkIDAhPT1mP2Y6bSxiPWkodyxnP251bGw6ZS5iYXNlTGF0ZW5jeSxoLHAseCx2KTtzdXBlcihlLCEwLGIsZz9uKHAsdix4KTpudWxsKTtjb25zdCBUPVtdO2IucGFyYW1ldGVycy5mb3JFYWNoKCh0LGUpPT57Y29uc3Qgbj1zKHRoaXMsZyx0KTtULnB1c2goW2Usbl0pfSksdGhpcy5fbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZT1iLHRoaXMuX29ucHJvY2Vzc29yZXJyb3I9bnVsbCx0aGlzLl9wYXJhbWV0ZXJzPW5ldyBwdChUKSxnJiZ0KG0sdGhpcyk7Y29uc3R7YWN0aXZlSW5wdXRzOlN9PW8odGhpcyk7bChiLFMpfWdldCBvbnByb2Nlc3NvcmVycm9yKCl7cmV0dXJuIHRoaXMuX29ucHJvY2Vzc29yZXJyb3J9c2V0IG9ucHJvY2Vzc29yZXJyb3IodCl7Y29uc3QgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3AodGhpcyx0KTpudWxsO3RoaXMuX25hdGl2ZUF1ZGlvV29ya2xldE5vZGUub25wcm9jZXNzb3JlcnJvcj1lO2NvbnN0IHM9dGhpcy5fbmF0aXZlQXVkaW9Xb3JrbGV0Tm9kZS5vbnByb2Nlc3NvcmVycm9yO3RoaXMuX29ucHJvY2Vzc29yZXJyb3I9bnVsbCE9PXMmJnM9PT1lP3Q6c31nZXQgcGFyYW1ldGVycygpe3JldHVybiBudWxsPT09dGhpcy5fcGFyYW1ldGVycz90aGlzLl9uYXRpdmVBdWRpb1dvcmtsZXROb2RlLnBhcmFtZXRlcnM6dGhpcy5fcGFyYW1ldGVyc31nZXQgcG9ydCgpe3JldHVybiB0aGlzLl9uYXRpdmVBdWRpb1dvcmtsZXROb2RlLnBvcnR9fSkoT24sWmUscHMsUG4sTm4sTCxqbixGZSxOZSx2bix0PT4oey4uLnQsb3V0cHV0Q2hhbm5lbENvdW50OnZvaWQgMCE9PXQub3V0cHV0Q2hhbm5lbENvdW50P3Qub3V0cHV0Q2hhbm5lbENvdW50OjE9PT10Lm51bWJlck9mSW5wdXRzJiYxPT09dC5udW1iZXJPZk91dHB1dHM/W3QuY2hhbm5lbENvdW50XTpBcnJheS5mcm9tKHtsZW5ndGg6dC5udW1iZXJPZk91dHB1dHN9LCgpPT4xKX0pLExuLGRlKTp2b2lkIDAsQm49KCgodCxlLHMsbixpKT0+e30pKEF0LEh0LHNlLCRzLEJlKSwoKHQsZSk9PihzLG4saSk9PntpZihudWxsPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRoZSBuYXRpdmUgT2ZmbGluZUF1ZGlvQ29udGV4dCBjb25zdHJ1Y3Rvci5cIik7dHJ5e3JldHVybiBuZXcgZShzLG4saSl9Y2F0Y2goZSl7aWYoXCJTeW50YXhFcnJvclwiPT09ZS5uYW1lKXRocm93IHQoKTt0aHJvdyBlfX0pKEh0LFZlKSksV249KCh0LGUscyxuLGksbyxyLGEpPT57Y29uc3QgYz1bXTtyZXR1cm4oaCx1KT0+cyhoKS5yZW5kZXIoaCx1LGMpLnRoZW4oKCk9PlByb21pc2UuYWxsKEFycmF5LmZyb20obih1KSkubWFwKHQ9PnModCkucmVuZGVyKHQsdSxjKSkpKS50aGVuKCgpPT5pKHUpKS50aGVuKHM9PihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzLmNvcHlGcm9tQ2hhbm5lbD8ocihzKSxGKHMpKTplKG8sKCk9Pm8ocykpfHxhKHMpLHQuYWRkKHMpLHMpKX0pKEhlLHhlLEFlLEFuLFVzLFIsdHMsZXMpLEduPSgoKHQsZSxzLG4saSk9Pnt9KSh4ZSxBdCxCbiwkcyxXbiksKCh0LGUscyxuLGkpPT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IodCxzLGkpe2xldCBvO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ2b2lkIDAhPT1zJiZ2b2lkIDAhPT1pKW89e2xlbmd0aDpzLG51bWJlck9mQ2hhbm5lbHM6dCxzYW1wbGVSYXRlOml9O2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGdpdmVuIHBhcmFtZXRlcnMgYXJlIG5vdCB2YWxpZC5cIik7bz10fWNvbnN0e2xlbmd0aDpyLG51bWJlck9mQ2hhbm5lbHM6YSxzYW1wbGVSYXRlOmN9PXsuLi4kdCwuLi5vfSxoPW4oYSxyLGMpO2UoUnQsKCk9PlJ0KGgpKXx8aC5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwoKCk9PntsZXQgdD0wO2NvbnN0IGU9cz0+e1wicnVubmluZ1wiPT09dGhpcy5fc3RhdGUmJih0PjA/KGgucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsZSkscy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLl93YWl0Rm9yVGhlUHJvbWlzZVRvU2V0dGxlKHMpKTp0Kz0xKX07cmV0dXJuIGV9KSgpKSxzdXBlcihoLGEpLHRoaXMuX2xlbmd0aD1yLHRoaXMuX25hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQ9aCx0aGlzLl9zdGF0ZT1udWxsfWdldCBsZW5ndGgoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5sZW5ndGg/dGhpcy5fbGVuZ3RoOnRoaXMuX25hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQubGVuZ3RofWdldCBzdGF0ZSgpe3JldHVybiBudWxsPT09dGhpcy5fc3RhdGU/dGhpcy5fbmF0aXZlT2ZmbGluZUF1ZGlvQ29udGV4dC5zdGF0ZTp0aGlzLl9zdGF0ZX1zdGFydFJlbmRlcmluZygpe3JldHVyblwicnVubmluZ1wiPT09dGhpcy5fc3RhdGU/UHJvbWlzZS5yZWplY3QocygpKToodGhpcy5fc3RhdGU9XCJydW5uaW5nXCIsaSh0aGlzLmRlc3RpbmF0aW9uLHRoaXMuX25hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQpLmZpbmFsbHkoKCk9Pnt0aGlzLl9zdGF0ZT1udWxsLFcodGhpcyl9KSl9X3dhaXRGb3JUaGVQcm9taXNlVG9TZXR0bGUodCl7bnVsbD09PXRoaXMuX3N0YXRlP3RoaXMuX25hdGl2ZU9mZmxpbmVBdWRpb0NvbnRleHQuZGlzcGF0Y2hFdmVudCh0KTpzZXRUaW1lb3V0KCgpPT50aGlzLl93YWl0Rm9yVGhlUHJvbWlzZVRvU2V0dGxlKHQpKX19KSh3bix4ZSxBdCxCbixXbikpLFVuPSgodCxlKT0+cz0+e2NvbnN0IG49dC5nZXQocyk7cmV0dXJuIGUobil8fGUocyl9KShwLFdlKSxRbj0oWm49aCxYbj1VZSx0PT5abi5oYXModCl8fFhuKHQpKTt2YXIgWm4sWG47Y29uc3QgWW49KEhuPWwsJG49UWUsdD0+SG4uaGFzKHQpfHwkbih0KSk7dmFyIEhuLCRuO2NvbnN0IEpuPSgodCxlKT0+cz0+e2NvbnN0IG49dC5nZXQocyk7cmV0dXJuIGUobil8fGUocyl9KShwLE5lKSxLbj0oKT0+KGFzeW5jKHQsZSxzLG4saSxvLHIsYSxjLGgsdSxsLHAsZCxmLF8pPT57aWYodChlLGUpJiZ0KHMscykmJnQoaSxpKSYmdChvLG8pJiZ0KGEsYSkmJnQoYyxjKSYmdChoLGgpJiZ0KHUsdSkmJnQobCxsKSYmdChwLHApJiZ0KGQsZCkpe3JldHVybihhd2FpdCBQcm9taXNlLmFsbChbdChuLG4pLHQocixyKSx0KGYsZiksdChfLF8pXSkpLmV2ZXJ5KHQ9PnQpfXJldHVybiExfSkoeGUsKHQ9PigpPT57aWYobnVsbD09PXQpcmV0dXJuITE7Y29uc3QgZT1uZXcgdCgxLDEsNDQxMDApLmNyZWF0ZUJ1ZmZlcigxLDEsNDQxMDApO2lmKHZvaWQgMD09PWUuY29weVRvQ2hhbm5lbClyZXR1cm4hMDtjb25zdCBzPW5ldyBGbG9hdDMyQXJyYXkoMik7dHJ5e2UuY29weUZyb21DaGFubmVsKHMsMCwwKX1jYXRjaHtyZXR1cm4hMX1yZXR1cm4hMH0pKFZlKSwodD0+KCk9PntpZihudWxsPT09dClyZXR1cm4hMTtpZih2b2lkIDAhPT10LnByb3RvdHlwZSYmdm9pZCAwIT09dC5wcm90b3R5cGUuY2xvc2UpcmV0dXJuITA7Y29uc3QgZT1uZXcgdCxzPXZvaWQgMCE9PWUuY2xvc2U7dHJ5e2UuY2xvc2UoKX1jYXRjaHt9cmV0dXJuIHN9KShCZSksKHQ9PigpPT57aWYobnVsbD09PXQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSk7Y29uc3QgZT1uZXcgdCgxLDEsNDQxMDApO3JldHVybiBuZXcgUHJvbWlzZSh0PT57bGV0IHM9ITA7Y29uc3Qgbj1uPT57cyYmKHM9ITEsZS5zdGFydFJlbmRlcmluZygpLHQobiBpbnN0YW5jZW9mIFR5cGVFcnJvcikpfTtsZXQgaTt0cnl7aT1lLmRlY29kZUF1ZGlvRGF0YShudWxsLCgpPT57fSxuKX1jYXRjaCh0KXtuKHQpfXZvaWQgMCE9PWkmJmkuY2F0Y2gobil9KX0pKFZlKSwodD0+KCk9PntpZihudWxsPT09dClyZXR1cm4hMTtsZXQgZTt0cnl7ZT1uZXcgdCh7bGF0ZW5jeUhpbnQ6XCJiYWxhbmNlZFwifSl9Y2F0Y2h7cmV0dXJuITF9cmV0dXJuIGUuY2xvc2UoKSwhMH0pKEJlKSwodD0+KCk9PntpZihudWxsPT09dClyZXR1cm4hMTtjb25zdCBlPW5ldyB0KDEsMSw0NDEwMCkuY3JlYXRlR2FpbigpLHM9ZS5jb25uZWN0KGUpPT09ZTtyZXR1cm4gZS5kaXNjb25uZWN0KGUpLHN9KShWZSksKCh0LGUpPT5hc3luYygpPT57aWYobnVsbD09PXQpcmV0dXJuITA7aWYobnVsbD09PWUpcmV0dXJuITE7Y29uc3Qgcz1uZXcgQmxvYihbJ2NsYXNzIEEgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7cHJvY2Vzcygpe3RoaXMucG9ydC5wb3N0TWVzc2FnZSgwKX19cmVnaXN0ZXJQcm9jZXNzb3IoXCJhXCIsQSknXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLThcIn0pLG49bmV3IGUoMSwxMjgsOGUzKSxpPVVSTC5jcmVhdGVPYmplY3RVUkwocyk7bGV0IG89ITE7dHJ5e2F3YWl0IG4uYXVkaW9Xb3JrbGV0LmFkZE1vZHVsZShpKTtjb25zdCBlPW5ldyB0KG4sXCJhXCIse251bWJlck9mT3V0cHV0czowfSkscz1uLmNyZWF0ZU9zY2lsbGF0b3IoKTtlLnBvcnQub25tZXNzYWdlPSgpPT5vPSEwLHMuY29ubmVjdChlKSxzLnN0YXJ0KDApLGF3YWl0IG4uc3RhcnRSZW5kZXJpbmcoKSxvfHxhd2FpdCBuZXcgUHJvbWlzZSh0PT5zZXRUaW1lb3V0KHQsNSkpfWNhdGNoe31maW5hbGx5e1VSTC5yZXZva2VPYmplY3RVUkwoaSl9cmV0dXJuIG99KSh2bixWZSksKHQ9PigpPT57aWYobnVsbD09PXQpcmV0dXJuITE7Y29uc3QgZT1uZXcgdCgxLDEsNDQxMDApLmNyZWF0ZUNoYW5uZWxNZXJnZXIoKTtpZihcIm1heFwiPT09ZS5jaGFubmVsQ291bnRNb2RlKXJldHVybiEwO3RyeXtlLmNoYW5uZWxDb3VudD0yfWNhdGNoe3JldHVybiEwfXJldHVybiExfSkoVmUpLCh0PT4oKT0+e2lmKG51bGw9PT10KXJldHVybiExO2NvbnN0IGU9bmV3IHQoMSwxLDQ0MTAwKTtpZih2b2lkIDA9PT1lLmNyZWF0ZUNvbnN0YW50U291cmNlKXJldHVybiEwO3JldHVybiBlLmNyZWF0ZUNvbnN0YW50U291cmNlKCkub2Zmc2V0Lm1heFZhbHVlIT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSkoVmUpLCh0PT4oKT0+e2lmKG51bGw9PT10KXJldHVybiExO2NvbnN0IGU9bmV3IHQoMSwxLDQ0MTAwKSxzPWUuY3JlYXRlQ29udm9sdmVyKCk7cy5idWZmZXI9ZS5jcmVhdGVCdWZmZXIoMSwxLGUuc2FtcGxlUmF0ZSk7dHJ5e3MuYnVmZmVyPWUuY3JlYXRlQnVmZmVyKDEsMSxlLnNhbXBsZVJhdGUpfWNhdGNoe3JldHVybiExfXJldHVybiEwfSkoVmUpLCh0PT4oKT0+e2lmKG51bGw9PT10KXJldHVybiExO2NvbnN0IGU9bmV3IHQoMSwxLDQ0MTAwKS5jcmVhdGVDb252b2x2ZXIoKTt0cnl7ZS5jaGFubmVsQ291bnQ9MX1jYXRjaHtyZXR1cm4hMX1yZXR1cm4hMH0pKFZlKSx1ZSwodD0+KCk9Pm51bGwhPT10JiZ0Lmhhc093blByb3BlcnR5KFwiaXNTZWN1cmVDb250ZXh0XCIpKShUZSksKHQ9PigpPT57aWYobnVsbD09PXQpcmV0dXJuITE7Y29uc3QgZT1uZXcgdDt0cnl7cmV0dXJuIGUuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobmV3IE1lZGlhU3RyZWFtKSwhMX1jYXRjaCh0KXtyZXR1cm4hMH19KShCZSksKHQ9PigpPT57aWYobnVsbD09PXQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSk7Y29uc3QgZT1uZXcgdCgxLDEsNDQxMDApO2lmKHZvaWQgMD09PWUuY3JlYXRlU3RlcmVvUGFubmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUoITApO2lmKHZvaWQgMD09PWUuY3JlYXRlQ29uc3RhbnRTb3VyY2UpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMCk7Y29uc3Qgcz1lLmNyZWF0ZUNvbnN0YW50U291cmNlKCksbj1lLmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO3JldHVybiBzLmNoYW5uZWxDb3VudD0xLHMub2Zmc2V0LnZhbHVlPTEsbi5jaGFubmVsQ291bnQ9MSxzLnN0YXJ0KCkscy5jb25uZWN0KG4pLmNvbm5lY3QoZS5kZXN0aW5hdGlvbiksZS5zdGFydFJlbmRlcmluZygpLnRoZW4odD0+MSE9PXQuZ2V0Q2hhbm5lbERhdGEoMClbMF0pfSkoVmUpLGxlKTtmdW5jdGlvbiB0aSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlKX1mdW5jdGlvbiBlaSh0LGUscz0xLzApe2lmKCEoZTw9dCYmdDw9cykpdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFZhbHVlIG11c3QgYmUgd2l0aGluIFske2V9LCAke3N9XSwgZ290OiAke3R9YCl9ZnVuY3Rpb24gc2kodCl7dC5pc09mZmxpbmV8fFwicnVubmluZ1wiPT09dC5zdGF0ZXx8cmkoJ1RoZSBBdWRpb0NvbnRleHQgaXMgXCJzdXNwZW5kZWRcIi4gSW52b2tlIFRvbmUuc3RhcnQoKSBmcm9tIGEgdXNlciBhY3Rpb24gdG8gc3RhcnQgdGhlIGF1ZGlvLicpfWxldCBuaT1jb25zb2xlO2Z1bmN0aW9uIGlpKHQpe25pPXR9ZnVuY3Rpb24gb2koLi4udCl7bmkubG9nKC4uLnQpfWZ1bmN0aW9uIHJpKC4uLnQpe25pLndhcm4oLi4udCl9ZnVuY3Rpb24gYWkodCl7cmV0dXJuIHZvaWQgMD09PXR9ZnVuY3Rpb24gY2kodCl7cmV0dXJuIWFpKHQpfWZ1bmN0aW9uIGhpKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9ZnVuY3Rpb24gdWkodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gbGkodCl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSYmdC5jb25zdHJ1Y3Rvcj09PU9iamVjdH1mdW5jdGlvbiBwaSh0KXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHR9ZnVuY3Rpb24gZGkodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24gZmkodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9ZnVuY3Rpb24gX2kodCl7cmV0dXJuIGZpKHQpJiYvXihbYS1nXXsxfSg/OmJ8I3x4fGJiKT8pKC0/WzAtOV0rKS9pLnRlc3QodCl9Y29uc3QgbWk9XCJvYmplY3RcIj09dHlwZW9mIHNlbGY/c2VsZjpudWxsLGdpPW1pJiYobWkuaGFzT3duUHJvcGVydHkoXCJBdWRpb0NvbnRleHRcIil8fG1pLmhhc093blByb3BlcnR5KFwid2Via2l0QXVkaW9Db250ZXh0XCIpKTtmdW5jdGlvbiB2aSh0LGUscyxuKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscj1vPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxzKTpuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXI9UmVmbGVjdC5kZWNvcmF0ZSh0LGUscyxuKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocj0obzwzP2kocik6bz4zP2koZSxzLHIpOmkoZSxzKSl8fHIpO3JldHVybiBvPjMmJnImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHMscikscn1mdW5jdGlvbiB5aSh0LGUscyxuKXtyZXR1cm4gbmV3KHN8fChzPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiByKHQpe3RyeXtjKG4ubmV4dCh0KSl9Y2F0Y2godCl7byh0KX19ZnVuY3Rpb24gYSh0KXt0cnl7YyhuLnRocm93KHQpKX1jYXRjaCh0KXtvKHQpfX1mdW5jdGlvbiBjKHQpe3ZhciBlO3QuZG9uZT9pKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcygoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihyLGEpfWMoKG49bi5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX1PYmplY3QuY3JlYXRlO09iamVjdC5jcmVhdGU7Y2xhc3MgeGl7Y29uc3RydWN0b3IodCxlLHMpe3RoaXMuX2NhbGxiYWNrPXQsdGhpcy5fdHlwZT1lLHRoaXMuX3VwZGF0ZUludGVydmFsPXMsdGhpcy5fY3JlYXRlQ2xvY2soKX1fY3JlYXRlV29ya2VyKCl7Y29uc3QgdD1uZXcgQmxvYihbYFxcblxcdFxcdFxcdC8vIHRoZSBpbml0aWFsIHRpbWVvdXQgdGltZVxcblxcdFxcdFxcdGxldCB0aW1lb3V0VGltZSA9ICAkeygxZTMqdGhpcy5fdXBkYXRlSW50ZXJ2YWwpLnRvRml4ZWQoMSl9O1xcblxcdFxcdFxcdC8vIG9ubWVzc2FnZSBjYWxsYmFja1xcblxcdFxcdFxcdHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24obXNnKXtcXG5cXHRcXHRcXHRcXHR0aW1lb3V0VGltZSA9IHBhcnNlSW50KG1zZy5kYXRhKTtcXG5cXHRcXHRcXHR9O1xcblxcdFxcdFxcdC8vIHRoZSB0aWNrIGZ1bmN0aW9uIHdoaWNoIHBvc3RzIGEgbWVzc2FnZVxcblxcdFxcdFxcdC8vIGFuZCBzY2hlZHVsZXMgYSBuZXcgdGlja1xcblxcdFxcdFxcdGZ1bmN0aW9uIHRpY2soKXtcXG5cXHRcXHRcXHRcXHRzZXRUaW1lb3V0KHRpY2ssIHRpbWVvdXRUaW1lKTtcXG5cXHRcXHRcXHRcXHRzZWxmLnBvc3RNZXNzYWdlKCd0aWNrJyk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdC8vIGNhbGwgdGljayBpbml0aWFsbHlcXG5cXHRcXHRcXHR0aWNrKCk7XFxuXFx0XFx0XFx0YF0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pLGU9VVJMLmNyZWF0ZU9iamVjdFVSTCh0KSxzPW5ldyBXb3JrZXIoZSk7cy5vbm1lc3NhZ2U9dGhpcy5fY2FsbGJhY2suYmluZCh0aGlzKSx0aGlzLl93b3JrZXI9c31fY3JlYXRlVGltZW91dCgpe3RoaXMuX3RpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuX2NyZWF0ZVRpbWVvdXQoKSx0aGlzLl9jYWxsYmFjaygpfSwxZTMqdGhpcy5fdXBkYXRlSW50ZXJ2YWwpfV9jcmVhdGVDbG9jaygpe2lmKFwid29ya2VyXCI9PT10aGlzLl90eXBlKXRyeXt0aGlzLl9jcmVhdGVXb3JrZXIoKX1jYXRjaCh0KXt0aGlzLl90eXBlPVwidGltZW91dFwiLHRoaXMuX2NyZWF0ZUNsb2NrKCl9ZWxzZVwidGltZW91dFwiPT09dGhpcy5fdHlwZSYmdGhpcy5fY3JlYXRlVGltZW91dCgpfV9kaXNwb3NlQ2xvY2soKXt0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9MCksdGhpcy5fd29ya2VyJiYodGhpcy5fd29ya2VyLnRlcm1pbmF0ZSgpLHRoaXMuX3dvcmtlci5vbm1lc3NhZ2U9bnVsbCl9Z2V0IHVwZGF0ZUludGVydmFsKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZUludGVydmFsfXNldCB1cGRhdGVJbnRlcnZhbCh0KXt0aGlzLl91cGRhdGVJbnRlcnZhbD1NYXRoLm1heCh0LDEyOC80NDEwMCksXCJ3b3JrZXJcIj09PXRoaXMuX3R5cGUmJnRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZShNYXRoLm1heCgxZTMqdCwxKSl9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX1zZXQgdHlwZSh0KXt0aGlzLl9kaXNwb3NlQ2xvY2soKSx0aGlzLl90eXBlPXQsdGhpcy5fY3JlYXRlQ2xvY2soKX1kaXNwb3NlKCl7dGhpcy5fZGlzcG9zZUNsb2NrKCl9fWZ1bmN0aW9uIHdpKHQpe3JldHVybiBZbih0KX1mdW5jdGlvbiBiaSh0KXtyZXR1cm4gUW4odCl9ZnVuY3Rpb24gVGkodCl7cmV0dXJuIEpuKHQpfWZ1bmN0aW9uIFNpKHQpe3JldHVybiBVbih0KX1mdW5jdGlvbiBraSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyfWZ1bmN0aW9uIENpKHQsZSl7cmV0dXJuXCJ2YWx1ZVwiPT09dHx8d2koZSl8fGJpKGUpfHxraShlKX1mdW5jdGlvbiBBaSh0LC4uLmUpe2lmKCFlLmxlbmd0aClyZXR1cm4gdDtjb25zdCBzPWUuc2hpZnQoKTtpZihsaSh0KSYmbGkocykpZm9yKGNvbnN0IGUgaW4gcylDaShlLHNbZV0pP3RbZV09c1tlXTpsaShzW2VdKT8odFtlXXx8T2JqZWN0LmFzc2lnbih0LHtbZV06e319KSxBaSh0W2VdLHNbZV0pKTpPYmplY3QuYXNzaWduKHQse1tlXTpzW2VdfSk7cmV0dXJuIEFpKHQsLi4uZSl9ZnVuY3Rpb24gRGkodCxlLHM9W10sbil7Y29uc3QgaT17fSxvPUFycmF5LmZyb20oZSk7aWYobGkob1swXSkmJm4mJiFSZWZsZWN0LmhhcyhvWzBdLG4pKXtPYmplY3Qua2V5cyhvWzBdKS5zb21lKGU9PlJlZmxlY3QuaGFzKHQsZSkpfHwoQWkoaSx7W25dOm9bMF19KSxzLnNwbGljZShzLmluZGV4T2YobiksMSksby5zaGlmdCgpKX1pZigxPT09by5sZW5ndGgmJmxpKG9bMF0pKUFpKGksb1swXSk7ZWxzZSBmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrKyljaShvW3RdKSYmKGlbc1t0XV09b1t0XSk7cmV0dXJuIEFpKHQsaSl9ZnVuY3Rpb24gT2kodCxlKXtyZXR1cm4gYWkodCk/ZTp0fWZ1bmN0aW9uIE1pKHQsZSl7cmV0dXJuIGUuZm9yRWFjaChlPT57UmVmbGVjdC5oYXModCxlKSYmZGVsZXRlIHRbZV19KSx0fVxuLyoqXG4gKiBUb25lLmpzXG4gKiBAYXV0aG9yIFlvdGFtIE1hbm5cbiAqIEBsaWNlbnNlIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQgTUlUIExpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxNC0yMDE5IFlvdGFtIE1hbm5cbiAqL2NsYXNzIEVpe2NvbnN0cnVjdG9yKCl7dGhpcy5kZWJ1Zz0hMSx0aGlzLl93YXNEaXNwb3NlZD0hMX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm57fX1sb2coLi4udCl7KHRoaXMuZGVidWd8fG1pJiZ0aGlzLnRvU3RyaW5nKCk9PT1taS5UT05FX0RFQlVHX0NMQVNTKSYmb2kodGhpcywuLi50KX1kaXNwb3NlKCl7cmV0dXJuIHRoaXMuX3dhc0Rpc3Bvc2VkPSEwLHRoaXN9Z2V0IGRpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX3dhc0Rpc3Bvc2VkfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZX19RWkudmVyc2lvbj1vO2Z1bmN0aW9uIFJpKHQsZSl7cmV0dXJuIHQ+ZSsxZS02fWZ1bmN0aW9uIHFpKHQsZSl7cmV0dXJuIFJpKHQsZSl8fElpKHQsZSl9ZnVuY3Rpb24gRmkodCxlKXtyZXR1cm4gdCsxZS02PGV9ZnVuY3Rpb24gSWkodCxlKXtyZXR1cm4gTWF0aC5hYnModC1lKTwxZS02fWZ1bmN0aW9uIFZpKHQsZSxzKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odCxzKSxlKX1jbGFzcyBOaSBleHRlbmRzIEVpe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLm5hbWU9XCJUaW1lbGluZVwiLHRoaXMuX3RpbWVsaW5lPVtdO2NvbnN0IHQ9RGkoTmkuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wibWVtb3J5XCJdKTt0aGlzLm1lbW9yeT10Lm1lbW9yeSx0aGlzLmluY3JlYXNpbmc9dC5pbmNyZWFzaW5nfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybnttZW1vcnk6MS8wLGluY3JlYXNpbmc6ITF9fWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fdGltZWxpbmUubGVuZ3RofWFkZCh0KXtpZih0aShSZWZsZWN0Lmhhcyh0LFwidGltZVwiKSxcIlRpbWVsaW5lOiBldmVudHMgbXVzdCBoYXZlIGEgdGltZSBhdHRyaWJ1dGVcIiksdC50aW1lPXQudGltZS52YWx1ZU9mKCksdGhpcy5pbmNyZWFzaW5nJiZ0aGlzLmxlbmd0aCl7Y29uc3QgZT10aGlzLl90aW1lbGluZVt0aGlzLmxlbmd0aC0xXTt0aShxaSh0LnRpbWUsZS50aW1lKSxcIlRoZSB0aW1lIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBsYXN0IHNjaGVkdWxlZCB0aW1lXCIpLHRoaXMuX3RpbWVsaW5lLnB1c2godCl9ZWxzZXtjb25zdCBlPXRoaXMuX3NlYXJjaCh0LnRpbWUpO3RoaXMuX3RpbWVsaW5lLnNwbGljZShlKzEsMCx0KX1pZih0aGlzLmxlbmd0aD50aGlzLm1lbW9yeSl7Y29uc3QgdD10aGlzLmxlbmd0aC10aGlzLm1lbW9yeTt0aGlzLl90aW1lbGluZS5zcGxpY2UoMCx0KX1yZXR1cm4gdGhpc31yZW1vdmUodCl7Y29uc3QgZT10aGlzLl90aW1lbGluZS5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmdGhpcy5fdGltZWxpbmUuc3BsaWNlKGUsMSksdGhpc31nZXQodCxlPVwidGltZVwiKXtjb25zdCBzPXRoaXMuX3NlYXJjaCh0LGUpO3JldHVybi0xIT09cz90aGlzLl90aW1lbGluZVtzXTpudWxsfXBlZWsoKXtyZXR1cm4gdGhpcy5fdGltZWxpbmVbMF19c2hpZnQoKXtyZXR1cm4gdGhpcy5fdGltZWxpbmUuc2hpZnQoKX1nZXRBZnRlcih0LGU9XCJ0aW1lXCIpe2NvbnN0IHM9dGhpcy5fc2VhcmNoKHQsZSk7cmV0dXJuIHMrMTx0aGlzLl90aW1lbGluZS5sZW5ndGg/dGhpcy5fdGltZWxpbmVbcysxXTpudWxsfWdldEJlZm9yZSh0KXtjb25zdCBlPXRoaXMuX3RpbWVsaW5lLmxlbmd0aDtpZihlPjAmJnRoaXMuX3RpbWVsaW5lW2UtMV0udGltZTx0KXJldHVybiB0aGlzLl90aW1lbGluZVtlLTFdO2NvbnN0IHM9dGhpcy5fc2VhcmNoKHQpO3JldHVybiBzLTE+PTA/dGhpcy5fdGltZWxpbmVbcy0xXTpudWxsfWNhbmNlbCh0KXtpZih0aGlzLl90aW1lbGluZS5sZW5ndGg+MSl7bGV0IGU9dGhpcy5fc2VhcmNoKHQpO2lmKGU+PTApaWYoSWkodGhpcy5fdGltZWxpbmVbZV0udGltZSx0KSl7Zm9yKGxldCBzPWU7cz49MCYmSWkodGhpcy5fdGltZWxpbmVbc10udGltZSx0KTtzLS0pZT1zO3RoaXMuX3RpbWVsaW5lPXRoaXMuX3RpbWVsaW5lLnNsaWNlKDAsZSl9ZWxzZSB0aGlzLl90aW1lbGluZT10aGlzLl90aW1lbGluZS5zbGljZSgwLGUrMSk7ZWxzZSB0aGlzLl90aW1lbGluZT1bXX1lbHNlIDE9PT10aGlzLl90aW1lbGluZS5sZW5ndGgmJnFpKHRoaXMuX3RpbWVsaW5lWzBdLnRpbWUsdCkmJih0aGlzLl90aW1lbGluZT1bXSk7cmV0dXJuIHRoaXN9Y2FuY2VsQmVmb3JlKHQpe2NvbnN0IGU9dGhpcy5fc2VhcmNoKHQpO3JldHVybiBlPj0wJiYodGhpcy5fdGltZWxpbmU9dGhpcy5fdGltZWxpbmUuc2xpY2UoZSsxKSksdGhpc31wcmV2aW91c0V2ZW50KHQpe2NvbnN0IGU9dGhpcy5fdGltZWxpbmUuaW5kZXhPZih0KTtyZXR1cm4gZT4wP3RoaXMuX3RpbWVsaW5lW2UtMV06bnVsbH1fc2VhcmNoKHQsZT1cInRpbWVcIil7aWYoMD09PXRoaXMuX3RpbWVsaW5lLmxlbmd0aClyZXR1cm4tMTtsZXQgcz0wO2NvbnN0IG49dGhpcy5fdGltZWxpbmUubGVuZ3RoO2xldCBpPW47aWYobj4wJiZ0aGlzLl90aW1lbGluZVtuLTFdW2VdPD10KXJldHVybiBuLTE7Zm9yKDtzPGk7KXtsZXQgbj1NYXRoLmZsb29yKHMrKGktcykvMik7Y29uc3Qgbz10aGlzLl90aW1lbGluZVtuXSxyPXRoaXMuX3RpbWVsaW5lW24rMV07aWYoSWkob1tlXSx0KSl7Zm9yKGxldCBzPW47czx0aGlzLl90aW1lbGluZS5sZW5ndGg7cysrKXtpZighSWkodGhpcy5fdGltZWxpbmVbc11bZV0sdCkpYnJlYWs7bj1zfXJldHVybiBufWlmKEZpKG9bZV0sdCkmJlJpKHJbZV0sdCkpcmV0dXJuIG47Umkob1tlXSx0KT9pPW46cz1uKzF9cmV0dXJuLTF9X2l0ZXJhdGUodCxlPTAscz10aGlzLl90aW1lbGluZS5sZW5ndGgtMSl7dGhpcy5fdGltZWxpbmUuc2xpY2UoZSxzKzEpLmZvckVhY2godCl9Zm9yRWFjaCh0KXtyZXR1cm4gdGhpcy5faXRlcmF0ZSh0KSx0aGlzfWZvckVhY2hCZWZvcmUodCxlKXtjb25zdCBzPXRoaXMuX3NlYXJjaCh0KTtyZXR1cm4tMSE9PXMmJnRoaXMuX2l0ZXJhdGUoZSwwLHMpLHRoaXN9Zm9yRWFjaEFmdGVyKHQsZSl7Y29uc3Qgcz10aGlzLl9zZWFyY2godCk7cmV0dXJuIHRoaXMuX2l0ZXJhdGUoZSxzKzEpLHRoaXN9Zm9yRWFjaEJldHdlZW4odCxlLHMpe2xldCBuPXRoaXMuX3NlYXJjaCh0KSxpPXRoaXMuX3NlYXJjaChlKTtyZXR1cm4tMSE9PW4mJi0xIT09aT8odGhpcy5fdGltZWxpbmVbbl0udGltZSE9PXQmJihuKz0xKSx0aGlzLl90aW1lbGluZVtpXS50aW1lPT09ZSYmKGktPTEpLHRoaXMuX2l0ZXJhdGUocyxuLGkpKTotMT09PW4mJnRoaXMuX2l0ZXJhdGUocywwLGkpLHRoaXN9Zm9yRWFjaEZyb20odCxlKXtsZXQgcz10aGlzLl9zZWFyY2godCk7Zm9yKDtzPj0wJiZ0aGlzLl90aW1lbGluZVtzXS50aW1lPj10OylzLS07cmV0dXJuIHRoaXMuX2l0ZXJhdGUoZSxzKzEpLHRoaXN9Zm9yRWFjaEF0VGltZSh0LGUpe2NvbnN0IHM9dGhpcy5fc2VhcmNoKHQpO2lmKC0xIT09cyYmSWkodGhpcy5fdGltZWxpbmVbc10udGltZSx0KSl7bGV0IG49cztmb3IobGV0IGU9cztlPj0wJiZJaSh0aGlzLl90aW1lbGluZVtlXS50aW1lLHQpO2UtLSluPWU7dGhpcy5faXRlcmF0ZSh0PT57ZSh0KX0sbixzKX1yZXR1cm4gdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl90aW1lbGluZT1bXSx0aGlzfX1jb25zdCBQaT1bXTtmdW5jdGlvbiBqaSh0KXtQaS5wdXNoKHQpfWNvbnN0IExpPVtdO2Z1bmN0aW9uIHppKHQpe0xpLnB1c2godCl9Y2xhc3MgQmkgZXh0ZW5kcyBFaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPVwiRW1pdHRlclwifW9uKHQsZSl7cmV0dXJuIHQuc3BsaXQoL1xcVysvKS5mb3JFYWNoKHQ9PnthaSh0aGlzLl9ldmVudHMpJiYodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMuaGFzT3duUHJvcGVydHkodCl8fCh0aGlzLl9ldmVudHNbdF09W10pLHRoaXMuX2V2ZW50c1t0XS5wdXNoKGUpfSksdGhpc31vbmNlKHQsZSl7Y29uc3Qgcz0oLi4ubik9PntlKC4uLm4pLHRoaXMub2ZmKHQscyl9O3JldHVybiB0aGlzLm9uKHQscyksdGhpc31vZmYodCxlKXtyZXR1cm4gdC5zcGxpdCgvXFxXKy8pLmZvckVhY2gocz0+e2lmKGFpKHRoaXMuX2V2ZW50cykmJih0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0KSlpZihhaShlKSl0aGlzLl9ldmVudHNbdF09W107ZWxzZXtjb25zdCBzPXRoaXMuX2V2ZW50c1t0XTtmb3IobGV0IHQ9cy5sZW5ndGgtMTt0Pj0wO3QtLSlzW3RdPT09ZSYmcy5zcGxpY2UodCwxKX19KSx0aGlzfWVtaXQodCwuLi5lKXtpZih0aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0KSl7Y29uc3Qgcz10aGlzLl9ldmVudHNbdF0uc2xpY2UoMCk7Zm9yKGxldCB0PTAsbj1zLmxlbmd0aDt0PG47dCsrKXNbdF0uYXBwbHkodGhpcyxlKX1yZXR1cm4gdGhpc31zdGF0aWMgbWl4aW4odCl7W1wib25cIixcIm9uY2VcIixcIm9mZlwiLFwiZW1pdFwiXS5mb3JFYWNoKGU9Pntjb25zdCBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQmkucHJvdG90eXBlLGUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxlLHMpfSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZXZlbnRzPXZvaWQgMCx0aGlzfX1jbGFzcyBXaSBleHRlbmRzIEJpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmlzT2ZmbGluZT0hMX10b0pTT04oKXtyZXR1cm57fX19Y2xhc3MgR2kgZXh0ZW5kcyBXaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5uYW1lPVwiQ29udGV4dFwiLHRoaXMuX2NvbnN0YW50cz1uZXcgTWFwLHRoaXMuX3RpbWVvdXRzPW5ldyBOaSx0aGlzLl90aW1lb3V0SWRzPTAsdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5pc09mZmxpbmU9ITEsdGhpcy5fd29ya2xldE1vZHVsZXM9bmV3IE1hcDtjb25zdCB0PURpKEdpLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImNvbnRleHRcIl0pO3QuY29udGV4dD90aGlzLl9jb250ZXh0PXQuY29udGV4dDp0aGlzLl9jb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQ24odCl9KHtsYXRlbmN5SGludDp0LmxhdGVuY3lIaW50fSksdGhpcy5fdGlja2VyPW5ldyB4aSh0aGlzLmVtaXQuYmluZCh0aGlzLFwidGlja1wiKSx0LmNsb2NrU291cmNlLHQudXBkYXRlSW50ZXJ2YWwpLHRoaXMub24oXCJ0aWNrXCIsdGhpcy5fdGltZW91dExvb3AuYmluZCh0aGlzKSksdGhpcy5fY29udGV4dC5vbnN0YXRlY2hhbmdlPSgpPT57dGhpcy5lbWl0KFwic3RhdGVjaGFuZ2VcIix0aGlzLnN0YXRlKX0sdGhpcy5fc2V0TGF0ZW5jeUhpbnQodC5sYXRlbmN5SGludCksdGhpcy5sb29rQWhlYWQ9dC5sb29rQWhlYWR9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJue2Nsb2NrU291cmNlOlwid29ya2VyXCIsbGF0ZW5jeUhpbnQ6XCJpbnRlcmFjdGl2ZVwiLGxvb2tBaGVhZDouMSx1cGRhdGVJbnRlcnZhbDouMDV9fWluaXRpYWxpemUoKXt2YXIgdDtyZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWR8fCh0PXRoaXMsUGkuZm9yRWFjaChlPT5lKHQpKSx0aGlzLl9pbml0aWFsaXplZD0hMCksdGhpc31jcmVhdGVBbmFseXNlcigpe3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCl9Y3JlYXRlT3NjaWxsYXRvcigpe3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKX1jcmVhdGVCdWZmZXJTb3VyY2UoKXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKX1jcmVhdGVCaXF1YWRGaWx0ZXIoKXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKX1jcmVhdGVCdWZmZXIodCxlLHMpe3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUJ1ZmZlcih0LGUscyl9Y3JlYXRlQ2hhbm5lbE1lcmdlcih0KXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVDaGFubmVsTWVyZ2VyKHQpfWNyZWF0ZUNoYW5uZWxTcGxpdHRlcih0KXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVDaGFubmVsU3BsaXR0ZXIodCl9Y3JlYXRlQ29uc3RhbnRTb3VyY2UoKXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVDb25zdGFudFNvdXJjZSgpfWNyZWF0ZUNvbnZvbHZlcigpe3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpfWNyZWF0ZURlbGF5KHQpe3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZURlbGF5KHQpfWNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvcigpe3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpfWNyZWF0ZUdhaW4oKXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVHYWluKCl9Y3JlYXRlSUlSRmlsdGVyKHQsZSl7cmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlSUlSRmlsdGVyKHQsZSl9Y3JlYXRlUGFubmVyKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlUGFubmVyKCl9Y3JlYXRlUGVyaW9kaWNXYXZlKHQsZSxzKXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVQZXJpb2RpY1dhdmUodCxlLHMpfWNyZWF0ZVN0ZXJlb1Bhbm5lcigpe3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpfWNyZWF0ZVdhdmVTaGFwZXIoKXtyZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVXYXZlU2hhcGVyKCl9Y3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCl7dGkoU2kodGhpcy5fY29udGV4dCksXCJOb3QgYXZhaWxhYmxlIGlmIE9mZmxpbmVBdWRpb0NvbnRleHRcIik7cmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCl9Y3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHQpe3RpKFNpKHRoaXMuX2NvbnRleHQpLFwiTm90IGF2YWlsYWJsZSBpZiBPZmZsaW5lQXVkaW9Db250ZXh0XCIpO3JldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0KX1jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCl7dGkoU2kodGhpcy5fY29udGV4dCksXCJOb3QgYXZhaWxhYmxlIGlmIE9mZmxpbmVBdWRpb0NvbnRleHRcIik7cmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpfWRlY29kZUF1ZGlvRGF0YSh0KXtyZXR1cm4gdGhpcy5fY29udGV4dC5kZWNvZGVBdWRpb0RhdGEodCl9Z2V0IGN1cnJlbnRUaW1lKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQuY3VycmVudFRpbWV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQuc3RhdGV9Z2V0IHNhbXBsZVJhdGUoKXtyZXR1cm4gdGhpcy5fY29udGV4dC5zYW1wbGVSYXRlfWdldCBsaXN0ZW5lcigpe3JldHVybiB0aGlzLmluaXRpYWxpemUoKSx0aGlzLl9saXN0ZW5lcn1zZXQgbGlzdGVuZXIodCl7dGkoIXRoaXMuX2luaXRpYWxpemVkLFwiVGhlIGxpc3RlbmVyIGNhbm5vdCBiZSBzZXQgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uXCIpLHRoaXMuX2xpc3RlbmVyPXR9Z2V0IHRyYW5zcG9ydCgpe3JldHVybiB0aGlzLmluaXRpYWxpemUoKSx0aGlzLl90cmFuc3BvcnR9c2V0IHRyYW5zcG9ydCh0KXt0aSghdGhpcy5faW5pdGlhbGl6ZWQsXCJUaGUgdHJhbnNwb3J0IGNhbm5vdCBiZSBzZXQgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uXCIpLHRoaXMuX3RyYW5zcG9ydD10fWdldCBkcmF3KCl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuX2RyYXd9c2V0IGRyYXcodCl7dGkoIXRoaXMuX2luaXRpYWxpemVkLFwiRHJhdyBjYW5ub3QgYmUgc2V0IGFmdGVyIGluaXRpYWxpemF0aW9uLlwiKSx0aGlzLl9kcmF3PXR9Z2V0IGRlc3RpbmF0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuX2Rlc3RpbmF0aW9ufXNldCBkZXN0aW5hdGlvbih0KXt0aSghdGhpcy5faW5pdGlhbGl6ZWQsXCJUaGUgZGVzdGluYXRpb24gY2Fubm90IGJlIHNldCBhZnRlciBpbml0aWFsaXphdGlvbi5cIiksdGhpcy5fZGVzdGluYXRpb249dH1jcmVhdGVBdWRpb1dvcmtsZXROb2RlKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdGkoY2koem4pLFwiVGhpcyBub2RlIG9ubHkgd29ya3MgaW4gYSBzZWN1cmUgY29udGV4dCAoaHR0cHMgb3IgbG9jYWxob3N0KVwiKSxuZXcgem4odCxlLHMpfVxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovKHRoaXMucmF3Q29udGV4dCx0LGUpfWFkZEF1ZGlvV29ya2xldE1vZHVsZSh0LGUpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RpKGNpKHRoaXMucmF3Q29udGV4dC5hdWRpb1dvcmtsZXQpLFwiQXVkaW9Xb3JrbGV0Tm9kZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiBhIHNlY3VyZSBjb250ZXh0IChodHRwcyBvciBsb2NhbGhvc3QpXCIpLHRoaXMuX3dvcmtsZXRNb2R1bGVzLmhhcyhlKXx8dGhpcy5fd29ya2xldE1vZHVsZXMuc2V0KGUsdGhpcy5yYXdDb250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUodCkpLHlpZWxkIHRoaXMuX3dvcmtsZXRNb2R1bGVzLmdldChlKX0pKX13b3JrbGV0c0FyZVJlYWR5KCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD1bXTt0aGlzLl93b3JrbGV0TW9kdWxlcy5mb3JFYWNoKGU9PnQucHVzaChlKSkseWllbGQgUHJvbWlzZS5hbGwodCl9KSl9Z2V0IHVwZGF0ZUludGVydmFsKCl7cmV0dXJuIHRoaXMuX3RpY2tlci51cGRhdGVJbnRlcnZhbH1zZXQgdXBkYXRlSW50ZXJ2YWwodCl7dGhpcy5fdGlja2VyLnVwZGF0ZUludGVydmFsPXR9Z2V0IGNsb2NrU291cmNlKCl7cmV0dXJuIHRoaXMuX3RpY2tlci50eXBlfXNldCBjbG9ja1NvdXJjZSh0KXt0aGlzLl90aWNrZXIudHlwZT10fWdldCBsYXRlbmN5SGludCgpe3JldHVybiB0aGlzLl9sYXRlbmN5SGludH1fc2V0TGF0ZW5jeUhpbnQodCl7bGV0IGU9MDtpZih0aGlzLl9sYXRlbmN5SGludD10LGZpKHQpKXN3aXRjaCh0KXtjYXNlXCJpbnRlcmFjdGl2ZVwiOmU9LjE7YnJlYWs7Y2FzZVwicGxheWJhY2tcIjplPS41O2JyZWFrO2Nhc2VcImJhbGFuY2VkXCI6ZT0uMjV9dGhpcy5sb29rQWhlYWQ9ZSx0aGlzLnVwZGF0ZUludGVydmFsPWUvMn1nZXQgcmF3Q29udGV4dCgpe3JldHVybiB0aGlzLl9jb250ZXh0fW5vdygpe3JldHVybiB0aGlzLl9jb250ZXh0LmN1cnJlbnRUaW1lK3RoaXMubG9va0FoZWFkfWltbWVkaWF0ZSgpe3JldHVybiB0aGlzLl9jb250ZXh0LmN1cnJlbnRUaW1lfXJlc3VtZSgpe3JldHVybiBTaSh0aGlzLl9jb250ZXh0KT90aGlzLl9jb250ZXh0LnJlc3VtZSgpOlByb21pc2UucmVzb2x2ZSgpfWNsb3NlKCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQ7U2kodGhpcy5fY29udGV4dCkmJih5aWVsZCB0aGlzLl9jb250ZXh0LmNsb3NlKCkpLHRoaXMuX2luaXRpYWxpemVkJiYodD10aGlzLExpLmZvckVhY2goZT0+ZSh0KSkpfSkpfWdldENvbnN0YW50KHQpe2lmKHRoaXMuX2NvbnN0YW50cy5oYXModCkpcmV0dXJuIHRoaXMuX2NvbnN0YW50cy5nZXQodCk7e2NvbnN0IGU9dGhpcy5fY29udGV4dC5jcmVhdGVCdWZmZXIoMSwxMjgsdGhpcy5fY29udGV4dC5zYW1wbGVSYXRlKSxzPWUuZ2V0Q2hhbm5lbERhdGEoMCk7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspc1tlXT10O2NvbnN0IG49dGhpcy5fY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gbi5jaGFubmVsQ291bnQ9MSxuLmNoYW5uZWxDb3VudE1vZGU9XCJleHBsaWNpdFwiLG4uYnVmZmVyPWUsbi5sb29wPSEwLG4uc3RhcnQoMCksdGhpcy5fY29uc3RhbnRzLnNldCh0LG4pLG59fWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3RpY2tlci5kaXNwb3NlKCksdGhpcy5fdGltZW91dHMuZGlzcG9zZSgpLE9iamVjdC5rZXlzKHRoaXMuX2NvbnN0YW50cykubWFwKHQ9PnRoaXMuX2NvbnN0YW50c1t0XS5kaXNjb25uZWN0KCkpLHRoaXN9X3RpbWVvdXRMb29wKCl7Y29uc3QgdD10aGlzLm5vdygpO2xldCBlPXRoaXMuX3RpbWVvdXRzLnBlZWsoKTtmb3IoO3RoaXMuX3RpbWVvdXRzLmxlbmd0aCYmZSYmZS50aW1lPD10OyllLmNhbGxiYWNrKCksdGhpcy5fdGltZW91dHMuc2hpZnQoKSxlPXRoaXMuX3RpbWVvdXRzLnBlZWsoKX1zZXRUaW1lb3V0KHQsZSl7dGhpcy5fdGltZW91dElkcysrO2NvbnN0IHM9dGhpcy5ub3coKTtyZXR1cm4gdGhpcy5fdGltZW91dHMuYWRkKHtjYWxsYmFjazp0LGlkOnRoaXMuX3RpbWVvdXRJZHMsdGltZTpzK2V9KSx0aGlzLl90aW1lb3V0SWRzfWNsZWFyVGltZW91dCh0KXtyZXR1cm4gdGhpcy5fdGltZW91dHMuZm9yRWFjaChlPT57ZS5pZD09PXQmJnRoaXMuX3RpbWVvdXRzLnJlbW92ZShlKX0pLHRoaXN9Y2xlYXJJbnRlcnZhbCh0KXtyZXR1cm4gdGhpcy5jbGVhclRpbWVvdXQodCl9c2V0SW50ZXJ2YWwodCxlKXtjb25zdCBzPSsrdGhpcy5fdGltZW91dElkcyxuPSgpPT57Y29uc3QgaT10aGlzLm5vdygpO3RoaXMuX3RpbWVvdXRzLmFkZCh7Y2FsbGJhY2s6KCk9Pnt0KCksbigpfSxpZDpzLHRpbWU6aStlfSl9O3JldHVybiBuKCksc319ZnVuY3Rpb24gVWkodCxlKXtkaShlKT9lLmZvckVhY2goZT0+VWkodCxlKSk6T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCx3cml0YWJsZTohMX0pfWZ1bmN0aW9uIFFpKHQsZSl7ZGkoZSk/ZS5mb3JFYWNoKGU9PlFpKHQsZSkpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3dyaXRhYmxlOiEwfSl9Y29uc3QgWmk9KCk9Pnt9O2NsYXNzIFhpIGV4dGVuZHMgRWl7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMubmFtZT1cIlRvbmVBdWRpb0J1ZmZlclwiLHRoaXMub25sb2FkPVppO2NvbnN0IHQ9RGkoWGkuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widXJsXCIsXCJvbmxvYWRcIixcIm9uZXJyb3JcIl0pO3RoaXMucmV2ZXJzZT10LnJldmVyc2UsdGhpcy5vbmxvYWQ9dC5vbmxvYWQsdC51cmwmJmtpKHQudXJsKXx8dC51cmwgaW5zdGFuY2VvZiBYaT90aGlzLnNldCh0LnVybCk6ZmkodC51cmwpJiZ0aGlzLmxvYWQodC51cmwpLmNhdGNoKHQub25lcnJvcil9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJue29uZXJyb3I6Wmksb25sb2FkOlppLHJldmVyc2U6ITF9fWdldCBzYW1wbGVSYXRlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcj90aGlzLl9idWZmZXIuc2FtcGxlUmF0ZTpKaSgpLnNhbXBsZVJhdGV9c2V0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgWGk/dC5sb2FkZWQ/dGhpcy5fYnVmZmVyPXQuZ2V0KCk6dC5vbmxvYWQ9KCk9Pnt0aGlzLnNldCh0KSx0aGlzLm9ubG9hZCh0aGlzKX06dGhpcy5fYnVmZmVyPXQsdGhpcy5fcmV2ZXJzZWQmJnRoaXMuX3JldmVyc2UoKSx0aGlzfWdldCgpe3JldHVybiB0aGlzLl9idWZmZXJ9bG9hZCh0KXtyZXR1cm4geWkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBlPVhpLmxvYWQodCkudGhlbih0PT57dGhpcy5zZXQodCksdGhpcy5vbmxvYWQodGhpcyl9KTtYaS5kb3dubG9hZHMucHVzaChlKTt0cnl7eWllbGQgZX1maW5hbGx5e2NvbnN0IHQ9WGkuZG93bmxvYWRzLmluZGV4T2YoZSk7WGkuZG93bmxvYWRzLnNwbGljZSh0LDEpfXJldHVybiB0aGlzfSkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2J1ZmZlcj12b2lkIDAsdGhpc31mcm9tQXJyYXkodCl7Y29uc3QgZT1kaSh0KSYmdFswXS5sZW5ndGg+MCxzPWU/dC5sZW5ndGg6MSxuPWU/dFswXS5sZW5ndGg6dC5sZW5ndGgsaT1KaSgpLG89aS5jcmVhdGVCdWZmZXIocyxuLGkuc2FtcGxlUmF0ZSkscj1lfHwxIT09cz90Olt0XTtmb3IobGV0IHQ9MDt0PHM7dCsrKW8uY29weVRvQ2hhbm5lbChyW3RdLHQpO3JldHVybiB0aGlzLl9idWZmZXI9byx0aGlzfXRvTW9ubyh0KXtpZih1aSh0KSl0aGlzLmZyb21BcnJheSh0aGlzLnRvQXJyYXkodCkpO2Vsc2V7bGV0IHQ9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmxlbmd0aCk7Y29uc3QgZT10aGlzLm51bWJlck9mQ2hhbm5lbHM7Zm9yKGxldCBzPTA7czxlO3MrKyl7Y29uc3QgZT10aGlzLnRvQXJyYXkocyk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspdFtzXSs9ZVtzXX10PXQubWFwKHQ9PnQvZSksdGhpcy5mcm9tQXJyYXkodCl9cmV0dXJuIHRoaXN9dG9BcnJheSh0KXtpZih1aSh0KSlyZXR1cm4gdGhpcy5nZXRDaGFubmVsRGF0YSh0KTtpZigxPT09dGhpcy5udW1iZXJPZkNoYW5uZWxzKXJldHVybiB0aGlzLnRvQXJyYXkoMCk7e2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTx0aGlzLm51bWJlck9mQ2hhbm5lbHM7ZSsrKXRbZV09dGhpcy5nZXRDaGFubmVsRGF0YShlKTtyZXR1cm4gdH19Z2V0Q2hhbm5lbERhdGEodCl7cmV0dXJuIHRoaXMuX2J1ZmZlcj90aGlzLl9idWZmZXIuZ2V0Q2hhbm5lbERhdGEodCk6bmV3IEZsb2F0MzJBcnJheSgwKX1zbGljZSh0LGU9dGhpcy5kdXJhdGlvbil7Y29uc3Qgcz1NYXRoLmZsb29yKHQqdGhpcy5zYW1wbGVSYXRlKSxuPU1hdGguZmxvb3IoZSp0aGlzLnNhbXBsZVJhdGUpO3RpKHM8bixcIlRoZSBzdGFydCB0aW1lIG11c3QgYmUgbGVzcyB0aGFuIHRoZSBlbmQgdGltZVwiKTtjb25zdCBpPW4tcyxvPUppKCkuY3JlYXRlQnVmZmVyKHRoaXMubnVtYmVyT2ZDaGFubmVscyxpLHRoaXMuc2FtcGxlUmF0ZSk7Zm9yKGxldCB0PTA7dDx0aGlzLm51bWJlck9mQ2hhbm5lbHM7dCsrKW8uY29weVRvQ2hhbm5lbCh0aGlzLmdldENoYW5uZWxEYXRhKHQpLnN1YmFycmF5KHMsbiksdCk7cmV0dXJuIG5ldyBYaShvKX1fcmV2ZXJzZSgpe2lmKHRoaXMubG9hZGVkKWZvcihsZXQgdD0wO3Q8dGhpcy5udW1iZXJPZkNoYW5uZWxzO3QrKyl0aGlzLmdldENoYW5uZWxEYXRhKHQpLnJldmVyc2UoKTtyZXR1cm4gdGhpc31nZXQgbG9hZGVkKCl7cmV0dXJuIHRoaXMubGVuZ3RoPjB9Z2V0IGR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcj90aGlzLl9idWZmZXIuZHVyYXRpb246MH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcj90aGlzLl9idWZmZXIubGVuZ3RoOjB9Z2V0IG51bWJlck9mQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5fYnVmZmVyP3RoaXMuX2J1ZmZlci5udW1iZXJPZkNoYW5uZWxzOjB9Z2V0IHJldmVyc2UoKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZWR9c2V0IHJldmVyc2UodCl7dGhpcy5fcmV2ZXJzZWQhPT10JiYodGhpcy5fcmV2ZXJzZWQ9dCx0aGlzLl9yZXZlcnNlKCkpfXN0YXRpYyBmcm9tQXJyYXkodCl7cmV0dXJuKG5ldyBYaSkuZnJvbUFycmF5KHQpfXN0YXRpYyBmcm9tVXJsKHQpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IGU9bmV3IFhpO3JldHVybiB5aWVsZCBlLmxvYWQodCl9KSl9c3RhdGljIGxvYWQodCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgZT10Lm1hdGNoKC9cXFsoW15cXF1cXFtdK1xcfC4rKVxcXSQvKTtpZihlKXtjb25zdCBzPWVbMV0uc3BsaXQoXCJ8XCIpO2xldCBuPXNbMF07Zm9yKGNvbnN0IHQgb2YgcylpZihYaS5zdXBwb3J0c1R5cGUodCkpe249dDticmVha310PXQucmVwbGFjZShlWzBdLG4pfWNvbnN0IHM9XCJcIj09PVhpLmJhc2VVcmx8fFhpLmJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpP1hpLmJhc2VVcmw6WGkuYmFzZVVybCtcIi9cIixuPXlpZWxkIGZldGNoKHMrdCk7aWYoIW4ub2spdGhyb3cgbmV3IEVycm9yKFwiY291bGQgbm90IGxvYWQgdXJsOiBcIit0KTtjb25zdCBpPXlpZWxkIG4uYXJyYXlCdWZmZXIoKTtyZXR1cm4geWllbGQgSmkoKS5kZWNvZGVBdWRpb0RhdGEoaSl9KSl9c3RhdGljIHN1cHBvcnRzVHlwZSh0KXtjb25zdCBlPXQuc3BsaXQoXCIuXCIpLHM9ZVtlLmxlbmd0aC0xXTtyZXR1cm5cIlwiIT09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpLmNhblBsYXlUeXBlKFwiYXVkaW8vXCIrcyl9c3RhdGljIGxvYWRlZCgpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2Zvcih5aWVsZCBQcm9taXNlLnJlc29sdmUoKTtYaS5kb3dubG9hZHMubGVuZ3RoOyl5aWVsZCBYaS5kb3dubG9hZHNbMF19KSl9fVhpLmJhc2VVcmw9XCJcIixYaS5kb3dubG9hZHM9W107Y2xhc3MgWWkgZXh0ZW5kcyBHaXtjb25zdHJ1Y3Rvcigpe3ZhciB0LGUscztzdXBlcih7Y2xvY2tTb3VyY2U6XCJvZmZsaW5lXCIsY29udGV4dDpUaShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXToodD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0qYXJndW1lbnRzWzJdLHM9YXJndW1lbnRzWzJdLG5ldyBHbih0LGUscykpLGxvb2tBaGVhZDowLHVwZGF0ZUludGVydmFsOlRpKGFyZ3VtZW50c1swXSk/MTI4L2FyZ3VtZW50c1swXS5zYW1wbGVSYXRlOjEyOC9hcmd1bWVudHNbMl19KSx0aGlzLm5hbWU9XCJPZmZsaW5lQ29udGV4dFwiLHRoaXMuX2N1cnJlbnRUaW1lPTAsdGhpcy5pc09mZmxpbmU9ITAsdGhpcy5fZHVyYXRpb249VGkoYXJndW1lbnRzWzBdKT9hcmd1bWVudHNbMF0ubGVuZ3RoL2FyZ3VtZW50c1swXS5zYW1wbGVSYXRlOmFyZ3VtZW50c1sxXX1ub3coKXtyZXR1cm4gdGhpcy5fY3VycmVudFRpbWV9Z2V0IGN1cnJlbnRUaW1lKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUaW1lfV9yZW5kZXJDbG9jayh0KXtyZXR1cm4geWkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtsZXQgZT0wO2Zvcig7dGhpcy5fZHVyYXRpb24tdGhpcy5fY3VycmVudFRpbWU+PTA7KXt0aGlzLmVtaXQoXCJ0aWNrXCIpLHRoaXMuX2N1cnJlbnRUaW1lKz0xMjgvdGhpcy5zYW1wbGVSYXRlLGUrKztjb25zdCBzPU1hdGguZmxvb3IodGhpcy5zYW1wbGVSYXRlLzEyOCk7dCYmZSVzPT0wJiYoeWllbGQgbmV3IFByb21pc2UodD0+c2V0VGltZW91dCh0LDEpKSl9fSkpfXJlbmRlcih0PSEwKXtyZXR1cm4geWkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt5aWVsZCB0aGlzLndvcmtsZXRzQXJlUmVhZHkoKSx5aWVsZCB0aGlzLl9yZW5kZXJDbG9jayh0KTtjb25zdCBlPXlpZWxkIHRoaXMuX2NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKTtyZXR1cm4gbmV3IFhpKGUpfSkpfWNsb3NlKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfX1jb25zdCBIaT1uZXcgY2xhc3MgZXh0ZW5kcyBXaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5sb29rQWhlYWQ9MCx0aGlzLmxhdGVuY3lIaW50PTAsdGhpcy5pc09mZmxpbmU9ITF9Y3JlYXRlQW5hbHlzZXIoKXtyZXR1cm57fX1jcmVhdGVPc2NpbGxhdG9yKCl7cmV0dXJue319Y3JlYXRlQnVmZmVyU291cmNlKCl7cmV0dXJue319Y3JlYXRlQmlxdWFkRmlsdGVyKCl7cmV0dXJue319Y3JlYXRlQnVmZmVyKHQsZSxzKXtyZXR1cm57fX1jcmVhdGVDaGFubmVsTWVyZ2VyKHQpe3JldHVybnt9fWNyZWF0ZUNoYW5uZWxTcGxpdHRlcih0KXtyZXR1cm57fX1jcmVhdGVDb25zdGFudFNvdXJjZSgpe3JldHVybnt9fWNyZWF0ZUNvbnZvbHZlcigpe3JldHVybnt9fWNyZWF0ZURlbGF5KHQpe3JldHVybnt9fWNyZWF0ZUR5bmFtaWNzQ29tcHJlc3Nvcigpe3JldHVybnt9fWNyZWF0ZUdhaW4oKXtyZXR1cm57fX1jcmVhdGVJSVJGaWx0ZXIodCxlKXtyZXR1cm57fX1jcmVhdGVQYW5uZXIoKXtyZXR1cm57fX1jcmVhdGVQZXJpb2RpY1dhdmUodCxlLHMpe3JldHVybnt9fWNyZWF0ZVN0ZXJlb1Bhbm5lcigpe3JldHVybnt9fWNyZWF0ZVdhdmVTaGFwZXIoKXtyZXR1cm57fX1jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0KXtyZXR1cm57fX1jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodCl7cmV0dXJue319Y3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpe3JldHVybnt9fWRlY29kZUF1ZGlvRGF0YSh0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KX1jcmVhdGVBdWRpb1dvcmtsZXROb2RlKHQsZSl7cmV0dXJue319Z2V0IHJhd0NvbnRleHQoKXtyZXR1cm57fX1hZGRBdWRpb1dvcmtsZXRNb2R1bGUodCxlKXtyZXR1cm4geWkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSl9cmVzdW1lKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfXNldFRpbWVvdXQodCxlKXtyZXR1cm4gMH1jbGVhclRpbWVvdXQodCl7cmV0dXJuIHRoaXN9c2V0SW50ZXJ2YWwodCxlKXtyZXR1cm4gMH1jbGVhckludGVydmFsKHQpe3JldHVybiB0aGlzfWdldENvbnN0YW50KHQpe3JldHVybnt9fWdldCBjdXJyZW50VGltZSgpe3JldHVybiAwfWdldCBzdGF0ZSgpe3JldHVybnt9fWdldCBzYW1wbGVSYXRlKCl7cmV0dXJuIDB9Z2V0IGxpc3RlbmVyKCl7cmV0dXJue319Z2V0IHRyYW5zcG9ydCgpe3JldHVybnt9fWdldCBkcmF3KCl7cmV0dXJue319c2V0IGRyYXcodCl7fWdldCBkZXN0aW5hdGlvbigpe3JldHVybnt9fXNldCBkZXN0aW5hdGlvbih0KXt9bm93KCl7cmV0dXJuIDB9aW1tZWRpYXRlKCl7cmV0dXJuIDB9fTtsZXQgJGk9SGk7ZnVuY3Rpb24gSmkoKXtyZXR1cm4gJGk9PT1IaSYmZ2kmJktpKG5ldyBHaSksJGl9ZnVuY3Rpb24gS2kodCl7JGk9U2kodCk/bmV3IEdpKHQpOlRpKHQpP25ldyBZaSh0KTp0fWZ1bmN0aW9uIHRvKCl7cmV0dXJuICRpLnJlc3VtZSgpfWlmKG1pJiYhbWkuVE9ORV9TSUxFTkNFX0xPR0dJTkcpe2xldCB0PVwidlwiO1wiZGV2XCI9PT1vJiYodD1cIlwiKTtjb25zdCBlPWAgKiBUb25lLmpzICR7dH0ke299ICogYDtjb25zb2xlLmxvZyhcIiVjXCIrZSxcImJhY2tncm91bmQ6ICMwMDA7IGNvbG9yOiAjZmZmXCIpfWZ1bmN0aW9uIGVvKHQpe3JldHVybiBNYXRoLnBvdygxMCx0LzIwKX1mdW5jdGlvbiBzbyh0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5MTjEwKjIwfWZ1bmN0aW9uIG5vKHQpe3JldHVybiBNYXRoLnBvdygyLHQvMTIpfWxldCBpbz00NDA7ZnVuY3Rpb24gb28odCl7cmV0dXJuIE1hdGgucm91bmQocm8odCkpfWZ1bmN0aW9uIHJvKHQpe3JldHVybiA2OSsxMipNYXRoLmxvZzIodC9pbyl9ZnVuY3Rpb24gYW8odCl7cmV0dXJuIGlvKk1hdGgucG93KDIsKHQtNjkpLzEyKX1jbGFzcyBjbyBleHRlbmRzIEVpe2NvbnN0cnVjdG9yKHQsZSxzKXtzdXBlcigpLHRoaXMuZGVmYXVsdFVuaXRzPVwic1wiLHRoaXMuX3ZhbD1lLHRoaXMuX3VuaXRzPXMsdGhpcy5jb250ZXh0PXQsdGhpcy5fZXhwcmVzc2lvbnM9dGhpcy5fZ2V0RXhwcmVzc2lvbnMoKX1fZ2V0RXhwcmVzc2lvbnMoKXtyZXR1cm57aHo6e21ldGhvZDp0PT50aGlzLl9mcmVxdWVuY3lUb1VuaXRzKHBhcnNlRmxvYXQodCkpLHJlZ2V4cDovXihcXGQrKD86XFwuXFxkKyk/KWh6JC9pfSxpOnttZXRob2Q6dD0+dGhpcy5fdGlja3NUb1VuaXRzKHBhcnNlSW50KHQsMTApKSxyZWdleHA6L14oXFxkKylpJC9pfSxtOnttZXRob2Q6dD0+dGhpcy5fYmVhdHNUb1VuaXRzKHBhcnNlSW50KHQsMTApKnRoaXMuX2dldFRpbWVTaWduYXR1cmUoKSkscmVnZXhwOi9eKFxcZCspbSQvaX0sbjp7bWV0aG9kOih0LGUpPT57Y29uc3Qgcz1wYXJzZUludCh0LDEwKSxuPVwiLlwiPT09ZT8xLjU6MTtyZXR1cm4gMT09PXM/dGhpcy5fYmVhdHNUb1VuaXRzKHRoaXMuX2dldFRpbWVTaWduYXR1cmUoKSkqbjp0aGlzLl9iZWF0c1RvVW5pdHMoNC9zKSpufSxyZWdleHA6L14oXFxkKyluKFxcLj8pJC9pfSxudW1iZXI6e21ldGhvZDp0PT50aGlzLl9leHByZXNzaW9uc1t0aGlzLmRlZmF1bHRVbml0c10ubWV0aG9kLmNhbGwodGhpcyx0KSxyZWdleHA6L14oXFxkKyg/OlxcLlxcZCspPykkL30sczp7bWV0aG9kOnQ9PnRoaXMuX3NlY29uZHNUb1VuaXRzKHBhcnNlRmxvYXQodCkpLHJlZ2V4cDovXihcXGQrKD86XFwuXFxkKyk/KXMkL30sc2FtcGxlczp7bWV0aG9kOnQ9PnBhcnNlSW50KHQsMTApL3RoaXMuY29udGV4dC5zYW1wbGVSYXRlLHJlZ2V4cDovXihcXGQrKXNhbXBsZXMkL30sdDp7bWV0aG9kOnQ9Pntjb25zdCBlPXBhcnNlSW50KHQsMTApO3JldHVybiB0aGlzLl9iZWF0c1RvVW5pdHMoOC8oMypNYXRoLmZsb29yKGUpKSl9LHJlZ2V4cDovXihcXGQrKXQkL2l9LHRyOnttZXRob2Q6KHQsZSxzKT0+e2xldCBuPTA7cmV0dXJuIHQmJlwiMFwiIT09dCYmKG4rPXRoaXMuX2JlYXRzVG9Vbml0cyh0aGlzLl9nZXRUaW1lU2lnbmF0dXJlKCkqcGFyc2VGbG9hdCh0KSkpLGUmJlwiMFwiIT09ZSYmKG4rPXRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KGUpKSkscyYmXCIwXCIhPT1zJiYobis9dGhpcy5fYmVhdHNUb1VuaXRzKHBhcnNlRmxvYXQocykvNCkpLG59LHJlZ2V4cDovXihcXGQrKD86XFwuXFxkKyk/KTooXFxkKyg/OlxcLlxcZCspPyk6PyhcXGQrKD86XFwuXFxkKyk/KT8kL319fXZhbHVlT2YoKXtpZih0aGlzLl92YWwgaW5zdGFuY2VvZiBjbyYmdGhpcy5mcm9tVHlwZSh0aGlzLl92YWwpLGFpKHRoaXMuX3ZhbCkpcmV0dXJuIHRoaXMuX25vQXJnKCk7aWYoZmkodGhpcy5fdmFsKSYmYWkodGhpcy5fdW5pdHMpKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9leHByZXNzaW9ucylpZih0aGlzLl9leHByZXNzaW9uc1t0XS5yZWdleHAudGVzdCh0aGlzLl92YWwudHJpbSgpKSl7dGhpcy5fdW5pdHM9dDticmVha319ZWxzZSBpZihsaSh0aGlzLl92YWwpKXtsZXQgdD0wO2Zvcihjb25zdCBlIGluIHRoaXMuX3ZhbClpZihjaSh0aGlzLl92YWxbZV0pKXtjb25zdCBzPXRoaXMuX3ZhbFtlXTt0Kz1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmNvbnRleHQsZSkudmFsdWVPZigpKnN9cmV0dXJuIHR9aWYoY2kodGhpcy5fdW5pdHMpKXtjb25zdCB0PXRoaXMuX2V4cHJlc3Npb25zW3RoaXMuX3VuaXRzXSxlPXRoaXMuX3ZhbC50b1N0cmluZygpLnRyaW0oKS5tYXRjaCh0LnJlZ2V4cCk7cmV0dXJuIGU/dC5tZXRob2QuYXBwbHkodGhpcyxlLnNsaWNlKDEpKTp0Lm1ldGhvZC5jYWxsKHRoaXMsdGhpcy5fdmFsKX1yZXR1cm4gZmkodGhpcy5fdmFsKT9wYXJzZUZsb2F0KHRoaXMuX3ZhbCk6dGhpcy5fdmFsfV9mcmVxdWVuY3lUb1VuaXRzKHQpe3JldHVybiAxL3R9X2JlYXRzVG9Vbml0cyh0KXtyZXR1cm4gNjAvdGhpcy5fZ2V0QnBtKCkqdH1fc2Vjb25kc1RvVW5pdHModCl7cmV0dXJuIHR9X3RpY2tzVG9Vbml0cyh0KXtyZXR1cm4gdCp0aGlzLl9iZWF0c1RvVW5pdHMoMSkvdGhpcy5fZ2V0UFBRKCl9X25vQXJnKCl7cmV0dXJuIHRoaXMuX25vdygpfV9nZXRCcG0oKXtyZXR1cm4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5icG0udmFsdWV9X2dldFRpbWVTaWduYXR1cmUoKXtyZXR1cm4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC50aW1lU2lnbmF0dXJlfV9nZXRQUFEoKXtyZXR1cm4gdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5QUFF9ZnJvbVR5cGUodCl7c3dpdGNoKHRoaXMuX3VuaXRzPXZvaWQgMCx0aGlzLmRlZmF1bHRVbml0cyl7Y2FzZVwic1wiOnRoaXMuX3ZhbD10LnRvU2Vjb25kcygpO2JyZWFrO2Nhc2VcImlcIjp0aGlzLl92YWw9dC50b1RpY2tzKCk7YnJlYWs7Y2FzZVwiaHpcIjp0aGlzLl92YWw9dC50b0ZyZXF1ZW5jeSgpO2JyZWFrO2Nhc2VcIm1pZGlcIjp0aGlzLl92YWw9dC50b01pZGkoKX1yZXR1cm4gdGhpc310b0ZyZXF1ZW5jeSgpe3JldHVybiAxL3RoaXMudG9TZWNvbmRzKCl9dG9TYW1wbGVzKCl7cmV0dXJuIHRoaXMudG9TZWNvbmRzKCkqdGhpcy5jb250ZXh0LnNhbXBsZVJhdGV9dG9NaWxsaXNlY29uZHMoKXtyZXR1cm4gMWUzKnRoaXMudG9TZWNvbmRzKCl9fWNsYXNzIGhvIGV4dGVuZHMgY297Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMubmFtZT1cIlRpbWVDbGFzc1wifV9nZXRFeHByZXNzaW9ucygpe3JldHVybiBPYmplY3QuYXNzaWduKHN1cGVyLl9nZXRFeHByZXNzaW9ucygpLHtub3c6e21ldGhvZDp0PT50aGlzLl9ub3coKStuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmNvbnRleHQsdCkudmFsdWVPZigpLHJlZ2V4cDovXlxcKyguKykvfSxxdWFudGl6ZTp7bWV0aG9kOnQ9Pntjb25zdCBlPW5ldyBobyh0aGlzLmNvbnRleHQsdCkudmFsdWVPZigpO3JldHVybiB0aGlzLl9zZWNvbmRzVG9Vbml0cyh0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm5leHRTdWJkaXZpc2lvbihlKSl9LHJlZ2V4cDovXkAoLispL319KX1xdWFudGl6ZSh0LGU9MSl7Y29uc3Qgcz1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmNvbnRleHQsdCkudmFsdWVPZigpLG49dGhpcy52YWx1ZU9mKCk7cmV0dXJuIG4rKE1hdGgucm91bmQobi9zKSpzLW4pKmV9dG9Ob3RhdGlvbigpe2NvbnN0IHQ9dGhpcy50b1NlY29uZHMoKSxlPVtcIjFtXCJdO2ZvcihsZXQgdD0xO3Q8OTt0Kyspe2NvbnN0IHM9TWF0aC5wb3coMix0KTtlLnB1c2gocytcIm4uXCIpLGUucHVzaChzK1wiblwiKSxlLnB1c2gocytcInRcIil9ZS5wdXNoKFwiMFwiKTtsZXQgcz1lWzBdLG49bmV3IGhvKHRoaXMuY29udGV4dCxlWzBdKS50b1NlY29uZHMoKTtyZXR1cm4gZS5mb3JFYWNoKGU9Pntjb25zdCBpPW5ldyBobyh0aGlzLmNvbnRleHQsZSkudG9TZWNvbmRzKCk7TWF0aC5hYnMoaS10KTxNYXRoLmFicyhuLXQpJiYocz1lLG49aSl9KSxzfXRvQmFyc0JlYXRzU2l4dGVlbnRocygpe2NvbnN0IHQ9dGhpcy5fYmVhdHNUb1VuaXRzKDEpO2xldCBlPXRoaXMudmFsdWVPZigpL3Q7ZT1wYXJzZUZsb2F0KGUudG9GaXhlZCg0KSk7Y29uc3Qgcz1NYXRoLmZsb29yKGUvdGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpKTtsZXQgbj1lJTEqNDtlPU1hdGguZmxvb3IoZSkldGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpO2NvbnN0IGk9bi50b1N0cmluZygpO2kubGVuZ3RoPjMmJihuPXBhcnNlRmxvYXQocGFyc2VGbG9hdChpKS50b0ZpeGVkKDMpKSk7cmV0dXJuW3MsZSxuXS5qb2luKFwiOlwiKX10b1RpY2tzKCl7Y29uc3QgdD10aGlzLl9iZWF0c1RvVW5pdHMoMSksZT10aGlzLnZhbHVlT2YoKS90O3JldHVybiBNYXRoLnJvdW5kKGUqdGhpcy5fZ2V0UFBRKCkpfXRvU2Vjb25kcygpe3JldHVybiB0aGlzLnZhbHVlT2YoKX10b01pZGkoKXtyZXR1cm4gb28odGhpcy50b0ZyZXF1ZW5jeSgpKX1fbm93KCl7cmV0dXJuIHRoaXMuY29udGV4dC5ub3coKX19ZnVuY3Rpb24gdW8odCxlKXtyZXR1cm4gbmV3IGhvKEppKCksdCxlKX1jbGFzcyBsbyBleHRlbmRzIGhve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5hbWU9XCJGcmVxdWVuY3lcIix0aGlzLmRlZmF1bHRVbml0cz1cImh6XCJ9c3RhdGljIGdldCBBNCgpe3JldHVybiBpb31zdGF0aWMgc2V0IEE0KHQpeyFmdW5jdGlvbih0KXtpbz10fSh0KX1fZ2V0RXhwcmVzc2lvbnMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxzdXBlci5fZ2V0RXhwcmVzc2lvbnMoKSx7bWlkaTp7cmVnZXhwOi9eKFxcZCsoPzpcXC5cXGQrKT9taWRpKS8sbWV0aG9kKHQpe3JldHVyblwibWlkaVwiPT09dGhpcy5kZWZhdWx0VW5pdHM/dDpsby5tdG9mKHQpfX0sbm90ZTp7cmVnZXhwOi9eKFthLWddezF9KD86YnwjfHh8YmIpPykoLT9bMC05XSspL2ksbWV0aG9kKHQsZSl7Y29uc3Qgcz1wb1t0LnRvTG93ZXJDYXNlKCldKzEyKihwYXJzZUludChlLDEwKSsxKTtyZXR1cm5cIm1pZGlcIj09PXRoaXMuZGVmYXVsdFVuaXRzP3M6bG8ubXRvZihzKX19LHRyOntyZWdleHA6L14oXFxkKyg/OlxcLlxcZCspPyk6KFxcZCsoPzpcXC5cXGQrKT8pOj8oXFxkKyg/OlxcLlxcZCspPyk/LyxtZXRob2QodCxlLHMpe2xldCBuPTE7cmV0dXJuIHQmJlwiMFwiIT09dCYmKG4qPXRoaXMuX2JlYXRzVG9Vbml0cyh0aGlzLl9nZXRUaW1lU2lnbmF0dXJlKCkqcGFyc2VGbG9hdCh0KSkpLGUmJlwiMFwiIT09ZSYmKG4qPXRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KGUpKSkscyYmXCIwXCIhPT1zJiYobio9dGhpcy5fYmVhdHNUb1VuaXRzKHBhcnNlRmxvYXQocykvNCkpLG59fX0pfXRyYW5zcG9zZSh0KXtyZXR1cm4gbmV3IGxvKHRoaXMuY29udGV4dCx0aGlzLnZhbHVlT2YoKSpubyh0KSl9aGFybW9uaXplKHQpe3JldHVybiB0Lm1hcCh0PT50aGlzLnRyYW5zcG9zZSh0KSl9dG9NaWRpKCl7cmV0dXJuIG9vKHRoaXMudmFsdWVPZigpKX10b05vdGUoKXtjb25zdCB0PXRoaXMudG9GcmVxdWVuY3koKSxlPU1hdGgubG9nMih0L2xvLkE0KTtsZXQgcz1NYXRoLnJvdW5kKDEyKmUpKzU3O2NvbnN0IG49TWF0aC5mbG9vcihzLzEyKTtuPDAmJihzKz0tMTIqbik7cmV0dXJuIGZvW3MlMTJdK24udG9TdHJpbmcoKX10b1NlY29uZHMoKXtyZXR1cm4gMS9zdXBlci50b1NlY29uZHMoKX10b1RpY2tzKCl7Y29uc3QgdD10aGlzLl9iZWF0c1RvVW5pdHMoMSksZT10aGlzLnZhbHVlT2YoKS90O3JldHVybiBNYXRoLmZsb29yKGUqdGhpcy5fZ2V0UFBRKCkpfV9ub0FyZygpe3JldHVybiAwfV9mcmVxdWVuY3lUb1VuaXRzKHQpe3JldHVybiB0fV90aWNrc1RvVW5pdHModCl7cmV0dXJuIDEvKDYwKnQvKHRoaXMuX2dldEJwbSgpKnRoaXMuX2dldFBQUSgpKSl9X2JlYXRzVG9Vbml0cyh0KXtyZXR1cm4gMS9zdXBlci5fYmVhdHNUb1VuaXRzKHQpfV9zZWNvbmRzVG9Vbml0cyh0KXtyZXR1cm4gMS90fXN0YXRpYyBtdG9mKHQpe3JldHVybiBhbyh0KX1zdGF0aWMgZnRvbSh0KXtyZXR1cm4gb28odCl9fWNvbnN0IHBvPXtjYmI6LTIsY2I6LTEsYzowLFwiYyNcIjoxLGN4OjIsZGJiOjAsZGI6MSxkOjIsXCJkI1wiOjMsZHg6NCxlYmI6MixlYjozLGU6NCxcImUjXCI6NSxleDo2LGZiYjozLGZiOjQsZjo1LFwiZiNcIjo2LGZ4OjcsZ2JiOjUsZ2I6NixnOjcsXCJnI1wiOjgsZ3g6OSxhYmI6NyxhYjo4LGE6OSxcImEjXCI6MTAsYXg6MTEsYmJiOjksYmI6MTAsYjoxMSxcImIjXCI6MTIsYng6MTN9LGZvPVtcIkNcIixcIkMjXCIsXCJEXCIsXCJEI1wiLFwiRVwiLFwiRlwiLFwiRiNcIixcIkdcIixcIkcjXCIsXCJBXCIsXCJBI1wiLFwiQlwiXTtmdW5jdGlvbiBfbyh0LGUpe3JldHVybiBuZXcgbG8oSmkoKSx0LGUpfWNsYXNzIG1vIGV4dGVuZHMgaG97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMubmFtZT1cIlRyYW5zcG9ydFRpbWVcIn1fbm93KCl7cmV0dXJuIHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2Vjb25kc319ZnVuY3Rpb24gZ28odCxlKXtyZXR1cm4gbmV3IG1vKEppKCksdCxlKX1jbGFzcyB2byBleHRlbmRzIEVpe2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtjb25zdCB0PURpKHZvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImNvbnRleHRcIl0pO3RoaXMuZGVmYXVsdENvbnRleHQ/dGhpcy5jb250ZXh0PXRoaXMuZGVmYXVsdENvbnRleHQ6dGhpcy5jb250ZXh0PXQuY29udGV4dH1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm57Y29udGV4dDpKaSgpfX1ub3coKXtyZXR1cm4gdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lK3RoaXMuY29udGV4dC5sb29rQWhlYWR9aW1tZWRpYXRlKCl7cmV0dXJuIHRoaXMuY29udGV4dC5jdXJyZW50VGltZX1nZXQgc2FtcGxlVGltZSgpe3JldHVybiAxL3RoaXMuY29udGV4dC5zYW1wbGVSYXRlfWdldCBibG9ja1RpbWUoKXtyZXR1cm4gMTI4L3RoaXMuY29udGV4dC5zYW1wbGVSYXRlfXRvU2Vjb25kcyh0KXtyZXR1cm4gbmV3IGhvKHRoaXMuY29udGV4dCx0KS50b1NlY29uZHMoKX10b0ZyZXF1ZW5jeSh0KXtyZXR1cm4gbmV3IGxvKHRoaXMuY29udGV4dCx0KS50b0ZyZXF1ZW5jeSgpfXRvVGlja3ModCl7cmV0dXJuIG5ldyBtbyh0aGlzLmNvbnRleHQsdCkudG9UaWNrcygpfV9nZXRQYXJ0aWFsUHJvcGVydGllcyh0KXtjb25zdCBlPXRoaXMuZ2V0KCk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2gocz0+e2FpKHRbc10pJiZkZWxldGUgZVtzXX0pLGV9Z2V0KCl7Y29uc3QgdD10aGlzLmNvbnN0cnVjdG9yLmdldERlZmF1bHRzKCk7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e2lmKFJlZmxlY3QuaGFzKHRoaXMsZSkpe2NvbnN0IHM9dGhpc1tlXTtjaShzKSYmY2kocy52YWx1ZSkmJmNpKHMuc2V0VmFsdWVBdFRpbWUpP3RbZV09cy52YWx1ZTpzIGluc3RhbmNlb2Ygdm8/dFtlXT1zLl9nZXRQYXJ0aWFsUHJvcGVydGllcyh0W2VdKTpkaShzKXx8dWkocyl8fGZpKHMpfHxwaShzKT90W2VdPXM6ZGVsZXRlIHRbZV19fSksdH1zZXQodCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e1JlZmxlY3QuaGFzKHRoaXMsZSkmJmNpKHRoaXNbZV0pJiYodGhpc1tlXSYmY2kodGhpc1tlXS52YWx1ZSkmJmNpKHRoaXNbZV0uc2V0VmFsdWVBdFRpbWUpP3RoaXNbZV0udmFsdWUhPT10W2VdJiYodGhpc1tlXS52YWx1ZT10W2VdKTp0aGlzW2VdaW5zdGFuY2VvZiB2bz90aGlzW2VdLnNldCh0W2VdKTp0aGlzW2VdPXRbZV0pfSksdGhpc319Y2xhc3MgeW8gZXh0ZW5kcyBOaXtjb25zdHJ1Y3Rvcih0PVwic3RvcHBlZFwiKXtzdXBlcigpLHRoaXMubmFtZT1cIlN0YXRlVGltZWxpbmVcIix0aGlzLl9pbml0aWFsPXQsdGhpcy5zZXRTdGF0ZUF0VGltZSh0aGlzLl9pbml0aWFsLDApfWdldFZhbHVlQXRUaW1lKHQpe2NvbnN0IGU9dGhpcy5nZXQodCk7cmV0dXJuIG51bGwhPT1lP2Uuc3RhdGU6dGhpcy5faW5pdGlhbH1zZXRTdGF0ZUF0VGltZSh0LGUscyl7cmV0dXJuIGVpKGUsMCksdGhpcy5hZGQoT2JqZWN0LmFzc2lnbih7fSxzLHtzdGF0ZTp0LHRpbWU6ZX0pKSx0aGlzfWdldExhc3RTdGF0ZSh0LGUpe2ZvcihsZXQgcz10aGlzLl9zZWFyY2goZSk7cz49MDtzLS0pe2NvbnN0IGU9dGhpcy5fdGltZWxpbmVbc107aWYoZS5zdGF0ZT09PXQpcmV0dXJuIGV9fWdldE5leHRTdGF0ZSh0LGUpe2NvbnN0IHM9dGhpcy5fc2VhcmNoKGUpO2lmKC0xIT09cylmb3IobGV0IGU9cztlPHRoaXMuX3RpbWVsaW5lLmxlbmd0aDtlKyspe2NvbnN0IHM9dGhpcy5fdGltZWxpbmVbZV07aWYocy5zdGF0ZT09PXQpcmV0dXJuIHN9fX1jbGFzcyB4byBleHRlbmRzIHZve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoeG8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wicGFyYW1cIixcInVuaXRzXCIsXCJjb252ZXJ0XCJdKSksdGhpcy5uYW1lPVwiUGFyYW1cIix0aGlzLm92ZXJyaWRkZW49ITEsdGhpcy5fbWluT3V0cHV0PTFlLTc7Y29uc3QgdD1EaSh4by5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJwYXJhbVwiLFwidW5pdHNcIixcImNvbnZlcnRcIl0pO2Zvcih0aShjaSh0LnBhcmFtKSYmKHdpKHQucGFyYW0pfHx0LnBhcmFtIGluc3RhbmNlb2YgeG8pLFwicGFyYW0gbXVzdCBiZSBhbiBBdWRpb1BhcmFtXCIpOyF3aSh0LnBhcmFtKTspdC5wYXJhbT10LnBhcmFtLl9wYXJhbTt0aGlzLl9zd2FwcGFibGU9ISFjaSh0LnN3YXBwYWJsZSkmJnQuc3dhcHBhYmxlLHRoaXMuX3N3YXBwYWJsZT8odGhpcy5pbnB1dD10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLHRoaXMuX3BhcmFtPXQucGFyYW0sdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMuX3BhcmFtKSk6dGhpcy5fcGFyYW09dGhpcy5pbnB1dD10LnBhcmFtLHRoaXMuX2V2ZW50cz1uZXcgTmkoMWUzKSx0aGlzLl9pbml0aWFsVmFsdWU9dGhpcy5fcGFyYW0uZGVmYXVsdFZhbHVlLHRoaXMudW5pdHM9dC51bml0cyx0aGlzLmNvbnZlcnQ9dC5jb252ZXJ0LHRoaXMuX21pblZhbHVlPXQubWluVmFsdWUsdGhpcy5fbWF4VmFsdWU9dC5tYXhWYWx1ZSxjaSh0LnZhbHVlKSYmdC52YWx1ZSE9PXRoaXMuX3RvVHlwZSh0aGlzLl9pbml0aWFsVmFsdWUpJiZ0aGlzLnNldFZhbHVlQXRUaW1lKHQudmFsdWUsMCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24odm8uZ2V0RGVmYXVsdHMoKSx7Y29udmVydDohMCx1bml0czpcIm51bWJlclwifSl9Z2V0IHZhbHVlKCl7Y29uc3QgdD10aGlzLm5vdygpO3JldHVybiB0aGlzLmdldFZhbHVlQXRUaW1lKHQpfXNldCB2YWx1ZSh0KXt0aGlzLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aGlzLm5vdygpKSx0aGlzLnNldFZhbHVlQXRUaW1lKHQsdGhpcy5ub3coKSl9Z2V0IG1pblZhbHVlKCl7cmV0dXJuIGNpKHRoaXMuX21pblZhbHVlKT90aGlzLl9taW5WYWx1ZTpcInRpbWVcIj09PXRoaXMudW5pdHN8fFwiZnJlcXVlbmN5XCI9PT10aGlzLnVuaXRzfHxcIm5vcm1hbFJhbmdlXCI9PT10aGlzLnVuaXRzfHxcInBvc2l0aXZlXCI9PT10aGlzLnVuaXRzfHxcInRyYW5zcG9ydFRpbWVcIj09PXRoaXMudW5pdHN8fFwidGlja3NcIj09PXRoaXMudW5pdHN8fFwiYnBtXCI9PT10aGlzLnVuaXRzfHxcImhlcnR6XCI9PT10aGlzLnVuaXRzfHxcInNhbXBsZXNcIj09PXRoaXMudW5pdHM/MDpcImF1ZGlvUmFuZ2VcIj09PXRoaXMudW5pdHM/LTE6XCJkZWNpYmVsc1wiPT09dGhpcy51bml0cz8tMS8wOnRoaXMuX3BhcmFtLm1pblZhbHVlfWdldCBtYXhWYWx1ZSgpe3JldHVybiBjaSh0aGlzLl9tYXhWYWx1ZSk/dGhpcy5fbWF4VmFsdWU6XCJub3JtYWxSYW5nZVwiPT09dGhpcy51bml0c3x8XCJhdWRpb1JhbmdlXCI9PT10aGlzLnVuaXRzPzE6dGhpcy5fcGFyYW0ubWF4VmFsdWV9X2lzKHQsZSl7cmV0dXJuIHRoaXMudW5pdHM9PT1lfV9hc3NlcnRSYW5nZSh0KXtyZXR1cm4gY2kodGhpcy5tYXhWYWx1ZSkmJmNpKHRoaXMubWluVmFsdWUpJiZlaSh0LHRoaXMuX2Zyb21UeXBlKHRoaXMubWluVmFsdWUpLHRoaXMuX2Zyb21UeXBlKHRoaXMubWF4VmFsdWUpKSx0fV9mcm9tVHlwZSh0KXtyZXR1cm4gdGhpcy5jb252ZXJ0JiYhdGhpcy5vdmVycmlkZGVuP3RoaXMuX2lzKHQsXCJ0aW1lXCIpP3RoaXMudG9TZWNvbmRzKHQpOnRoaXMuX2lzKHQsXCJkZWNpYmVsc1wiKT9lbyh0KTp0aGlzLl9pcyh0LFwiZnJlcXVlbmN5XCIpP3RoaXMudG9GcmVxdWVuY3kodCk6dDp0aGlzLm92ZXJyaWRkZW4/MDp0fV90b1R5cGUodCl7cmV0dXJuIHRoaXMuY29udmVydCYmXCJkZWNpYmVsc1wiPT09dGhpcy51bml0cz9zbyh0KTp0fXNldFZhbHVlQXRUaW1lKHQsZSl7Y29uc3Qgcz10aGlzLnRvU2Vjb25kcyhlKSxuPXRoaXMuX2Zyb21UeXBlKHQpO3JldHVybiB0aShpc0Zpbml0ZShuKSYmaXNGaW5pdGUocyksYEludmFsaWQgYXJndW1lbnQocykgdG8gc2V0VmFsdWVBdFRpbWU6ICR7SlNPTi5zdHJpbmdpZnkodCl9LCAke0pTT04uc3RyaW5naWZ5KGUpfWApLHRoaXMuX2Fzc2VydFJhbmdlKG4pLHRoaXMubG9nKHRoaXMudW5pdHMsXCJzZXRWYWx1ZUF0VGltZVwiLHQscyksdGhpcy5fZXZlbnRzLmFkZCh7dGltZTpzLHR5cGU6XCJzZXRWYWx1ZUF0VGltZVwiLHZhbHVlOm59KSx0aGlzLl9wYXJhbS5zZXRWYWx1ZUF0VGltZShuLHMpLHRoaXN9Z2V0VmFsdWVBdFRpbWUodCl7Y29uc3QgZT1NYXRoLm1heCh0aGlzLnRvU2Vjb25kcyh0KSwwKSxzPXRoaXMuX2V2ZW50cy5nZXRBZnRlcihlKSxuPXRoaXMuX2V2ZW50cy5nZXQoZSk7bGV0IGk9dGhpcy5faW5pdGlhbFZhbHVlO2lmKG51bGw9PT1uKWk9dGhpcy5faW5pdGlhbFZhbHVlO2Vsc2UgaWYoXCJzZXRUYXJnZXRBdFRpbWVcIiE9PW4udHlwZXx8bnVsbCE9PXMmJlwic2V0VmFsdWVBdFRpbWVcIiE9PXMudHlwZSlpZihudWxsPT09cylpPW4udmFsdWU7ZWxzZSBpZihcImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCI9PT1zLnR5cGV8fFwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZVwiPT09cy50eXBlKXtsZXQgdD1uLnZhbHVlO2lmKFwic2V0VGFyZ2V0QXRUaW1lXCI9PT1uLnR5cGUpe2NvbnN0IGU9dGhpcy5fZXZlbnRzLmdldEJlZm9yZShuLnRpbWUpO3Q9bnVsbD09PWU/dGhpcy5faW5pdGlhbFZhbHVlOmUudmFsdWV9aT1cImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCI9PT1zLnR5cGU/dGhpcy5fbGluZWFySW50ZXJwb2xhdGUobi50aW1lLHQscy50aW1lLHMudmFsdWUsZSk6dGhpcy5fZXhwb25lbnRpYWxJbnRlcnBvbGF0ZShuLnRpbWUsdCxzLnRpbWUscy52YWx1ZSxlKX1lbHNlIGk9bi52YWx1ZTtlbHNle2NvbnN0IHQ9dGhpcy5fZXZlbnRzLmdldEJlZm9yZShuLnRpbWUpO2xldCBzO3M9bnVsbD09PXQ/dGhpcy5faW5pdGlhbFZhbHVlOnQudmFsdWUsXCJzZXRUYXJnZXRBdFRpbWVcIj09PW4udHlwZSYmKGk9dGhpcy5fZXhwb25lbnRpYWxBcHByb2FjaChuLnRpbWUscyxuLnZhbHVlLG4uY29uc3RhbnQsZSkpfXJldHVybiB0aGlzLl90b1R5cGUoaSl9c2V0UmFtcFBvaW50KHQpe3Q9dGhpcy50b1NlY29uZHModCk7bGV0IGU9dGhpcy5nZXRWYWx1ZUF0VGltZSh0KTtyZXR1cm4gdGhpcy5jYW5jZWxBbmRIb2xkQXRUaW1lKHQpLDA9PT10aGlzLl9mcm9tVHlwZShlKSYmKGU9dGhpcy5fdG9UeXBlKHRoaXMuX21pbk91dHB1dCkpLHRoaXMuc2V0VmFsdWVBdFRpbWUoZSx0KSx0aGlzfWxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHQsZSl7Y29uc3Qgcz10aGlzLl9mcm9tVHlwZSh0KSxuPXRoaXMudG9TZWNvbmRzKGUpO3JldHVybiB0aShpc0Zpbml0ZShzKSYmaXNGaW5pdGUobiksYEludmFsaWQgYXJndW1lbnQocykgdG8gbGluZWFyUmFtcFRvVmFsdWVBdFRpbWU6ICR7SlNPTi5zdHJpbmdpZnkodCl9LCAke0pTT04uc3RyaW5naWZ5KGUpfWApLHRoaXMuX2Fzc2VydFJhbmdlKHMpLHRoaXMuX2V2ZW50cy5hZGQoe3RpbWU6bix0eXBlOlwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWVcIix2YWx1ZTpzfSksdGhpcy5sb2codGhpcy51bml0cyxcImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCIsdCxuKSx0aGlzLl9wYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShzLG4pLHRoaXN9ZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh0LGUpe2xldCBzPXRoaXMuX2Zyb21UeXBlKHQpO3M9SWkocywwKT90aGlzLl9taW5PdXRwdXQ6cyx0aGlzLl9hc3NlcnRSYW5nZShzKTtjb25zdCBuPXRoaXMudG9TZWNvbmRzKGUpO3JldHVybiB0aShpc0Zpbml0ZShzKSYmaXNGaW5pdGUobiksYEludmFsaWQgYXJndW1lbnQocykgdG8gZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZTogJHtKU09OLnN0cmluZ2lmeSh0KX0sICR7SlNPTi5zdHJpbmdpZnkoZSl9YCksdGhpcy5fZXZlbnRzLmFkZCh7dGltZTpuLHR5cGU6XCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXCIsdmFsdWU6c30pLHRoaXMubG9nKHRoaXMudW5pdHMsXCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXCIsdCxuKSx0aGlzLl9wYXJhbS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHMsbiksdGhpc31leHBvbmVudGlhbFJhbXBUbyh0LGUscyl7cmV0dXJuIHM9dGhpcy50b1NlY29uZHMocyksdGhpcy5zZXRSYW1wUG9pbnQocyksdGhpcy5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHQscyt0aGlzLnRvU2Vjb25kcyhlKSksdGhpc31saW5lYXJSYW1wVG8odCxlLHMpe3JldHVybiBzPXRoaXMudG9TZWNvbmRzKHMpLHRoaXMuc2V0UmFtcFBvaW50KHMpLHRoaXMubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodCxzK3RoaXMudG9TZWNvbmRzKGUpKSx0aGlzfXRhcmdldFJhbXBUbyh0LGUscyl7cmV0dXJuIHM9dGhpcy50b1NlY29uZHMocyksdGhpcy5zZXRSYW1wUG9pbnQocyksdGhpcy5leHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUodCxzLGUpLHRoaXN9ZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKHQsZSxzKXtlPXRoaXMudG9TZWNvbmRzKGUpLHM9dGhpcy50b1NlY29uZHMocyk7Y29uc3Qgbj1NYXRoLmxvZyhzKzEpL01hdGgubG9nKDIwMCk7cmV0dXJuIHRoaXMuc2V0VGFyZ2V0QXRUaW1lKHQsZSxuKSx0aGlzLmNhbmNlbEFuZEhvbGRBdFRpbWUoZSsuOSpzKSx0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHQsZStzKSx0aGlzfXNldFRhcmdldEF0VGltZSh0LGUscyl7Y29uc3Qgbj10aGlzLl9mcm9tVHlwZSh0KTt0aShpc0Zpbml0ZShzKSYmcz4wLFwidGltZUNvbnN0YW50IG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDBcIik7Y29uc3QgaT10aGlzLnRvU2Vjb25kcyhlKTtyZXR1cm4gdGhpcy5fYXNzZXJ0UmFuZ2UobiksdGkoaXNGaW5pdGUobikmJmlzRmluaXRlKGkpLGBJbnZhbGlkIGFyZ3VtZW50KHMpIHRvIHNldFRhcmdldEF0VGltZTogJHtKU09OLnN0cmluZ2lmeSh0KX0sICR7SlNPTi5zdHJpbmdpZnkoZSl9YCksdGhpcy5fZXZlbnRzLmFkZCh7Y29uc3RhbnQ6cyx0aW1lOmksdHlwZTpcInNldFRhcmdldEF0VGltZVwiLHZhbHVlOm59KSx0aGlzLmxvZyh0aGlzLnVuaXRzLFwic2V0VGFyZ2V0QXRUaW1lXCIsdCxpLHMpLHRoaXMuX3BhcmFtLnNldFRhcmdldEF0VGltZShuLGkscyksdGhpc31zZXRWYWx1ZUN1cnZlQXRUaW1lKHQsZSxzLG49MSl7cz10aGlzLnRvU2Vjb25kcyhzKSxlPXRoaXMudG9TZWNvbmRzKGUpO2NvbnN0IGk9dGhpcy5fZnJvbVR5cGUodFswXSkqbjt0aGlzLnNldFZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShpKSxlKTtjb25zdCBvPXMvKHQubGVuZ3RoLTEpO2ZvcihsZXQgcz0xO3M8dC5sZW5ndGg7cysrKXtjb25zdCBpPXRoaXMuX2Zyb21UeXBlKHRbc10pKm47dGhpcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLl90b1R5cGUoaSksZStzKm8pfXJldHVybiB0aGlzfWNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KXtjb25zdCBlPXRoaXMudG9TZWNvbmRzKHQpO3JldHVybiB0aShpc0Zpbml0ZShlKSxcIkludmFsaWQgYXJndW1lbnQgdG8gY2FuY2VsU2NoZWR1bGVkVmFsdWVzOiBcIitKU09OLnN0cmluZ2lmeSh0KSksdGhpcy5fZXZlbnRzLmNhbmNlbChlKSx0aGlzLl9wYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoZSksdGhpcy5sb2codGhpcy51bml0cyxcImNhbmNlbFNjaGVkdWxlZFZhbHVlc1wiLGUpLHRoaXN9Y2FuY2VsQW5kSG9sZEF0VGltZSh0KXtjb25zdCBlPXRoaXMudG9TZWNvbmRzKHQpLHM9dGhpcy5fZnJvbVR5cGUodGhpcy5nZXRWYWx1ZUF0VGltZShlKSk7dGkoaXNGaW5pdGUoZSksXCJJbnZhbGlkIGFyZ3VtZW50IHRvIGNhbmNlbEFuZEhvbGRBdFRpbWU6IFwiK0pTT04uc3RyaW5naWZ5KHQpKSx0aGlzLmxvZyh0aGlzLnVuaXRzLFwiY2FuY2VsQW5kSG9sZEF0VGltZVwiLGUsXCJ2YWx1ZT1cIitzKTtjb25zdCBuPXRoaXMuX2V2ZW50cy5nZXQoZSksaT10aGlzLl9ldmVudHMuZ2V0QWZ0ZXIoZSk7cmV0dXJuIG4mJklpKG4udGltZSxlKT9pPyh0aGlzLl9wYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoaS50aW1lKSx0aGlzLl9ldmVudHMuY2FuY2VsKGkudGltZSkpOih0aGlzLl9wYXJhbS5jYW5jZWxBbmRIb2xkQXRUaW1lKGUpLHRoaXMuX2V2ZW50cy5jYW5jZWwoZSt0aGlzLnNhbXBsZVRpbWUpKTppJiYodGhpcy5fcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGkudGltZSksdGhpcy5fZXZlbnRzLmNhbmNlbChpLnRpbWUpLFwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWVcIj09PWkudHlwZT90aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShzKSxlKTpcImV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWVcIj09PWkudHlwZSYmdGhpcy5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShzKSxlKSksdGhpcy5fZXZlbnRzLmFkZCh7dGltZTplLHR5cGU6XCJzZXRWYWx1ZUF0VGltZVwiLHZhbHVlOnN9KSx0aGlzLl9wYXJhbS5zZXRWYWx1ZUF0VGltZShzLGUpLHRoaXN9cmFtcFRvKHQsZT0uMSxzKXtyZXR1cm5cImZyZXF1ZW5jeVwiPT09dGhpcy51bml0c3x8XCJicG1cIj09PXRoaXMudW5pdHN8fFwiZGVjaWJlbHNcIj09PXRoaXMudW5pdHM/dGhpcy5leHBvbmVudGlhbFJhbXBUbyh0LGUscyk6dGhpcy5saW5lYXJSYW1wVG8odCxlLHMpLHRoaXN9YXBwbHkodCl7Y29uc3QgZT10aGlzLmNvbnRleHQuY3VycmVudFRpbWU7dC5zZXRWYWx1ZUF0VGltZSh0aGlzLmdldFZhbHVlQXRUaW1lKGUpLGUpO2NvbnN0IHM9dGhpcy5fZXZlbnRzLmdldChlKTtpZihzJiZcInNldFRhcmdldEF0VGltZVwiPT09cy50eXBlKXtjb25zdCBuPXRoaXMuX2V2ZW50cy5nZXRBZnRlcihzLnRpbWUpLGk9bj9uLnRpbWU6ZSsyLG89KGktZSkvMTA7Zm9yKGxldCBzPWU7czxpO3MrPW8pdC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLmdldFZhbHVlQXRUaW1lKHMpLHMpfXJldHVybiB0aGlzLl9ldmVudHMuZm9yRWFjaEFmdGVyKHRoaXMuY29udGV4dC5jdXJyZW50VGltZSxlPT57XCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXNcIj09PWUudHlwZT90LmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhlLnRpbWUpOlwic2V0VGFyZ2V0QXRUaW1lXCI9PT1lLnR5cGU/dC5zZXRUYXJnZXRBdFRpbWUoZS52YWx1ZSxlLnRpbWUsZS5jb25zdGFudCk6dFtlLnR5cGVdKGUudmFsdWUsZS50aW1lKX0pLHRoaXN9c2V0UGFyYW0odCl7dGkodGhpcy5fc3dhcHBhYmxlLFwiVGhlIFBhcmFtIG11c3QgYmUgYXNzaWduZWQgYXMgJ3N3YXBwYWJsZScgaW4gdGhlIGNvbnN0cnVjdG9yXCIpO2NvbnN0IGU9dGhpcy5pbnB1dDtyZXR1cm4gZS5kaXNjb25uZWN0KHRoaXMuX3BhcmFtKSx0aGlzLmFwcGx5KHQpLHRoaXMuX3BhcmFtPXQsZS5jb25uZWN0KHRoaXMuX3BhcmFtKSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2V2ZW50cy5kaXNwb3NlKCksdGhpc31nZXQgZGVmYXVsdFZhbHVlKCl7cmV0dXJuIHRoaXMuX3RvVHlwZSh0aGlzLl9wYXJhbS5kZWZhdWx0VmFsdWUpfV9leHBvbmVudGlhbEFwcHJvYWNoKHQsZSxzLG4saSl7cmV0dXJuIHMrKGUtcykqTWF0aC5leHAoLShpLXQpL24pfV9saW5lYXJJbnRlcnBvbGF0ZSh0LGUscyxuLGkpe3JldHVybiBlKyhpLXQpLyhzLXQpKihuLWUpfV9leHBvbmVudGlhbEludGVycG9sYXRlKHQsZSxzLG4saSl7cmV0dXJuIGUqTWF0aC5wb3cobi9lLChpLXQpLyhzLXQpKX19Y2xhc3Mgd28gZXh0ZW5kcyB2b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPVwiVG9uZUF1ZGlvTm9kZVwiLHRoaXMuX2ludGVybmFsQ2hhbm5lbHM9W119Z2V0IG51bWJlck9mSW5wdXRzKCl7cmV0dXJuIGNpKHRoaXMuaW5wdXQpP3dpKHRoaXMuaW5wdXQpfHx0aGlzLmlucHV0IGluc3RhbmNlb2YgeG8/MTp0aGlzLmlucHV0Lm51bWJlck9mSW5wdXRzOjB9Z2V0IG51bWJlck9mT3V0cHV0cygpe3JldHVybiBjaSh0aGlzLm91dHB1dCk/dGhpcy5vdXRwdXQubnVtYmVyT2ZPdXRwdXRzOjB9X2lzQXVkaW9Ob2RlKHQpe3JldHVybiBjaSh0KSYmKHQgaW5zdGFuY2VvZiB3b3x8YmkodCkpfV9nZXRJbnRlcm5hbE5vZGVzKCl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbENoYW5uZWxzLnNsaWNlKDApO3JldHVybiB0aGlzLl9pc0F1ZGlvTm9kZSh0aGlzLmlucHV0KSYmdC5wdXNoKHRoaXMuaW5wdXQpLHRoaXMuX2lzQXVkaW9Ob2RlKHRoaXMub3V0cHV0KSYmdGhpcy5pbnB1dCE9PXRoaXMub3V0cHV0JiZ0LnB1c2godGhpcy5vdXRwdXQpLHR9X3NldENoYW5uZWxQcm9wZXJ0aWVzKHQpe3RoaXMuX2dldEludGVybmFsTm9kZXMoKS5mb3JFYWNoKGU9PntlLmNoYW5uZWxDb3VudD10LmNoYW5uZWxDb3VudCxlLmNoYW5uZWxDb3VudE1vZGU9dC5jaGFubmVsQ291bnRNb2RlLGUuY2hhbm5lbEludGVycHJldGF0aW9uPXQuY2hhbm5lbEludGVycHJldGF0aW9ufSl9X2dldENoYW5uZWxQcm9wZXJ0aWVzKCl7Y29uc3QgdD10aGlzLl9nZXRJbnRlcm5hbE5vZGVzKCk7dGkodC5sZW5ndGg+MCxcIlRvbmVBdWRpb05vZGUgZG9lcyBub3QgaGF2ZSBhbnkgaW50ZXJuYWwgbm9kZXNcIik7Y29uc3QgZT10WzBdO3JldHVybntjaGFubmVsQ291bnQ6ZS5jaGFubmVsQ291bnQsY2hhbm5lbENvdW50TW9kZTplLmNoYW5uZWxDb3VudE1vZGUsY2hhbm5lbEludGVycHJldGF0aW9uOmUuY2hhbm5lbEludGVycHJldGF0aW9ufX1nZXQgY2hhbm5lbENvdW50KCl7cmV0dXJuIHRoaXMuX2dldENoYW5uZWxQcm9wZXJ0aWVzKCkuY2hhbm5lbENvdW50fXNldCBjaGFubmVsQ291bnQodCl7Y29uc3QgZT10aGlzLl9nZXRDaGFubmVsUHJvcGVydGllcygpO3RoaXMuX3NldENoYW5uZWxQcm9wZXJ0aWVzKE9iamVjdC5hc3NpZ24oZSx7Y2hhbm5lbENvdW50OnR9KSl9Z2V0IGNoYW5uZWxDb3VudE1vZGUoKXtyZXR1cm4gdGhpcy5fZ2V0Q2hhbm5lbFByb3BlcnRpZXMoKS5jaGFubmVsQ291bnRNb2RlfXNldCBjaGFubmVsQ291bnRNb2RlKHQpe2NvbnN0IGU9dGhpcy5fZ2V0Q2hhbm5lbFByb3BlcnRpZXMoKTt0aGlzLl9zZXRDaGFubmVsUHJvcGVydGllcyhPYmplY3QuYXNzaWduKGUse2NoYW5uZWxDb3VudE1vZGU6dH0pKX1nZXQgY2hhbm5lbEludGVycHJldGF0aW9uKCl7cmV0dXJuIHRoaXMuX2dldENoYW5uZWxQcm9wZXJ0aWVzKCkuY2hhbm5lbEludGVycHJldGF0aW9ufXNldCBjaGFubmVsSW50ZXJwcmV0YXRpb24odCl7Y29uc3QgZT10aGlzLl9nZXRDaGFubmVsUHJvcGVydGllcygpO3RoaXMuX3NldENoYW5uZWxQcm9wZXJ0aWVzKE9iamVjdC5hc3NpZ24oZSx7Y2hhbm5lbEludGVycHJldGF0aW9uOnR9KSl9Y29ubmVjdCh0LGU9MCxzPTApe3JldHVybiBUbyh0aGlzLHQsZSxzKSx0aGlzfXRvRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpc310b01hc3Rlcigpe3JldHVybiByaShcInRvTWFzdGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0b0Rlc3RpbmF0aW9uKClcIiksdGhpcy50b0Rlc3RpbmF0aW9uKCl9ZGlzY29ubmVjdCh0LGU9MCxzPTApe3JldHVybiBTbyh0aGlzLHQsZSxzKSx0aGlzfWNoYWluKC4uLnQpe3JldHVybiBibyh0aGlzLC4uLnQpLHRoaXN9ZmFuKC4uLnQpe3JldHVybiB0LmZvckVhY2godD0+dGhpcy5jb25uZWN0KHQpKSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLGNpKHRoaXMuaW5wdXQpJiYodGhpcy5pbnB1dCBpbnN0YW5jZW9mIHdvP3RoaXMuaW5wdXQuZGlzcG9zZSgpOmJpKHRoaXMuaW5wdXQpJiZ0aGlzLmlucHV0LmRpc2Nvbm5lY3QoKSksY2kodGhpcy5vdXRwdXQpJiYodGhpcy5vdXRwdXQgaW5zdGFuY2VvZiB3bz90aGlzLm91dHB1dC5kaXNwb3NlKCk6YmkodGhpcy5vdXRwdXQpJiZ0aGlzLm91dHB1dC5kaXNjb25uZWN0KCkpLHRoaXMuX2ludGVybmFsQ2hhbm5lbHM9W10sdGhpc319ZnVuY3Rpb24gYm8oLi4udCl7Y29uc3QgZT10LnNoaWZ0KCk7dC5yZWR1Y2UoKHQsZSk9Pih0IGluc3RhbmNlb2Ygd28/dC5jb25uZWN0KGUpOmJpKHQpJiZUbyh0LGUpLGUpLGUpfWZ1bmN0aW9uIFRvKHQsZSxzPTAsbj0wKXtmb3IodGkoY2kodCksXCJDYW5ub3QgY29ubmVjdCBmcm9tIHVuZGVmaW5lZCBub2RlXCIpLHRpKGNpKGUpLFwiQ2Fubm90IGNvbm5lY3QgdG8gdW5kZWZpbmVkIG5vZGVcIiksKGUgaW5zdGFuY2VvZiB3b3x8YmkoZSkpJiZ0aShlLm51bWJlck9mSW5wdXRzPjAsXCJDYW5ub3QgY29ubmVjdCB0byBub2RlIHdpdGggbm8gaW5wdXRzXCIpLHRpKHQubnVtYmVyT2ZPdXRwdXRzPjAsXCJDYW5ub3QgY29ubmVjdCBmcm9tIG5vZGUgd2l0aCBubyBvdXRwdXRzXCIpO2UgaW5zdGFuY2VvZiB3b3x8ZSBpbnN0YW5jZW9mIHhvOyljaShlLmlucHV0KSYmKGU9ZS5pbnB1dCk7Zm9yKDt0IGluc3RhbmNlb2Ygd287KWNpKHQub3V0cHV0KSYmKHQ9dC5vdXRwdXQpO3dpKGUpP3QuY29ubmVjdChlLHMpOnQuY29ubmVjdChlLHMsbil9ZnVuY3Rpb24gU28odCxlLHM9MCxuPTApe2lmKGNpKGUpKWZvcig7ZSBpbnN0YW5jZW9mIHdvOyllPWUuaW5wdXQ7Zm9yKDshYmkodCk7KWNpKHQub3V0cHV0KSYmKHQ9dC5vdXRwdXQpO3dpKGUpP3QuZGlzY29ubmVjdChlLHMpOmJpKGUpP3QuZGlzY29ubmVjdChlLHMsbik6dC5kaXNjb25uZWN0KCl9Y2xhc3Mga28gZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGtvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImdhaW5cIixcInVuaXRzXCJdKSksdGhpcy5uYW1lPVwiR2FpblwiLHRoaXMuX2dhaW5Ob2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5pbnB1dD10aGlzLl9nYWluTm9kZSx0aGlzLm91dHB1dD10aGlzLl9nYWluTm9kZTtjb25zdCB0PURpKGtvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImdhaW5cIixcInVuaXRzXCJdKTt0aGlzLmdhaW49bmV3IHhvKHtjb250ZXh0OnRoaXMuY29udGV4dCxjb252ZXJ0OnQuY29udmVydCxwYXJhbTp0aGlzLl9nYWluTm9kZS5nYWluLHVuaXRzOnQudW5pdHMsdmFsdWU6dC5nYWluLG1pblZhbHVlOnQubWluVmFsdWUsbWF4VmFsdWU6dC5tYXhWYWx1ZX0pLFVpKHRoaXMsXCJnYWluXCIpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse2NvbnZlcnQ6ITAsZ2FpbjoxLHVuaXRzOlwiZ2FpblwifSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZ2Fpbk5vZGUuZGlzY29ubmVjdCgpLHRoaXMuZ2Fpbi5kaXNwb3NlKCksdGhpc319Y2xhc3MgQ28gZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm9uZW5kZWQ9WmksdGhpcy5fc3RhcnRUaW1lPS0xLHRoaXMuX3N0b3BUaW1lPS0xLHRoaXMuX3RpbWVvdXQ9LTEsdGhpcy5vdXRwdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOjB9KSx0aGlzLl9nYWluTm9kZT10aGlzLm91dHB1dCx0aGlzLmdldFN0YXRlQXRUaW1lPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy50b1NlY29uZHModCk7cmV0dXJuLTEhPT10aGlzLl9zdGFydFRpbWUmJmU+PXRoaXMuX3N0YXJ0VGltZSYmKC0xPT09dGhpcy5fc3RvcFRpbWV8fGU8PXRoaXMuX3N0b3BUaW1lKT9cInN0YXJ0ZWRcIjpcInN0b3BwZWRcIn0sdGhpcy5fZmFkZUluPXQuZmFkZUluLHRoaXMuX2ZhZGVPdXQ9dC5mYWRlT3V0LHRoaXMuX2N1cnZlPXQuY3VydmUsdGhpcy5vbmVuZGVkPXQub25lbmRlZH1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHtjdXJ2ZTpcImxpbmVhclwiLGZhZGVJbjowLGZhZGVPdXQ6MCxvbmVuZGVkOlppfSl9X3N0YXJ0R2Fpbih0LGU9MSl7dGkoLTE9PT10aGlzLl9zdGFydFRpbWUsXCJTb3VyY2UgY2Fubm90IGJlIHN0YXJ0ZWQgbW9yZSB0aGFuIG9uY2VcIik7Y29uc3Qgcz10aGlzLnRvU2Vjb25kcyh0aGlzLl9mYWRlSW4pO3JldHVybiB0aGlzLl9zdGFydFRpbWU9dCtzLHRoaXMuX3N0YXJ0VGltZT1NYXRoLm1heCh0aGlzLl9zdGFydFRpbWUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKSxzPjA/KHRoaXMuX2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCx0KSxcImxpbmVhclwiPT09dGhpcy5fY3VydmU/dGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShlLHQrcyk6dGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5leHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUoZSx0LHMpKTp0aGlzLl9nYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGUsdCksdGhpc31zdG9wKHQpe3JldHVybiB0aGlzLmxvZyhcInN0b3BcIix0KSx0aGlzLl9zdG9wR2Fpbih0aGlzLnRvU2Vjb25kcyh0KSksdGhpc31fc3RvcEdhaW4odCl7dGkoLTEhPT10aGlzLl9zdGFydFRpbWUsXCInc3RhcnQnIG11c3QgYmUgY2FsbGVkIGJlZm9yZSAnc3RvcCdcIiksdGhpcy5jYW5jZWxTdG9wKCk7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0aGlzLl9mYWRlT3V0KTtyZXR1cm4gdGhpcy5fc3RvcFRpbWU9dGhpcy50b1NlY29uZHModCkrZSx0aGlzLl9zdG9wVGltZT1NYXRoLm1heCh0aGlzLl9zdG9wVGltZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpLGU+MD9cImxpbmVhclwiPT09dGhpcy5fY3VydmU/dGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG8oMCxlLHQpOnRoaXMuX2dhaW5Ob2RlLmdhaW4udGFyZ2V0UmFtcFRvKDAsZSx0KToodGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5jYW5jZWxBbmRIb2xkQXRUaW1lKHQpLHRoaXMuX2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCx0KSksdGhpcy5jb250ZXh0LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0PXRoaXMuY29udGV4dC5zZXRUaW1lb3V0KCgpPT57Y29uc3QgdD1cImV4cG9uZW50aWFsXCI9PT10aGlzLl9jdXJ2ZT8yKmU6MDt0aGlzLl9zdG9wU291cmNlKHRoaXMubm93KCkrdCksdGhpcy5fb25lbmRlZCgpfSx0aGlzLl9zdG9wVGltZS10aGlzLmNvbnRleHQuY3VycmVudFRpbWUpLHRoaXN9X29uZW5kZWQoKXtpZih0aGlzLm9uZW5kZWQhPT1aaSYmKHRoaXMub25lbmRlZCh0aGlzKSx0aGlzLm9uZW5kZWQ9WmksIXRoaXMuY29udGV4dC5pc09mZmxpbmUpKXtjb25zdCB0PSgpPT50aGlzLmRpc3Bvc2UoKTt2b2lkIDAhPT13aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaz93aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayh0KTpzZXRUaW1lb3V0KHQsMWUzKX19Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuZ2V0U3RhdGVBdFRpbWUodGhpcy5ub3coKSl9Y2FuY2VsU3RvcCgpe3JldHVybiB0aGlzLmxvZyhcImNhbmNlbFN0b3BcIiksdGkoLTEhPT10aGlzLl9zdGFydFRpbWUsXCJTb3VyY2UgaXMgbm90IHN0YXJ0ZWRcIiksdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGhpcy5fc3RhcnRUaW1lK3RoaXMuc2FtcGxlVGltZSksdGhpcy5jb250ZXh0LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl9zdG9wVGltZT0tMSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2dhaW5Ob2RlLmRpc2Nvbm5lY3QoKSx0aGlzfX1jbGFzcyBBbyBleHRlbmRzIENve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoQW8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wib2Zmc2V0XCJdKSksdGhpcy5uYW1lPVwiVG9uZUNvbnN0YW50U291cmNlXCIsdGhpcy5fc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVDb25zdGFudFNvdXJjZSgpO2NvbnN0IHQ9RGkoQW8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wib2Zmc2V0XCJdKTtUbyh0aGlzLl9zb3VyY2UsdGhpcy5fZ2Fpbk5vZGUpLHRoaXMub2Zmc2V0PW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQsY29udmVydDp0LmNvbnZlcnQscGFyYW06dGhpcy5fc291cmNlLm9mZnNldCx1bml0czp0LnVuaXRzLHZhbHVlOnQub2Zmc2V0LG1pblZhbHVlOnQubWluVmFsdWUsbWF4VmFsdWU6dC5tYXhWYWx1ZX0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKENvLmdldERlZmF1bHRzKCkse2NvbnZlcnQ6ITAsb2Zmc2V0OjEsdW5pdHM6XCJudW1iZXJcIn0pfXN0YXJ0KHQpe2NvbnN0IGU9dGhpcy50b1NlY29uZHModCk7cmV0dXJuIHRoaXMubG9nKFwic3RhcnRcIixlKSx0aGlzLl9zdGFydEdhaW4oZSksdGhpcy5fc291cmNlLnN0YXJ0KGUpLHRoaXN9X3N0b3BTb3VyY2UodCl7dGhpcy5fc291cmNlLnN0b3AodCl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksXCJzdGFydGVkXCI9PT10aGlzLnN0YXRlJiZ0aGlzLnN0b3AoKSx0aGlzLl9zb3VyY2UuZGlzY29ubmVjdCgpLHRoaXMub2Zmc2V0LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBEbyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoRG8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widmFsdWVcIixcInVuaXRzXCJdKSksdGhpcy5uYW1lPVwiU2lnbmFsXCIsdGhpcy5vdmVycmlkZT0hMDtjb25zdCB0PURpKERvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInZhbHVlXCIsXCJ1bml0c1wiXSk7dGhpcy5vdXRwdXQ9dGhpcy5fY29uc3RhbnRTb3VyY2U9bmV3IEFvKHtjb250ZXh0OnRoaXMuY29udGV4dCxjb252ZXJ0OnQuY29udmVydCxvZmZzZXQ6dC52YWx1ZSx1bml0czp0LnVuaXRzLG1pblZhbHVlOnQubWluVmFsdWUsbWF4VmFsdWU6dC5tYXhWYWx1ZX0pLHRoaXMuX2NvbnN0YW50U291cmNlLnN0YXJ0KDApLHRoaXMuaW5wdXQ9dGhpcy5fcGFyYW09dGhpcy5fY29uc3RhbnRTb3VyY2Uub2Zmc2V0fXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse2NvbnZlcnQ6ITAsdW5pdHM6XCJudW1iZXJcIix2YWx1ZTowfSl9Y29ubmVjdCh0LGU9MCxzPTApe3JldHVybiBPbyh0aGlzLHQsZSxzKSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3BhcmFtLmRpc3Bvc2UoKSx0aGlzLl9jb25zdGFudFNvdXJjZS5kaXNwb3NlKCksdGhpc31zZXRWYWx1ZUF0VGltZSh0LGUpe3JldHVybiB0aGlzLl9wYXJhbS5zZXRWYWx1ZUF0VGltZSh0LGUpLHRoaXN9Z2V0VmFsdWVBdFRpbWUodCl7cmV0dXJuIHRoaXMuX3BhcmFtLmdldFZhbHVlQXRUaW1lKHQpfXNldFJhbXBQb2ludCh0KXtyZXR1cm4gdGhpcy5fcGFyYW0uc2V0UmFtcFBvaW50KHQpLHRoaXN9bGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodCxlKXtyZXR1cm4gdGhpcy5fcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodCxlKSx0aGlzfWV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodCxlKXtyZXR1cm4gdGhpcy5fcGFyYW0uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh0LGUpLHRoaXN9ZXhwb25lbnRpYWxSYW1wVG8odCxlLHMpe3JldHVybiB0aGlzLl9wYXJhbS5leHBvbmVudGlhbFJhbXBUbyh0LGUscyksdGhpc31saW5lYXJSYW1wVG8odCxlLHMpe3JldHVybiB0aGlzLl9wYXJhbS5saW5lYXJSYW1wVG8odCxlLHMpLHRoaXN9dGFyZ2V0UmFtcFRvKHQsZSxzKXtyZXR1cm4gdGhpcy5fcGFyYW0udGFyZ2V0UmFtcFRvKHQsZSxzKSx0aGlzfWV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZSh0LGUscyl7cmV0dXJuIHRoaXMuX3BhcmFtLmV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZSh0LGUscyksdGhpc31zZXRUYXJnZXRBdFRpbWUodCxlLHMpe3JldHVybiB0aGlzLl9wYXJhbS5zZXRUYXJnZXRBdFRpbWUodCxlLHMpLHRoaXN9c2V0VmFsdWVDdXJ2ZUF0VGltZSh0LGUscyxuKXtyZXR1cm4gdGhpcy5fcGFyYW0uc2V0VmFsdWVDdXJ2ZUF0VGltZSh0LGUscyxuKSx0aGlzfWNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KXtyZXR1cm4gdGhpcy5fcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQpLHRoaXN9Y2FuY2VsQW5kSG9sZEF0VGltZSh0KXtyZXR1cm4gdGhpcy5fcGFyYW0uY2FuY2VsQW5kSG9sZEF0VGltZSh0KSx0aGlzfXJhbXBUbyh0LGUscyl7cmV0dXJuIHRoaXMuX3BhcmFtLnJhbXBUbyh0LGUscyksdGhpc31nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5fcGFyYW0udmFsdWV9c2V0IHZhbHVlKHQpe3RoaXMuX3BhcmFtLnZhbHVlPXR9Z2V0IGNvbnZlcnQoKXtyZXR1cm4gdGhpcy5fcGFyYW0uY29udmVydH1zZXQgY29udmVydCh0KXt0aGlzLl9wYXJhbS5jb252ZXJ0PXR9Z2V0IHVuaXRzKCl7cmV0dXJuIHRoaXMuX3BhcmFtLnVuaXRzfWdldCBvdmVycmlkZGVuKCl7cmV0dXJuIHRoaXMuX3BhcmFtLm92ZXJyaWRkZW59c2V0IG92ZXJyaWRkZW4odCl7dGhpcy5fcGFyYW0ub3ZlcnJpZGRlbj10fWdldCBtYXhWYWx1ZSgpe3JldHVybiB0aGlzLl9wYXJhbS5tYXhWYWx1ZX1nZXQgbWluVmFsdWUoKXtyZXR1cm4gdGhpcy5fcGFyYW0ubWluVmFsdWV9YXBwbHkodCl7cmV0dXJuIHRoaXMuX3BhcmFtLmFwcGx5KHQpLHRoaXN9fWZ1bmN0aW9uIE9vKHQsZSxzLG4peyhlIGluc3RhbmNlb2YgeG98fHdpKGUpfHxlIGluc3RhbmNlb2YgRG8mJmUub3ZlcnJpZGUpJiYoZS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoMCksZS5zZXRWYWx1ZUF0VGltZSgwLDApLGUgaW5zdGFuY2VvZiBEbyYmKGUub3ZlcnJpZGRlbj0hMCkpLFRvKHQsZSxzLG4pfWNsYXNzIE1vIGV4dGVuZHMgeG97Y29uc3RydWN0b3IoKXtzdXBlcihEaShNby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2YWx1ZVwiXSkpLHRoaXMubmFtZT1cIlRpY2tQYXJhbVwiLHRoaXMuX2V2ZW50cz1uZXcgTmkoMS8wKSx0aGlzLl9tdWx0aXBsaWVyPTE7Y29uc3QgdD1EaShNby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2YWx1ZVwiXSk7dGhpcy5fbXVsdGlwbGllcj10Lm11bHRpcGxpZXIsdGhpcy5fZXZlbnRzLmNhbmNlbCgwKSx0aGlzLl9ldmVudHMuYWRkKHt0aWNrczowLHRpbWU6MCx0eXBlOlwic2V0VmFsdWVBdFRpbWVcIix2YWx1ZTp0aGlzLl9mcm9tVHlwZSh0LnZhbHVlKX0pLHRoaXMuc2V0VmFsdWVBdFRpbWUodC52YWx1ZSwwKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih4by5nZXREZWZhdWx0cygpLHttdWx0aXBsaWVyOjEsdW5pdHM6XCJoZXJ0elwiLHZhbHVlOjF9KX1zZXRUYXJnZXRBdFRpbWUodCxlLHMpe2U9dGhpcy50b1NlY29uZHMoZSksdGhpcy5zZXRSYW1wUG9pbnQoZSk7Y29uc3Qgbj10aGlzLl9mcm9tVHlwZSh0KSxpPXRoaXMuX2V2ZW50cy5nZXQoZSksbz1NYXRoLnJvdW5kKE1hdGgubWF4KDEvcywxKSk7Zm9yKGxldCB0PTA7dDw9bzt0Kyspe2NvbnN0IG89cyp0K2Uscj10aGlzLl9leHBvbmVudGlhbEFwcHJvYWNoKGkudGltZSxpLnZhbHVlLG4scyxvKTt0aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuX3RvVHlwZShyKSxvKX1yZXR1cm4gdGhpc31zZXRWYWx1ZUF0VGltZSh0LGUpe2NvbnN0IHM9dGhpcy50b1NlY29uZHMoZSk7c3VwZXIuc2V0VmFsdWVBdFRpbWUodCxlKTtjb25zdCBuPXRoaXMuX2V2ZW50cy5nZXQocyksaT10aGlzLl9ldmVudHMucHJldmlvdXNFdmVudChuKSxvPXRoaXMuX2dldFRpY2tzVW50aWxFdmVudChpLHMpO3JldHVybiBuLnRpY2tzPU1hdGgubWF4KG8sMCksdGhpc31saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0LGUpe2NvbnN0IHM9dGhpcy50b1NlY29uZHMoZSk7c3VwZXIubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodCxlKTtjb25zdCBuPXRoaXMuX2V2ZW50cy5nZXQocyksaT10aGlzLl9ldmVudHMucHJldmlvdXNFdmVudChuKSxvPXRoaXMuX2dldFRpY2tzVW50aWxFdmVudChpLHMpO3JldHVybiBuLnRpY2tzPU1hdGgubWF4KG8sMCksdGhpc31leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHQsZSl7ZT10aGlzLnRvU2Vjb25kcyhlKTtjb25zdCBzPXRoaXMuX2Zyb21UeXBlKHQpLG49dGhpcy5fZXZlbnRzLmdldChlKSxpPU1hdGgucm91bmQoTWF0aC5tYXgoMTAqKGUtbi50aW1lKSwxKSksbz0oZS1uLnRpbWUpL2k7Zm9yKGxldCB0PTA7dDw9aTt0Kyspe2NvbnN0IGk9byp0K24udGltZSxyPXRoaXMuX2V4cG9uZW50aWFsSW50ZXJwb2xhdGUobi50aW1lLG4udmFsdWUsZSxzLGkpO3RoaXMubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGhpcy5fdG9UeXBlKHIpLGkpfXJldHVybiB0aGlzfV9nZXRUaWNrc1VudGlsRXZlbnQodCxlKXtpZihudWxsPT09dCl0PXt0aWNrczowLHRpbWU6MCx0eXBlOlwic2V0VmFsdWVBdFRpbWVcIix2YWx1ZTowfTtlbHNlIGlmKGFpKHQudGlja3MpKXtjb25zdCBlPXRoaXMuX2V2ZW50cy5wcmV2aW91c0V2ZW50KHQpO3QudGlja3M9dGhpcy5fZ2V0VGlja3NVbnRpbEV2ZW50KGUsdC50aW1lKX1jb25zdCBzPXRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUodC50aW1lKSk7bGV0IG49dGhpcy5fZnJvbVR5cGUodGhpcy5nZXRWYWx1ZUF0VGltZShlKSk7Y29uc3QgaT10aGlzLl9ldmVudHMuZ2V0KGUpO3JldHVybiBpJiZpLnRpbWU9PT1lJiZcInNldFZhbHVlQXRUaW1lXCI9PT1pLnR5cGUmJihuPXRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUoZS10aGlzLnNhbXBsZVRpbWUpKSksLjUqKGUtdC50aW1lKSoocytuKSt0LnRpY2tzfWdldFRpY2tzQXRUaW1lKHQpe2NvbnN0IGU9dGhpcy50b1NlY29uZHModCkscz10aGlzLl9ldmVudHMuZ2V0KGUpO3JldHVybiBNYXRoLm1heCh0aGlzLl9nZXRUaWNrc1VudGlsRXZlbnQocyxlKSwwKX1nZXREdXJhdGlvbk9mVGlja3ModCxlKXtjb25zdCBzPXRoaXMudG9TZWNvbmRzKGUpLG49dGhpcy5nZXRUaWNrc0F0VGltZShlKTtyZXR1cm4gdGhpcy5nZXRUaW1lT2ZUaWNrKG4rdCktc31nZXRUaW1lT2ZUaWNrKHQpe2NvbnN0IGU9dGhpcy5fZXZlbnRzLmdldCh0LFwidGlja3NcIikscz10aGlzLl9ldmVudHMuZ2V0QWZ0ZXIodCxcInRpY2tzXCIpO2lmKGUmJmUudGlja3M9PT10KXJldHVybiBlLnRpbWU7aWYoZSYmcyYmXCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZVwiPT09cy50eXBlJiZlLnZhbHVlIT09cy52YWx1ZSl7Y29uc3Qgbj10aGlzLl9mcm9tVHlwZSh0aGlzLmdldFZhbHVlQXRUaW1lKGUudGltZSkpLGk9KHRoaXMuX2Zyb21UeXBlKHRoaXMuZ2V0VmFsdWVBdFRpbWUocy50aW1lKSktbikvKHMudGltZS1lLnRpbWUpLG89TWF0aC5zcXJ0KE1hdGgucG93KG4sMiktMippKihlLnRpY2tzLXQpKSxyPSgtbitvKS9pLGE9KC1uLW8pL2k7cmV0dXJuKHI+MD9yOmEpK2UudGltZX1yZXR1cm4gZT8wPT09ZS52YWx1ZT8xLzA6ZS50aW1lKyh0LWUudGlja3MpL2UudmFsdWU6dC90aGlzLl9pbml0aWFsVmFsdWV9dGlja3NUb1RpbWUodCxlKXtyZXR1cm4gdGhpcy5nZXREdXJhdGlvbk9mVGlja3ModCxlKX10aW1lVG9UaWNrcyh0LGUpe2NvbnN0IHM9dGhpcy50b1NlY29uZHMoZSksbj10aGlzLnRvU2Vjb25kcyh0KSxpPXRoaXMuZ2V0VGlja3NBdFRpbWUocyk7cmV0dXJuIHRoaXMuZ2V0VGlja3NBdFRpbWUocytuKS1pfV9mcm9tVHlwZSh0KXtyZXR1cm5cImJwbVwiPT09dGhpcy51bml0cyYmdGhpcy5tdWx0aXBsaWVyPzEvKDYwL3QvdGhpcy5tdWx0aXBsaWVyKTpzdXBlci5fZnJvbVR5cGUodCl9X3RvVHlwZSh0KXtyZXR1cm5cImJwbVwiPT09dGhpcy51bml0cyYmdGhpcy5tdWx0aXBsaWVyP3QvdGhpcy5tdWx0aXBsaWVyKjYwOnN1cGVyLl90b1R5cGUodCl9Z2V0IG11bHRpcGxpZXIoKXtyZXR1cm4gdGhpcy5fbXVsdGlwbGllcn1zZXQgbXVsdGlwbGllcih0KXtjb25zdCBlPXRoaXMudmFsdWU7dGhpcy5fbXVsdGlwbGllcj10LHRoaXMuY2FuY2VsU2NoZWR1bGVkVmFsdWVzKDApLHRoaXMuc2V0VmFsdWVBdFRpbWUoZSwwKX19Y2xhc3MgRW8gZXh0ZW5kcyBEb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKEVvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInZhbHVlXCJdKSksdGhpcy5uYW1lPVwiVGlja1NpZ25hbFwiO2NvbnN0IHQ9RGkoRW8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widmFsdWVcIl0pO3RoaXMuaW5wdXQ9dGhpcy5fcGFyYW09bmV3IE1vKHtjb250ZXh0OnRoaXMuY29udGV4dCxjb252ZXJ0OnQuY29udmVydCxtdWx0aXBsaWVyOnQubXVsdGlwbGllcixwYXJhbTp0aGlzLl9jb25zdGFudFNvdXJjZS5vZmZzZXQsdW5pdHM6dC51bml0cyx2YWx1ZTp0LnZhbHVlfSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oRG8uZ2V0RGVmYXVsdHMoKSx7bXVsdGlwbGllcjoxLHVuaXRzOlwiaGVydHpcIix2YWx1ZToxfSl9dGlja3NUb1RpbWUodCxlKXtyZXR1cm4gdGhpcy5fcGFyYW0udGlja3NUb1RpbWUodCxlKX10aW1lVG9UaWNrcyh0LGUpe3JldHVybiB0aGlzLl9wYXJhbS50aW1lVG9UaWNrcyh0LGUpfWdldFRpbWVPZlRpY2sodCl7cmV0dXJuIHRoaXMuX3BhcmFtLmdldFRpbWVPZlRpY2sodCl9Z2V0RHVyYXRpb25PZlRpY2tzKHQsZSl7cmV0dXJuIHRoaXMuX3BhcmFtLmdldER1cmF0aW9uT2ZUaWNrcyh0LGUpfWdldFRpY2tzQXRUaW1lKHQpe3JldHVybiB0aGlzLl9wYXJhbS5nZXRUaWNrc0F0VGltZSh0KX1nZXQgbXVsdGlwbGllcigpe3JldHVybiB0aGlzLl9wYXJhbS5tdWx0aXBsaWVyfXNldCBtdWx0aXBsaWVyKHQpe3RoaXMuX3BhcmFtLm11bHRpcGxpZXI9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9wYXJhbS5kaXNwb3NlKCksdGhpc319Y2xhc3MgUm8gZXh0ZW5kcyB2b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKFJvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiXSkpLHRoaXMubmFtZT1cIlRpY2tTb3VyY2VcIix0aGlzLl9zdGF0ZT1uZXcgeW8sdGhpcy5fdGlja09mZnNldD1uZXcgTmk7Y29uc3QgdD1EaShSby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIl0pO3RoaXMuZnJlcXVlbmN5PW5ldyBFbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6dC51bml0cyx2YWx1ZTp0LmZyZXF1ZW5jeX0pLFVpKHRoaXMsXCJmcmVxdWVuY3lcIiksdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsMCksdGhpcy5zZXRUaWNrc0F0VGltZSgwLDApfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHtmcmVxdWVuY3k6MSx1bml0czpcImhlcnR6XCJ9LHZvLmdldERlZmF1bHRzKCkpfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLmdldFN0YXRlQXRUaW1lKHRoaXMubm93KCkpfXN0YXJ0KHQsZSl7Y29uc3Qgcz10aGlzLnRvU2Vjb25kcyh0KTtyZXR1cm5cInN0YXJ0ZWRcIiE9PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHMpJiYodGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdGFydGVkXCIscyksY2koZSkmJnRoaXMuc2V0VGlja3NBdFRpbWUoZSxzKSksdGhpc31zdG9wKHQpe2NvbnN0IGU9dGhpcy50b1NlY29uZHModCk7aWYoXCJzdG9wcGVkXCI9PT10aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShlKSl7Y29uc3QgdD10aGlzLl9zdGF0ZS5nZXQoZSk7dCYmdC50aW1lPjAmJih0aGlzLl90aWNrT2Zmc2V0LmNhbmNlbCh0LnRpbWUpLHRoaXMuX3N0YXRlLmNhbmNlbCh0LnRpbWUpKX1yZXR1cm4gdGhpcy5fc3RhdGUuY2FuY2VsKGUpLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLGUpLHRoaXMuc2V0VGlja3NBdFRpbWUoMCxlKSx0aGlzfXBhdXNlKHQpe2NvbnN0IGU9dGhpcy50b1NlY29uZHModCk7cmV0dXJuXCJzdGFydGVkXCI9PT10aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShlKSYmdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJwYXVzZWRcIixlKSx0aGlzfWNhbmNlbCh0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9zdGF0ZS5jYW5jZWwodCksdGhpcy5fdGlja09mZnNldC5jYW5jZWwodCksdGhpc31nZXRUaWNrc0F0VGltZSh0KXtjb25zdCBlPXRoaXMudG9TZWNvbmRzKHQpLHM9dGhpcy5fc3RhdGUuZ2V0TGFzdFN0YXRlKFwic3RvcHBlZFwiLGUpLG49e3N0YXRlOlwicGF1c2VkXCIsdGltZTplfTt0aGlzLl9zdGF0ZS5hZGQobik7bGV0IGk9cyxvPTA7cmV0dXJuIHRoaXMuX3N0YXRlLmZvckVhY2hCZXR3ZWVuKHMudGltZSxlK3RoaXMuc2FtcGxlVGltZSx0PT57bGV0IGU9aS50aW1lO2NvbnN0IHM9dGhpcy5fdGlja09mZnNldC5nZXQodC50aW1lKTtzJiZzLnRpbWU+PWkudGltZSYmKG89cy50aWNrcyxlPXMudGltZSksXCJzdGFydGVkXCI9PT1pLnN0YXRlJiZcInN0YXJ0ZWRcIiE9PXQuc3RhdGUmJihvKz10aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZSh0LnRpbWUpLXRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKGUpKSxpPXR9KSx0aGlzLl9zdGF0ZS5yZW1vdmUobiksb31nZXQgdGlja3MoKXtyZXR1cm4gdGhpcy5nZXRUaWNrc0F0VGltZSh0aGlzLm5vdygpKX1zZXQgdGlja3ModCl7dGhpcy5zZXRUaWNrc0F0VGltZSh0LHRoaXMubm93KCkpfWdldCBzZWNvbmRzKCl7cmV0dXJuIHRoaXMuZ2V0U2Vjb25kc0F0VGltZSh0aGlzLm5vdygpKX1zZXQgc2Vjb25kcyh0KXtjb25zdCBlPXRoaXMubm93KCkscz10aGlzLmZyZXF1ZW5jeS50aW1lVG9UaWNrcyh0LGUpO3RoaXMuc2V0VGlja3NBdFRpbWUocyxlKX1nZXRTZWNvbmRzQXRUaW1lKHQpe3Q9dGhpcy50b1NlY29uZHModCk7Y29uc3QgZT10aGlzLl9zdGF0ZS5nZXRMYXN0U3RhdGUoXCJzdG9wcGVkXCIsdCkscz17c3RhdGU6XCJwYXVzZWRcIix0aW1lOnR9O3RoaXMuX3N0YXRlLmFkZChzKTtsZXQgbj1lLGk9MDtyZXR1cm4gdGhpcy5fc3RhdGUuZm9yRWFjaEJldHdlZW4oZS50aW1lLHQrdGhpcy5zYW1wbGVUaW1lLHQ9PntsZXQgZT1uLnRpbWU7Y29uc3Qgcz10aGlzLl90aWNrT2Zmc2V0LmdldCh0LnRpbWUpO3MmJnMudGltZT49bi50aW1lJiYoaT1zLnNlY29uZHMsZT1zLnRpbWUpLFwic3RhcnRlZFwiPT09bi5zdGF0ZSYmXCJzdGFydGVkXCIhPT10LnN0YXRlJiYoaSs9dC50aW1lLWUpLG49dH0pLHRoaXMuX3N0YXRlLnJlbW92ZShzKSxpfXNldFRpY2tzQXRUaW1lKHQsZSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdGhpcy5fdGlja09mZnNldC5jYW5jZWwoZSksdGhpcy5fdGlja09mZnNldC5hZGQoe3NlY29uZHM6dGhpcy5mcmVxdWVuY3kuZ2V0RHVyYXRpb25PZlRpY2tzKHQsZSksdGlja3M6dCx0aW1lOmV9KSx0aGlzfWdldFN0YXRlQXRUaW1lKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHQpfWdldFRpbWVPZlRpY2sodCxlPXRoaXMubm93KCkpe2NvbnN0IHM9dGhpcy5fdGlja09mZnNldC5nZXQoZSksbj10aGlzLl9zdGF0ZS5nZXQoZSksaT1NYXRoLm1heChzLnRpbWUsbi50aW1lKSxvPXRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKGkpK3Qtcy50aWNrcztyZXR1cm4gdGhpcy5mcmVxdWVuY3kuZ2V0VGltZU9mVGljayhvKX1mb3JFYWNoVGlja0JldHdlZW4odCxlLHMpe2xldCBuPXRoaXMuX3N0YXRlLmdldCh0KTt0aGlzLl9zdGF0ZS5mb3JFYWNoQmV0d2Vlbih0LGUsZT0+e24mJlwic3RhcnRlZFwiPT09bi5zdGF0ZSYmXCJzdGFydGVkXCIhPT1lLnN0YXRlJiZ0aGlzLmZvckVhY2hUaWNrQmV0d2VlbihNYXRoLm1heChuLnRpbWUsdCksZS50aW1lLXRoaXMuc2FtcGxlVGltZSxzKSxuPWV9KTtsZXQgaT1udWxsO2lmKG4mJlwic3RhcnRlZFwiPT09bi5zdGF0ZSl7Y29uc3Qgbz1NYXRoLm1heChuLnRpbWUsdCkscj10aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZShvKSxhPXItdGhpcy5mcmVxdWVuY3kuZ2V0VGlja3NBdFRpbWUobi50aW1lKTtsZXQgYz1NYXRoLmNlaWwoYSktYTtjPUlpKGMsMSk/MDpjO2xldCBoPXRoaXMuZnJlcXVlbmN5LmdldFRpbWVPZlRpY2socitjKTtmb3IoO2g8ZTspe3RyeXtzKGgsTWF0aC5yb3VuZCh0aGlzLmdldFRpY2tzQXRUaW1lKGgpKSl9Y2F0Y2godCl7aT10O2JyZWFrfWgrPXRoaXMuZnJlcXVlbmN5LmdldER1cmF0aW9uT2ZUaWNrcygxLGgpfX1pZihpKXRocm93IGk7cmV0dXJuIHRoaXN9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fc3RhdGUuZGlzcG9zZSgpLHRoaXMuX3RpY2tPZmZzZXQuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBxbyBleHRlbmRzIHZve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkocW8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImZyZXF1ZW5jeVwiXSkpLHRoaXMubmFtZT1cIkNsb2NrXCIsdGhpcy5jYWxsYmFjaz1aaSx0aGlzLl9sYXN0VXBkYXRlPTAsdGhpcy5fc3RhdGU9bmV3IHlvKFwic3RvcHBlZFwiKSx0aGlzLl9ib3VuZExvb3A9dGhpcy5fbG9vcC5iaW5kKHRoaXMpO2NvbnN0IHQ9RGkocW8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImZyZXF1ZW5jeVwiXSk7dGhpcy5jYWxsYmFjaz10LmNhbGxiYWNrLHRoaXMuX3RpY2tTb3VyY2U9bmV3IFJvKHtjb250ZXh0OnRoaXMuY29udGV4dCxmcmVxdWVuY3k6dC5mcmVxdWVuY3ksdW5pdHM6dC51bml0c30pLHRoaXMuX2xhc3RVcGRhdGU9MCx0aGlzLmZyZXF1ZW5jeT10aGlzLl90aWNrU291cmNlLmZyZXF1ZW5jeSxVaSh0aGlzLFwiZnJlcXVlbmN5XCIpLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLDApLHRoaXMuY29udGV4dC5vbihcInRpY2tcIix0aGlzLl9ib3VuZExvb3ApfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHZvLmdldERlZmF1bHRzKCkse2NhbGxiYWNrOlppLGZyZXF1ZW5jeToxLHVuaXRzOlwiaGVydHpcIn0pfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aGlzLm5vdygpKX1zdGFydCh0LGUpe3NpKHRoaXMuY29udGV4dCk7Y29uc3Qgcz10aGlzLnRvU2Vjb25kcyh0KTtyZXR1cm4gdGhpcy5sb2coXCJzdGFydFwiLHMpLFwic3RhcnRlZFwiIT09dGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUocykmJih0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZShcInN0YXJ0ZWRcIixzKSx0aGlzLl90aWNrU291cmNlLnN0YXJ0KHMsZSksczx0aGlzLl9sYXN0VXBkYXRlJiZ0aGlzLmVtaXQoXCJzdGFydFwiLHMsZSkpLHRoaXN9c3RvcCh0KXtjb25zdCBlPXRoaXMudG9TZWNvbmRzKHQpO3JldHVybiB0aGlzLmxvZyhcInN0b3BcIixlKSx0aGlzLl9zdGF0ZS5jYW5jZWwoZSksdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsZSksdGhpcy5fdGlja1NvdXJjZS5zdG9wKGUpLGU8dGhpcy5fbGFzdFVwZGF0ZSYmdGhpcy5lbWl0KFwic3RvcFwiLGUpLHRoaXN9cGF1c2UodCl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTtyZXR1cm5cInN0YXJ0ZWRcIj09PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGUpJiYodGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJwYXVzZWRcIixlKSx0aGlzLl90aWNrU291cmNlLnBhdXNlKGUpLGU8dGhpcy5fbGFzdFVwZGF0ZSYmdGhpcy5lbWl0KFwicGF1c2VcIixlKSksdGhpc31nZXQgdGlja3MoKXtyZXR1cm4gTWF0aC5jZWlsKHRoaXMuZ2V0VGlja3NBdFRpbWUodGhpcy5ub3coKSkpfXNldCB0aWNrcyh0KXt0aGlzLl90aWNrU291cmNlLnRpY2tzPXR9Z2V0IHNlY29uZHMoKXtyZXR1cm4gdGhpcy5fdGlja1NvdXJjZS5zZWNvbmRzfXNldCBzZWNvbmRzKHQpe3RoaXMuX3RpY2tTb3VyY2Uuc2Vjb25kcz10fWdldFNlY29uZHNBdFRpbWUodCl7cmV0dXJuIHRoaXMuX3RpY2tTb3VyY2UuZ2V0U2Vjb25kc0F0VGltZSh0KX1zZXRUaWNrc0F0VGltZSh0LGUpe3JldHVybiB0aGlzLl90aWNrU291cmNlLnNldFRpY2tzQXRUaW1lKHQsZSksdGhpc31nZXRUaW1lT2ZUaWNrKHQsZT10aGlzLm5vdygpKXtyZXR1cm4gdGhpcy5fdGlja1NvdXJjZS5nZXRUaW1lT2ZUaWNrKHQsZSl9Z2V0VGlja3NBdFRpbWUodCl7cmV0dXJuIHRoaXMuX3RpY2tTb3VyY2UuZ2V0VGlja3NBdFRpbWUodCl9bmV4dFRpY2tUaW1lKHQsZSl7Y29uc3Qgcz10aGlzLnRvU2Vjb25kcyhlKSxuPXRoaXMuZ2V0VGlja3NBdFRpbWUocyk7cmV0dXJuIHRoaXMuX3RpY2tTb3VyY2UuZ2V0VGltZU9mVGljayhuK3Qscyl9X2xvb3AoKXtjb25zdCB0PXRoaXMuX2xhc3RVcGRhdGUsZT10aGlzLm5vdygpO3RoaXMuX2xhc3RVcGRhdGU9ZSx0aGlzLmxvZyhcImxvb3BcIix0LGUpLHQhPT1lJiYodGhpcy5fc3RhdGUuZm9yRWFjaEJldHdlZW4odCxlLHQ9Pntzd2l0Y2godC5zdGF0ZSl7Y2FzZVwic3RhcnRlZFwiOmNvbnN0IGU9dGhpcy5fdGlja1NvdXJjZS5nZXRUaWNrc0F0VGltZSh0LnRpbWUpO3RoaXMuZW1pdChcInN0YXJ0XCIsdC50aW1lLGUpO2JyZWFrO2Nhc2VcInN0b3BwZWRcIjowIT09dC50aW1lJiZ0aGlzLmVtaXQoXCJzdG9wXCIsdC50aW1lKTticmVhaztjYXNlXCJwYXVzZWRcIjp0aGlzLmVtaXQoXCJwYXVzZVwiLHQudGltZSl9fSksdGhpcy5fdGlja1NvdXJjZS5mb3JFYWNoVGlja0JldHdlZW4odCxlLCh0LGUpPT57dGhpcy5jYWxsYmFjayh0LGUpfSkpfWdldFN0YXRlQXRUaW1lKHQpe2NvbnN0IGU9dGhpcy50b1NlY29uZHModCk7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGUpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuY29udGV4dC5vZmYoXCJ0aWNrXCIsdGhpcy5fYm91bmRMb29wKSx0aGlzLl90aWNrU291cmNlLmRpc3Bvc2UoKSx0aGlzLl9zdGF0ZS5kaXNwb3NlKCksdGhpc319QmkubWl4aW4ocW8pO2NsYXNzIEZvIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihEaShGby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJkZWxheVRpbWVcIixcIm1heERlbGF5XCJdKSksdGhpcy5uYW1lPVwiRGVsYXlcIjtjb25zdCB0PURpKEZvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImRlbGF5VGltZVwiLFwibWF4RGVsYXlcIl0pLGU9dGhpcy50b1NlY29uZHModC5tYXhEZWxheSk7dGhpcy5fbWF4RGVsYXk9TWF0aC5tYXgoZSx0aGlzLnRvU2Vjb25kcyh0LmRlbGF5VGltZSkpLHRoaXMuX2RlbGF5Tm9kZT10aGlzLmlucHV0PXRoaXMub3V0cHV0PXRoaXMuY29udGV4dC5jcmVhdGVEZWxheShlKSx0aGlzLmRlbGF5VGltZT1uZXcgeG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHBhcmFtOnRoaXMuX2RlbGF5Tm9kZS5kZWxheVRpbWUsdW5pdHM6XCJ0aW1lXCIsdmFsdWU6dC5kZWxheVRpbWUsbWluVmFsdWU6MCxtYXhWYWx1ZTp0aGlzLm1heERlbGF5fSksVWkodGhpcyxcImRlbGF5VGltZVwiKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHtkZWxheVRpbWU6MCxtYXhEZWxheToxfSl9Z2V0IG1heERlbGF5KCl7cmV0dXJuIHRoaXMuX21heERlbGF5fWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2RlbGF5Tm9kZS5kaXNjb25uZWN0KCksdGhpcy5kZWxheVRpbWUuZGlzcG9zZSgpLHRoaXN9fWZ1bmN0aW9uIElvKHQsZSxzPTIsbj1KaSgpLnNhbXBsZVJhdGUpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IGk9SmkoKSxvPW5ldyBZaShzLGUsbik7S2kobykseWllbGQgdChvKTtjb25zdCByPW8ucmVuZGVyKCk7S2koaSk7Y29uc3QgYT15aWVsZCByO3JldHVybiBuZXcgWGkoYSl9KSl9Y2xhc3MgVm8gZXh0ZW5kcyBFaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5uYW1lPVwiVG9uZUF1ZGlvQnVmZmVyc1wiLHRoaXMuX2J1ZmZlcnM9bmV3IE1hcCx0aGlzLl9sb2FkaW5nQ291bnQ9MDtjb25zdCB0PURpKFZvLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInVybHNcIixcIm9ubG9hZFwiLFwiYmFzZVVybFwiXSxcInVybHNcIik7dGhpcy5iYXNlVXJsPXQuYmFzZVVybCxPYmplY3Qua2V5cyh0LnVybHMpLmZvckVhY2goZT0+e3RoaXMuX2xvYWRpbmdDb3VudCsrO2NvbnN0IHM9dC51cmxzW2VdO3RoaXMuYWRkKGUscyx0aGlzLl9idWZmZXJMb2FkZWQuYmluZCh0aGlzLHQub25sb2FkKSx0Lm9uZXJyb3IpfSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJue2Jhc2VVcmw6XCJcIixvbmVycm9yOlppLG9ubG9hZDpaaSx1cmxzOnt9fX1oYXModCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnMuaGFzKHQudG9TdHJpbmcoKSl9Z2V0KHQpe3JldHVybiB0aSh0aGlzLmhhcyh0KSxcIlRvbmVBdWRpb0J1ZmZlcnMgaGFzIG5vIGJ1ZmZlciBuYW1lZDogXCIrdCksdGhpcy5fYnVmZmVycy5nZXQodC50b1N0cmluZygpKX1fYnVmZmVyTG9hZGVkKHQpe3RoaXMuX2xvYWRpbmdDb3VudC0tLDA9PT10aGlzLl9sb2FkaW5nQ291bnQmJnQmJnQoKX1nZXQgbG9hZGVkKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYnVmZmVycykuZXZlcnkoKFt0LGVdKT0+ZS5sb2FkZWQpfWFkZCh0LGUscz1aaSxuPVppKXtyZXR1cm4gZmkoZSk/dGhpcy5fYnVmZmVycy5zZXQodC50b1N0cmluZygpLG5ldyBYaSh0aGlzLmJhc2VVcmwrZSxzLG4pKTp0aGlzLl9idWZmZXJzLnNldCh0LnRvU3RyaW5nKCksbmV3IFhpKGUscyxuKSksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9idWZmZXJzLmZvckVhY2godD0+dC5kaXNwb3NlKCkpLHRoaXMuX2J1ZmZlcnMuY2xlYXIoKSx0aGlzfX1jbGFzcyBObyBleHRlbmRzIGxve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5hbWU9XCJNaWRpQ2xhc3NcIix0aGlzLmRlZmF1bHRVbml0cz1cIm1pZGlcIn1fZnJlcXVlbmN5VG9Vbml0cyh0KXtyZXR1cm4gb28oc3VwZXIuX2ZyZXF1ZW5jeVRvVW5pdHModCkpfV90aWNrc1RvVW5pdHModCl7cmV0dXJuIG9vKHN1cGVyLl90aWNrc1RvVW5pdHModCkpfV9iZWF0c1RvVW5pdHModCl7cmV0dXJuIG9vKHN1cGVyLl9iZWF0c1RvVW5pdHModCkpfV9zZWNvbmRzVG9Vbml0cyh0KXtyZXR1cm4gb28oc3VwZXIuX3NlY29uZHNUb1VuaXRzKHQpKX10b01pZGkoKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9dG9GcmVxdWVuY3koKXtyZXR1cm4gYW8odGhpcy50b01pZGkoKSl9dHJhbnNwb3NlKHQpe3JldHVybiBuZXcgTm8odGhpcy5jb250ZXh0LHRoaXMudG9NaWRpKCkrdCl9fWZ1bmN0aW9uIFBvKHQsZSl7cmV0dXJuIG5ldyBObyhKaSgpLHQsZSl9Y2xhc3Mgam8gZXh0ZW5kcyBtb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPVwiVGlja3NcIix0aGlzLmRlZmF1bHRVbml0cz1cImlcIn1fbm93KCl7cmV0dXJuIHRoaXMuY29udGV4dC50cmFuc3BvcnQudGlja3N9X2JlYXRzVG9Vbml0cyh0KXtyZXR1cm4gdGhpcy5fZ2V0UFBRKCkqdH1fc2Vjb25kc1RvVW5pdHModCl7cmV0dXJuIE1hdGguZmxvb3IodC8oNjAvdGhpcy5fZ2V0QnBtKCkpKnRoaXMuX2dldFBQUSgpKX1fdGlja3NUb1VuaXRzKHQpe3JldHVybiB0fXRvVGlja3MoKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9dG9TZWNvbmRzKCl7cmV0dXJuIHRoaXMudmFsdWVPZigpL3RoaXMuX2dldFBQUSgpKig2MC90aGlzLl9nZXRCcG0oKSl9fWZ1bmN0aW9uIExvKHQsZSl7cmV0dXJuIG5ldyBqbyhKaSgpLHQsZSl9Y2xhc3Mgem8gZXh0ZW5kcyB2b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPVwiRHJhd1wiLHRoaXMuZXhwaXJhdGlvbj0uMjUsdGhpcy5hbnRpY2lwYXRpb249LjAwOCx0aGlzLl9ldmVudHM9bmV3IE5pLHRoaXMuX2JvdW5kRHJhd0xvb3A9dGhpcy5fZHJhd0xvb3AuYmluZCh0aGlzKSx0aGlzLl9hbmltYXRpb25GcmFtZT0tMX1zY2hlZHVsZSh0LGUpe3JldHVybiB0aGlzLl9ldmVudHMuYWRkKHtjYWxsYmFjazp0LHRpbWU6dGhpcy50b1NlY29uZHMoZSl9KSwxPT09dGhpcy5fZXZlbnRzLmxlbmd0aCYmKHRoaXMuX2FuaW1hdGlvbkZyYW1lPXJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9ib3VuZERyYXdMb29wKSksdGhpc31jYW5jZWwodCl7cmV0dXJuIHRoaXMuX2V2ZW50cy5jYW5jZWwodGhpcy50b1NlY29uZHModCkpLHRoaXN9X2RyYXdMb29wKCl7Y29uc3QgdD10aGlzLmNvbnRleHQuY3VycmVudFRpbWU7Zm9yKDt0aGlzLl9ldmVudHMubGVuZ3RoJiZ0aGlzLl9ldmVudHMucGVlaygpLnRpbWUtdGhpcy5hbnRpY2lwYXRpb248PXQ7KXtjb25zdCBlPXRoaXMuX2V2ZW50cy5zaGlmdCgpO2UmJnQtZS50aW1lPD10aGlzLmV4cGlyYXRpb24mJmUuY2FsbGJhY2soKX10aGlzLl9ldmVudHMubGVuZ3RoPjAmJih0aGlzLl9hbmltYXRpb25GcmFtZT1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYm91bmREcmF3TG9vcCkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2V2ZW50cy5kaXNwb3NlKCksY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0aW9uRnJhbWUpLHRoaXN9fWppKHQ9Pnt0LmRyYXc9bmV3IHpvKHtjb250ZXh0OnR9KX0pLHppKHQ9Pnt0LmRyYXcuZGlzcG9zZSgpfSk7Y2xhc3MgQm8gZXh0ZW5kcyBFaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPVwiSW50ZXJ2YWxUaW1lbGluZVwiLHRoaXMuX3Jvb3Q9bnVsbCx0aGlzLl9sZW5ndGg9MH1hZGQodCl7dGkoY2kodC50aW1lKSxcIkV2ZW50cyBtdXN0IGhhdmUgYSB0aW1lIHByb3BlcnR5XCIpLHRpKGNpKHQuZHVyYXRpb24pLFwiRXZlbnRzIG11c3QgaGF2ZSBhIGR1cmF0aW9uIHBhcmFtZXRlclwiKSx0LnRpbWU9dC50aW1lLnZhbHVlT2YoKTtsZXQgZT1uZXcgV28odC50aW1lLHQudGltZSt0LmR1cmF0aW9uLHQpO2ZvcihudWxsPT09dGhpcy5fcm9vdD90aGlzLl9yb290PWU6dGhpcy5fcm9vdC5pbnNlcnQoZSksdGhpcy5fbGVuZ3RoKys7bnVsbCE9PWU7KWUudXBkYXRlSGVpZ2h0KCksZS51cGRhdGVNYXgoKSx0aGlzLl9yZWJhbGFuY2UoZSksZT1lLnBhcmVudDtyZXR1cm4gdGhpc31yZW1vdmUodCl7aWYobnVsbCE9PXRoaXMuX3Jvb3Qpe2NvbnN0IGU9W107dGhpcy5fcm9vdC5zZWFyY2godC50aW1lLGUpO2Zvcihjb25zdCBzIG9mIGUpaWYocy5ldmVudD09PXQpe3RoaXMuX3JlbW92ZU5vZGUocyksdGhpcy5fbGVuZ3RoLS07YnJlYWt9fXJldHVybiB0aGlzfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbGVuZ3RofWNhbmNlbCh0KXtyZXR1cm4gdGhpcy5mb3JFYWNoRnJvbSh0LHQ9PnRoaXMucmVtb3ZlKHQpKSx0aGlzfV9zZXRSb290KHQpe3RoaXMuX3Jvb3Q9dCxudWxsIT09dGhpcy5fcm9vdCYmKHRoaXMuX3Jvb3QucGFyZW50PW51bGwpfV9yZXBsYWNlTm9kZUluUGFyZW50KHQsZSl7bnVsbCE9PXQucGFyZW50Pyh0LmlzTGVmdENoaWxkKCk/dC5wYXJlbnQubGVmdD1lOnQucGFyZW50LnJpZ2h0PWUsdGhpcy5fcmViYWxhbmNlKHQucGFyZW50KSk6dGhpcy5fc2V0Um9vdChlKX1fcmVtb3ZlTm9kZSh0KXtpZihudWxsPT09dC5sZWZ0JiZudWxsPT09dC5yaWdodCl0aGlzLl9yZXBsYWNlTm9kZUluUGFyZW50KHQsbnVsbCk7ZWxzZSBpZihudWxsPT09dC5yaWdodCl0aGlzLl9yZXBsYWNlTm9kZUluUGFyZW50KHQsdC5sZWZ0KTtlbHNlIGlmKG51bGw9PT10LmxlZnQpdGhpcy5fcmVwbGFjZU5vZGVJblBhcmVudCh0LHQucmlnaHQpO2Vsc2V7bGV0IGUscz1udWxsO2lmKHQuZ2V0QmFsYW5jZSgpPjApaWYobnVsbD09PXQubGVmdC5yaWdodCllPXQubGVmdCxlLnJpZ2h0PXQucmlnaHQscz1lO2Vsc2V7Zm9yKGU9dC5sZWZ0LnJpZ2h0O251bGwhPT1lLnJpZ2h0OyllPWUucmlnaHQ7ZS5wYXJlbnQmJihlLnBhcmVudC5yaWdodD1lLmxlZnQscz1lLnBhcmVudCxlLmxlZnQ9dC5sZWZ0LGUucmlnaHQ9dC5yaWdodCl9ZWxzZSBpZihudWxsPT09dC5yaWdodC5sZWZ0KWU9dC5yaWdodCxlLmxlZnQ9dC5sZWZ0LHM9ZTtlbHNle2ZvcihlPXQucmlnaHQubGVmdDtudWxsIT09ZS5sZWZ0OyllPWUubGVmdDtlLnBhcmVudCYmKGUucGFyZW50LmxlZnQ9ZS5yaWdodCxzPWUucGFyZW50LGUubGVmdD10LmxlZnQsZS5yaWdodD10LnJpZ2h0KX1udWxsIT09dC5wYXJlbnQ/dC5pc0xlZnRDaGlsZCgpP3QucGFyZW50LmxlZnQ9ZTp0LnBhcmVudC5yaWdodD1lOnRoaXMuX3NldFJvb3QoZSkscyYmdGhpcy5fcmViYWxhbmNlKHMpfXQuZGlzcG9zZSgpfV9yb3RhdGVMZWZ0KHQpe2NvbnN0IGU9dC5wYXJlbnQscz10LmlzTGVmdENoaWxkKCksbj10LnJpZ2h0O24mJih0LnJpZ2h0PW4ubGVmdCxuLmxlZnQ9dCksbnVsbCE9PWU/cz9lLmxlZnQ9bjplLnJpZ2h0PW46dGhpcy5fc2V0Um9vdChuKX1fcm90YXRlUmlnaHQodCl7Y29uc3QgZT10LnBhcmVudCxzPXQuaXNMZWZ0Q2hpbGQoKSxuPXQubGVmdDtuJiYodC5sZWZ0PW4ucmlnaHQsbi5yaWdodD10KSxudWxsIT09ZT9zP2UubGVmdD1uOmUucmlnaHQ9bjp0aGlzLl9zZXRSb290KG4pfV9yZWJhbGFuY2UodCl7Y29uc3QgZT10LmdldEJhbGFuY2UoKTtlPjEmJnQubGVmdD90LmxlZnQuZ2V0QmFsYW5jZSgpPDA/dGhpcy5fcm90YXRlTGVmdCh0LmxlZnQpOnRoaXMuX3JvdGF0ZVJpZ2h0KHQpOmU8LTEmJnQucmlnaHQmJih0LnJpZ2h0LmdldEJhbGFuY2UoKT4wP3RoaXMuX3JvdGF0ZVJpZ2h0KHQucmlnaHQpOnRoaXMuX3JvdGF0ZUxlZnQodCkpfWdldCh0KXtpZihudWxsIT09dGhpcy5fcm9vdCl7Y29uc3QgZT1bXTtpZih0aGlzLl9yb290LnNlYXJjaCh0LGUpLGUubGVuZ3RoPjApe2xldCB0PWVbMF07Zm9yKGxldCBzPTE7czxlLmxlbmd0aDtzKyspZVtzXS5sb3c+dC5sb3cmJih0PWVbc10pO3JldHVybiB0LmV2ZW50fX1yZXR1cm4gbnVsbH1mb3JFYWNoKHQpe2lmKG51bGwhPT10aGlzLl9yb290KXtjb25zdCBlPVtdO3RoaXMuX3Jvb3QudHJhdmVyc2UodD0+ZS5wdXNoKHQpKSxlLmZvckVhY2goZT0+e2UuZXZlbnQmJnQoZS5ldmVudCl9KX1yZXR1cm4gdGhpc31mb3JFYWNoQXRUaW1lKHQsZSl7aWYobnVsbCE9PXRoaXMuX3Jvb3Qpe2NvbnN0IHM9W107dGhpcy5fcm9vdC5zZWFyY2godCxzKSxzLmZvckVhY2godD0+e3QuZXZlbnQmJmUodC5ldmVudCl9KX1yZXR1cm4gdGhpc31mb3JFYWNoRnJvbSh0LGUpe2lmKG51bGwhPT10aGlzLl9yb290KXtjb25zdCBzPVtdO3RoaXMuX3Jvb3Quc2VhcmNoQWZ0ZXIodCxzKSxzLmZvckVhY2godD0+e3QuZXZlbnQmJmUodC5ldmVudCl9KX1yZXR1cm4gdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSxudWxsIT09dGhpcy5fcm9vdCYmdGhpcy5fcm9vdC50cmF2ZXJzZSh0PT50LmRpc3Bvc2UoKSksdGhpcy5fcm9vdD1udWxsLHRoaXN9fWNsYXNzIFdve2NvbnN0cnVjdG9yKHQsZSxzKXt0aGlzLl9sZWZ0PW51bGwsdGhpcy5fcmlnaHQ9bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMuaGVpZ2h0PTAsdGhpcy5ldmVudD1zLHRoaXMubG93PXQsdGhpcy5oaWdoPWUsdGhpcy5tYXg9dGhpcy5oaWdofWluc2VydCh0KXt0Lmxvdzw9dGhpcy5sb3c/bnVsbD09PXRoaXMubGVmdD90aGlzLmxlZnQ9dDp0aGlzLmxlZnQuaW5zZXJ0KHQpOm51bGw9PT10aGlzLnJpZ2h0P3RoaXMucmlnaHQ9dDp0aGlzLnJpZ2h0Lmluc2VydCh0KX1zZWFyY2godCxlKXt0PnRoaXMubWF4fHwobnVsbCE9PXRoaXMubGVmdCYmdGhpcy5sZWZ0LnNlYXJjaCh0LGUpLHRoaXMubG93PD10JiZ0aGlzLmhpZ2g+dCYmZS5wdXNoKHRoaXMpLHRoaXMubG93PnR8fG51bGwhPT10aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LnNlYXJjaCh0LGUpKX1zZWFyY2hBZnRlcih0LGUpe3RoaXMubG93Pj10JiYoZS5wdXNoKHRoaXMpLG51bGwhPT10aGlzLmxlZnQmJnRoaXMubGVmdC5zZWFyY2hBZnRlcih0LGUpKSxudWxsIT09dGhpcy5yaWdodCYmdGhpcy5yaWdodC5zZWFyY2hBZnRlcih0LGUpfXRyYXZlcnNlKHQpe3QodGhpcyksbnVsbCE9PXRoaXMubGVmdCYmdGhpcy5sZWZ0LnRyYXZlcnNlKHQpLG51bGwhPT10aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LnRyYXZlcnNlKHQpfXVwZGF0ZUhlaWdodCgpe251bGwhPT10aGlzLmxlZnQmJm51bGwhPT10aGlzLnJpZ2h0P3RoaXMuaGVpZ2h0PU1hdGgubWF4KHRoaXMubGVmdC5oZWlnaHQsdGhpcy5yaWdodC5oZWlnaHQpKzE6bnVsbCE9PXRoaXMucmlnaHQ/dGhpcy5oZWlnaHQ9dGhpcy5yaWdodC5oZWlnaHQrMTpudWxsIT09dGhpcy5sZWZ0P3RoaXMuaGVpZ2h0PXRoaXMubGVmdC5oZWlnaHQrMTp0aGlzLmhlaWdodD0wfXVwZGF0ZU1heCgpe3RoaXMubWF4PXRoaXMuaGlnaCxudWxsIT09dGhpcy5sZWZ0JiYodGhpcy5tYXg9TWF0aC5tYXgodGhpcy5tYXgsdGhpcy5sZWZ0Lm1heCkpLG51bGwhPT10aGlzLnJpZ2h0JiYodGhpcy5tYXg9TWF0aC5tYXgodGhpcy5tYXgsdGhpcy5yaWdodC5tYXgpKX1nZXRCYWxhbmNlKCl7bGV0IHQ9MDtyZXR1cm4gbnVsbCE9PXRoaXMubGVmdCYmbnVsbCE9PXRoaXMucmlnaHQ/dD10aGlzLmxlZnQuaGVpZ2h0LXRoaXMucmlnaHQuaGVpZ2h0Om51bGwhPT10aGlzLmxlZnQ/dD10aGlzLmxlZnQuaGVpZ2h0KzE6bnVsbCE9PXRoaXMucmlnaHQmJih0PS0odGhpcy5yaWdodC5oZWlnaHQrMSkpLHR9aXNMZWZ0Q2hpbGQoKXtyZXR1cm4gbnVsbCE9PXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5sZWZ0PT09dGhpc31nZXQgbGVmdCgpe3JldHVybiB0aGlzLl9sZWZ0fXNldCBsZWZ0KHQpe3RoaXMuX2xlZnQ9dCxudWxsIT09dCYmKHQucGFyZW50PXRoaXMpLHRoaXMudXBkYXRlSGVpZ2h0KCksdGhpcy51cGRhdGVNYXgoKX1nZXQgcmlnaHQoKXtyZXR1cm4gdGhpcy5fcmlnaHR9c2V0IHJpZ2h0KHQpe3RoaXMuX3JpZ2h0PXQsbnVsbCE9PXQmJih0LnBhcmVudD10aGlzKSx0aGlzLnVwZGF0ZUhlaWdodCgpLHRoaXMudXBkYXRlTWF4KCl9ZGlzcG9zZSgpe3RoaXMucGFyZW50PW51bGwsdGhpcy5fbGVmdD1udWxsLHRoaXMuX3JpZ2h0PW51bGwsdGhpcy5ldmVudD1udWxsfX1jbGFzcyBHbyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoR28uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widm9sdW1lXCJdKSksdGhpcy5uYW1lPVwiVm9sdW1lXCI7Y29uc3QgdD1EaShHby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2b2x1bWVcIl0pO3RoaXMuaW5wdXQ9dGhpcy5vdXRwdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOnQudm9sdW1lLHVuaXRzOlwiZGVjaWJlbHNcIn0pLHRoaXMudm9sdW1lPXRoaXMub3V0cHV0LmdhaW4sVWkodGhpcyxcInZvbHVtZVwiKSx0aGlzLl91bm11dGVkVm9sdW1lPXQudm9sdW1lLHRoaXMubXV0ZT10Lm11dGV9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7bXV0ZTohMSx2b2x1bWU6MH0pfWdldCBtdXRlKCl7cmV0dXJuIHRoaXMudm9sdW1lLnZhbHVlPT09LTEvMH1zZXQgbXV0ZSh0KXshdGhpcy5tdXRlJiZ0Pyh0aGlzLl91bm11dGVkVm9sdW1lPXRoaXMudm9sdW1lLnZhbHVlLHRoaXMudm9sdW1lLnZhbHVlPS0xLzApOnRoaXMubXV0ZSYmIXQmJih0aGlzLnZvbHVtZS52YWx1ZT10aGlzLl91bm11dGVkVm9sdW1lKX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmlucHV0LmRpc3Bvc2UoKSx0aGlzLnZvbHVtZS5kaXNwb3NlKCksdGhpc319Y2xhc3MgVW8gZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKFVvLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSksdGhpcy5uYW1lPVwiRGVzdGluYXRpb25cIix0aGlzLmlucHV0PW5ldyBHbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLm91dHB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy52b2x1bWU9dGhpcy5pbnB1dC52b2x1bWU7Y29uc3QgdD1EaShVby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyk7Ym8odGhpcy5pbnB1dCx0aGlzLm91dHB1dCx0aGlzLmNvbnRleHQucmF3Q29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5tdXRlPXQubXV0ZSx0aGlzLl9pbnRlcm5hbENoYW5uZWxzPVt0aGlzLmlucHV0LHRoaXMuY29udGV4dC5yYXdDb250ZXh0LmRlc3RpbmF0aW9uLHRoaXMub3V0cHV0XX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHttdXRlOiExLHZvbHVtZTowfSl9Z2V0IG11dGUoKXtyZXR1cm4gdGhpcy5pbnB1dC5tdXRlfXNldCBtdXRlKHQpe3RoaXMuaW5wdXQubXV0ZT10fWNoYWluKC4uLnQpe3JldHVybiB0aGlzLmlucHV0LmRpc2Nvbm5lY3QoKSx0LnVuc2hpZnQodGhpcy5pbnB1dCksdC5wdXNoKHRoaXMub3V0cHV0KSxibyguLi50KSx0aGlzfWdldCBtYXhDaGFubmVsQ291bnQoKXtyZXR1cm4gdGhpcy5jb250ZXh0LnJhd0NvbnRleHQuZGVzdGluYXRpb24ubWF4Q2hhbm5lbENvdW50fWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMudm9sdW1lLmRpc3Bvc2UoKSx0aGlzfX1qaSh0PT57dC5kZXN0aW5hdGlvbj1uZXcgVW8oe2NvbnRleHQ6dH0pfSksemkodD0+e3QuZGVzdGluYXRpb24uZGlzcG9zZSgpfSk7Y2xhc3MgUW8gZXh0ZW5kcyBFaXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubmFtZT1cIlRpbWVsaW5lVmFsdWVcIix0aGlzLl90aW1lbGluZT1uZXcgTmkoe21lbW9yeToxMH0pLHRoaXMuX2luaXRpYWxWYWx1ZT10fXNldCh0LGUpe3JldHVybiB0aGlzLl90aW1lbGluZS5hZGQoe3ZhbHVlOnQsdGltZTplfSksdGhpc31nZXQodCl7Y29uc3QgZT10aGlzLl90aW1lbGluZS5nZXQodCk7cmV0dXJuIGU/ZS52YWx1ZTp0aGlzLl9pbml0aWFsVmFsdWV9fWNsYXNzIFpve2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5pZD1aby5fZXZlbnRJZCsrO2NvbnN0IHM9T2JqZWN0LmFzc2lnbihaby5nZXREZWZhdWx0cygpLGUpO3RoaXMudHJhbnNwb3J0PXQsdGhpcy5jYWxsYmFjaz1zLmNhbGxiYWNrLHRoaXMuX29uY2U9cy5vbmNlLHRoaXMudGltZT1zLnRpbWV9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJue2NhbGxiYWNrOlppLG9uY2U6ITEsdGltZTowfX1pbnZva2UodCl7dGhpcy5jYWxsYmFjayYmKHRoaXMuY2FsbGJhY2sodCksdGhpcy5fb25jZSYmdGhpcy50cmFuc3BvcnQuY2xlYXIodGhpcy5pZCkpfWRpc3Bvc2UoKXtyZXR1cm4gdGhpcy5jYWxsYmFjaz12b2lkIDAsdGhpc319Wm8uX2V2ZW50SWQ9MDtjbGFzcyBYbyBleHRlbmRzIFpve2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLl9jdXJyZW50SWQ9LTEsdGhpcy5fbmV4dElkPS0xLHRoaXMuX25leHRUaWNrPXRoaXMudGltZSx0aGlzLl9ib3VuZFJlc3RhcnQ9dGhpcy5fcmVzdGFydC5iaW5kKHRoaXMpO2NvbnN0IHM9T2JqZWN0LmFzc2lnbihYby5nZXREZWZhdWx0cygpLGUpO3RoaXMuZHVyYXRpb249bmV3IGpvKHQuY29udGV4dCxzLmR1cmF0aW9uKS52YWx1ZU9mKCksdGhpcy5faW50ZXJ2YWw9bmV3IGpvKHQuY29udGV4dCxzLmludGVydmFsKS52YWx1ZU9mKCksdGhpcy5fbmV4dFRpY2s9cy50aW1lLHRoaXMudHJhbnNwb3J0Lm9uKFwic3RhcnRcIix0aGlzLl9ib3VuZFJlc3RhcnQpLHRoaXMudHJhbnNwb3J0Lm9uKFwibG9vcFN0YXJ0XCIsdGhpcy5fYm91bmRSZXN0YXJ0KSx0aGlzLmNvbnRleHQ9dGhpcy50cmFuc3BvcnQuY29udGV4dCx0aGlzLl9yZXN0YXJ0KCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sWm8uZ2V0RGVmYXVsdHMoKSx7ZHVyYXRpb246MS8wLGludGVydmFsOjEsb25jZTohMX0pfWludm9rZSh0KXt0aGlzLl9jcmVhdGVFdmVudHModCksc3VwZXIuaW52b2tlKHQpfV9jcmVhdGVFdmVudHModCl7Y29uc3QgZT10aGlzLnRyYW5zcG9ydC5nZXRUaWNrc0F0VGltZSh0KTtlPj10aGlzLnRpbWUmJmU+PXRoaXMuX25leHRUaWNrJiZ0aGlzLl9uZXh0VGljayt0aGlzLl9pbnRlcnZhbDx0aGlzLnRpbWUrdGhpcy5kdXJhdGlvbiYmKHRoaXMuX25leHRUaWNrKz10aGlzLl9pbnRlcnZhbCx0aGlzLl9jdXJyZW50SWQ9dGhpcy5fbmV4dElkLHRoaXMuX25leHRJZD10aGlzLnRyYW5zcG9ydC5zY2hlZHVsZU9uY2UodGhpcy5pbnZva2UuYmluZCh0aGlzKSxuZXcgam8odGhpcy5jb250ZXh0LHRoaXMuX25leHRUaWNrKS50b1NlY29uZHMoKSkpfV9yZXN0YXJ0KHQpe3RoaXMudHJhbnNwb3J0LmNsZWFyKHRoaXMuX2N1cnJlbnRJZCksdGhpcy50cmFuc3BvcnQuY2xlYXIodGhpcy5fbmV4dElkKSx0aGlzLl9uZXh0VGljaz10aGlzLnRpbWU7Y29uc3QgZT10aGlzLnRyYW5zcG9ydC5nZXRUaWNrc0F0VGltZSh0KTtlPnRoaXMudGltZSYmKHRoaXMuX25leHRUaWNrPXRoaXMudGltZStNYXRoLmNlaWwoKGUtdGhpcy50aW1lKS90aGlzLl9pbnRlcnZhbCkqdGhpcy5faW50ZXJ2YWwpLHRoaXMuX2N1cnJlbnRJZD10aGlzLnRyYW5zcG9ydC5zY2hlZHVsZU9uY2UodGhpcy5pbnZva2UuYmluZCh0aGlzKSxuZXcgam8odGhpcy5jb250ZXh0LHRoaXMuX25leHRUaWNrKS50b1NlY29uZHMoKSksdGhpcy5fbmV4dFRpY2srPXRoaXMuX2ludGVydmFsLHRoaXMuX25leHRJZD10aGlzLnRyYW5zcG9ydC5zY2hlZHVsZU9uY2UodGhpcy5pbnZva2UuYmluZCh0aGlzKSxuZXcgam8odGhpcy5jb250ZXh0LHRoaXMuX25leHRUaWNrKS50b1NlY29uZHMoKSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy50cmFuc3BvcnQuY2xlYXIodGhpcy5fY3VycmVudElkKSx0aGlzLnRyYW5zcG9ydC5jbGVhcih0aGlzLl9uZXh0SWQpLHRoaXMudHJhbnNwb3J0Lm9mZihcInN0YXJ0XCIsdGhpcy5fYm91bmRSZXN0YXJ0KSx0aGlzLnRyYW5zcG9ydC5vZmYoXCJsb29wU3RhcnRcIix0aGlzLl9ib3VuZFJlc3RhcnQpLHRoaXN9fWNsYXNzIFlvIGV4dGVuZHMgdm97Y29uc3RydWN0b3IoKXtzdXBlcihEaShZby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpLHRoaXMubmFtZT1cIlRyYW5zcG9ydFwiLHRoaXMuX2xvb3A9bmV3IFFvKCExKSx0aGlzLl9sb29wU3RhcnQ9MCx0aGlzLl9sb29wRW5kPTAsdGhpcy5fc2NoZWR1bGVkRXZlbnRzPXt9LHRoaXMuX3RpbWVsaW5lPW5ldyBOaSx0aGlzLl9yZXBlYXRlZEV2ZW50cz1uZXcgQm8sdGhpcy5fc3luY2VkU2lnbmFscz1bXSx0aGlzLl9zd2luZ0Ftb3VudD0wO2NvbnN0IHQ9RGkoWW8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpO3RoaXMuX3BwcT10LnBwcSx0aGlzLl9jbG9jaz1uZXcgcW8oe2NhbGxiYWNrOnRoaXMuX3Byb2Nlc3NUaWNrLmJpbmQodGhpcyksY29udGV4dDp0aGlzLmNvbnRleHQsZnJlcXVlbmN5OjAsdW5pdHM6XCJicG1cIn0pLHRoaXMuX2JpbmRDbG9ja0V2ZW50cygpLHRoaXMuYnBtPXRoaXMuX2Nsb2NrLmZyZXF1ZW5jeSx0aGlzLl9jbG9jay5mcmVxdWVuY3kubXVsdGlwbGllcj10LnBwcSx0aGlzLmJwbS5zZXRWYWx1ZUF0VGltZSh0LmJwbSwwKSxVaSh0aGlzLFwiYnBtXCIpLHRoaXMuX3RpbWVTaWduYXR1cmU9dC50aW1lU2lnbmF0dXJlLHRoaXMuX3N3aW5nVGlja3M9dC5wcHEvMn1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih2by5nZXREZWZhdWx0cygpLHticG06MTIwLGxvb3BFbmQ6XCI0bVwiLGxvb3BTdGFydDowLHBwcToxOTIsc3dpbmc6MCxzd2luZ1N1YmRpdmlzaW9uOlwiOG5cIix0aW1lU2lnbmF0dXJlOjR9KX1fcHJvY2Vzc1RpY2sodCxlKXtpZih0aGlzLl9sb29wLmdldCh0KSYmZT49dGhpcy5fbG9vcEVuZCYmKHRoaXMuZW1pdChcImxvb3BFbmRcIix0KSx0aGlzLl9jbG9jay5zZXRUaWNrc0F0VGltZSh0aGlzLl9sb29wU3RhcnQsdCksZT10aGlzLl9sb29wU3RhcnQsdGhpcy5lbWl0KFwibG9vcFN0YXJ0XCIsdCx0aGlzLl9jbG9jay5nZXRTZWNvbmRzQXRUaW1lKHQpKSx0aGlzLmVtaXQoXCJsb29wXCIsdCkpLHRoaXMuX3N3aW5nQW1vdW50PjAmJmUldGhpcy5fcHBxIT0wJiZlJSgyKnRoaXMuX3N3aW5nVGlja3MpIT0wKXtjb25zdCBzPWUlKDIqdGhpcy5fc3dpbmdUaWNrcykvKDIqdGhpcy5fc3dpbmdUaWNrcyksbj1NYXRoLnNpbihzKk1hdGguUEkpKnRoaXMuX3N3aW5nQW1vdW50O3QrPW5ldyBqbyh0aGlzLmNvbnRleHQsMip0aGlzLl9zd2luZ1RpY2tzLzMpLnRvU2Vjb25kcygpKm59dGhpcy5fdGltZWxpbmUuZm9yRWFjaEF0VGltZShlLGU9PmUuaW52b2tlKHQpKX1zY2hlZHVsZSh0LGUpe2NvbnN0IHM9bmV3IFpvKHRoaXMse2NhbGxiYWNrOnQsdGltZTpuZXcgbW8odGhpcy5jb250ZXh0LGUpLnRvVGlja3MoKX0pO3JldHVybiB0aGlzLl9hZGRFdmVudChzLHRoaXMuX3RpbWVsaW5lKX1zY2hlZHVsZVJlcGVhdCh0LGUscyxuPTEvMCl7Y29uc3QgaT1uZXcgWG8odGhpcyx7Y2FsbGJhY2s6dCxkdXJhdGlvbjpuZXcgaG8odGhpcy5jb250ZXh0LG4pLnRvVGlja3MoKSxpbnRlcnZhbDpuZXcgaG8odGhpcy5jb250ZXh0LGUpLnRvVGlja3MoKSx0aW1lOm5ldyBtbyh0aGlzLmNvbnRleHQscykudG9UaWNrcygpfSk7cmV0dXJuIHRoaXMuX2FkZEV2ZW50KGksdGhpcy5fcmVwZWF0ZWRFdmVudHMpfXNjaGVkdWxlT25jZSh0LGUpe2NvbnN0IHM9bmV3IFpvKHRoaXMse2NhbGxiYWNrOnQsb25jZTohMCx0aW1lOm5ldyBtbyh0aGlzLmNvbnRleHQsZSkudG9UaWNrcygpfSk7cmV0dXJuIHRoaXMuX2FkZEV2ZW50KHMsdGhpcy5fdGltZWxpbmUpfWNsZWFyKHQpe2lmKHRoaXMuX3NjaGVkdWxlZEV2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0KSl7Y29uc3QgZT10aGlzLl9zY2hlZHVsZWRFdmVudHNbdC50b1N0cmluZygpXTtlLnRpbWVsaW5lLnJlbW92ZShlLmV2ZW50KSxlLmV2ZW50LmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fc2NoZWR1bGVkRXZlbnRzW3QudG9TdHJpbmcoKV19cmV0dXJuIHRoaXN9X2FkZEV2ZW50KHQsZSl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlZEV2ZW50c1t0LmlkLnRvU3RyaW5nKCldPXtldmVudDp0LHRpbWVsaW5lOmV9LGUuYWRkKHQpLHQuaWR9Y2FuY2VsKHQ9MCl7Y29uc3QgZT10aGlzLnRvVGlja3ModCk7cmV0dXJuIHRoaXMuX3RpbWVsaW5lLmZvckVhY2hGcm9tKGUsdD0+dGhpcy5jbGVhcih0LmlkKSksdGhpcy5fcmVwZWF0ZWRFdmVudHMuZm9yRWFjaEZyb20oZSx0PT50aGlzLmNsZWFyKHQuaWQpKSx0aGlzfV9iaW5kQ2xvY2tFdmVudHMoKXt0aGlzLl9jbG9jay5vbihcInN0YXJ0XCIsKHQsZSk9PntlPW5ldyBqbyh0aGlzLmNvbnRleHQsZSkudG9TZWNvbmRzKCksdGhpcy5lbWl0KFwic3RhcnRcIix0LGUpfSksdGhpcy5fY2xvY2sub24oXCJzdG9wXCIsdD0+e3RoaXMuZW1pdChcInN0b3BcIix0KX0pLHRoaXMuX2Nsb2NrLm9uKFwicGF1c2VcIix0PT57dGhpcy5lbWl0KFwicGF1c2VcIix0KX0pfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9jbG9jay5nZXRTdGF0ZUF0VGltZSh0aGlzLm5vdygpKX1zdGFydCh0LGUpe2xldCBzO3JldHVybiBjaShlKSYmKHM9dGhpcy50b1RpY2tzKGUpKSx0aGlzLl9jbG9jay5zdGFydCh0LHMpLHRoaXN9c3RvcCh0KXtyZXR1cm4gdGhpcy5fY2xvY2suc3RvcCh0KSx0aGlzfXBhdXNlKHQpe3JldHVybiB0aGlzLl9jbG9jay5wYXVzZSh0KSx0aGlzfXRvZ2dsZSh0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSxcInN0YXJ0ZWRcIiE9PXRoaXMuX2Nsb2NrLmdldFN0YXRlQXRUaW1lKHQpP3RoaXMuc3RhcnQodCk6dGhpcy5zdG9wKHQpLHRoaXN9Z2V0IHRpbWVTaWduYXR1cmUoKXtyZXR1cm4gdGhpcy5fdGltZVNpZ25hdHVyZX1zZXQgdGltZVNpZ25hdHVyZSh0KXtkaSh0KSYmKHQ9dFswXS90WzFdKjQpLHRoaXMuX3RpbWVTaWduYXR1cmU9dH1nZXQgbG9vcFN0YXJ0KCl7cmV0dXJuIG5ldyBobyh0aGlzLmNvbnRleHQsdGhpcy5fbG9vcFN0YXJ0LFwiaVwiKS50b1NlY29uZHMoKX1zZXQgbG9vcFN0YXJ0KHQpe3RoaXMuX2xvb3BTdGFydD10aGlzLnRvVGlja3ModCl9Z2V0IGxvb3BFbmQoKXtyZXR1cm4gbmV3IGhvKHRoaXMuY29udGV4dCx0aGlzLl9sb29wRW5kLFwiaVwiKS50b1NlY29uZHMoKX1zZXQgbG9vcEVuZCh0KXt0aGlzLl9sb29wRW5kPXRoaXMudG9UaWNrcyh0KX1nZXQgbG9vcCgpe3JldHVybiB0aGlzLl9sb29wLmdldCh0aGlzLm5vdygpKX1zZXQgbG9vcCh0KXt0aGlzLl9sb29wLnNldCh0LHRoaXMubm93KCkpfXNldExvb3BQb2ludHModCxlKXtyZXR1cm4gdGhpcy5sb29wU3RhcnQ9dCx0aGlzLmxvb3BFbmQ9ZSx0aGlzfWdldCBzd2luZygpe3JldHVybiB0aGlzLl9zd2luZ0Ftb3VudH1zZXQgc3dpbmcodCl7dGhpcy5fc3dpbmdBbW91bnQ9dH1nZXQgc3dpbmdTdWJkaXZpc2lvbigpe3JldHVybiBuZXcgam8odGhpcy5jb250ZXh0LHRoaXMuX3N3aW5nVGlja3MpLnRvTm90YXRpb24oKX1zZXQgc3dpbmdTdWJkaXZpc2lvbih0KXt0aGlzLl9zd2luZ1RpY2tzPXRoaXMudG9UaWNrcyh0KX1nZXQgcG9zaXRpb24oKXtjb25zdCB0PXRoaXMubm93KCksZT10aGlzLl9jbG9jay5nZXRUaWNrc0F0VGltZSh0KTtyZXR1cm4gbmV3IGpvKHRoaXMuY29udGV4dCxlKS50b0JhcnNCZWF0c1NpeHRlZW50aHMoKX1zZXQgcG9zaXRpb24odCl7Y29uc3QgZT10aGlzLnRvVGlja3ModCk7dGhpcy50aWNrcz1lfWdldCBzZWNvbmRzKCl7cmV0dXJuIHRoaXMuX2Nsb2NrLnNlY29uZHN9c2V0IHNlY29uZHModCl7Y29uc3QgZT10aGlzLm5vdygpLHM9dGhpcy5fY2xvY2suZnJlcXVlbmN5LnRpbWVUb1RpY2tzKHQsZSk7dGhpcy50aWNrcz1zfWdldCBwcm9ncmVzcygpe2lmKHRoaXMubG9vcCl7Y29uc3QgdD10aGlzLm5vdygpO3JldHVybih0aGlzLl9jbG9jay5nZXRUaWNrc0F0VGltZSh0KS10aGlzLl9sb29wU3RhcnQpLyh0aGlzLl9sb29wRW5kLXRoaXMuX2xvb3BTdGFydCl9cmV0dXJuIDB9Z2V0IHRpY2tzKCl7cmV0dXJuIHRoaXMuX2Nsb2NrLnRpY2tzfXNldCB0aWNrcyh0KXtpZih0aGlzLl9jbG9jay50aWNrcyE9PXQpe2NvbnN0IGU9dGhpcy5ub3coKTtpZihcInN0YXJ0ZWRcIj09PXRoaXMuc3RhdGUpe2NvbnN0IHM9dGhpcy5fY2xvY2suZ2V0VGlja3NBdFRpbWUoZSksbj1lK3RoaXMuX2Nsb2NrLmZyZXF1ZW5jeS5nZXREdXJhdGlvbk9mVGlja3MoTWF0aC5jZWlsKHMpLXMsZSk7dGhpcy5lbWl0KFwic3RvcFwiLG4pLHRoaXMuX2Nsb2NrLnNldFRpY2tzQXRUaW1lKHQsbiksdGhpcy5lbWl0KFwic3RhcnRcIixuLHRoaXMuX2Nsb2NrLmdldFNlY29uZHNBdFRpbWUobikpfWVsc2UgdGhpcy5fY2xvY2suc2V0VGlja3NBdFRpbWUodCxlKX19Z2V0VGlja3NBdFRpbWUodCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy5fY2xvY2suZ2V0VGlja3NBdFRpbWUodCkpfWdldFNlY29uZHNBdFRpbWUodCl7cmV0dXJuIHRoaXMuX2Nsb2NrLmdldFNlY29uZHNBdFRpbWUodCl9Z2V0IFBQUSgpe3JldHVybiB0aGlzLl9jbG9jay5mcmVxdWVuY3kubXVsdGlwbGllcn1zZXQgUFBRKHQpe3RoaXMuX2Nsb2NrLmZyZXF1ZW5jeS5tdWx0aXBsaWVyPXR9bmV4dFN1YmRpdmlzaW9uKHQpe2lmKHQ9dGhpcy50b1RpY2tzKHQpLFwic3RhcnRlZFwiIT09dGhpcy5zdGF0ZSlyZXR1cm4gMDt7Y29uc3QgZT10aGlzLm5vdygpLHM9dC10aGlzLmdldFRpY2tzQXRUaW1lKGUpJXQ7cmV0dXJuIHRoaXMuX2Nsb2NrLm5leHRUaWNrVGltZShzLGUpfX1zeW5jU2lnbmFsKHQsZSl7aWYoIWUpe2NvbnN0IHM9dGhpcy5ub3coKTtpZigwIT09dC5nZXRWYWx1ZUF0VGltZShzKSl7Y29uc3Qgbj0xLyg2MC90aGlzLmJwbS5nZXRWYWx1ZUF0VGltZShzKS90aGlzLlBQUSk7ZT10LmdldFZhbHVlQXRUaW1lKHMpL259ZWxzZSBlPTB9Y29uc3Qgcz1uZXcga28oZSk7cmV0dXJuIHRoaXMuYnBtLmNvbm5lY3Qocykscy5jb25uZWN0KHQuX3BhcmFtKSx0aGlzLl9zeW5jZWRTaWduYWxzLnB1c2goe2luaXRpYWw6dC52YWx1ZSxyYXRpbzpzLHNpZ25hbDp0fSksdC52YWx1ZT0wLHRoaXN9dW5zeW5jU2lnbmFsKHQpe2ZvcihsZXQgZT10aGlzLl9zeW5jZWRTaWduYWxzLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCBzPXRoaXMuX3N5bmNlZFNpZ25hbHNbZV07cy5zaWduYWw9PT10JiYocy5yYXRpby5kaXNwb3NlKCkscy5zaWduYWwudmFsdWU9cy5pbml0aWFsLHRoaXMuX3N5bmNlZFNpZ25hbHMuc3BsaWNlKGUsMSkpfXJldHVybiB0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2Nsb2NrLmRpc3Bvc2UoKSxRaSh0aGlzLFwiYnBtXCIpLHRoaXMuX3RpbWVsaW5lLmRpc3Bvc2UoKSx0aGlzLl9yZXBlYXRlZEV2ZW50cy5kaXNwb3NlKCksdGhpc319QmkubWl4aW4oWW8pLGppKHQ9Pnt0LnRyYW5zcG9ydD1uZXcgWW8oe2NvbnRleHQ6dH0pfSksemkodD0+e3QudHJhbnNwb3J0LmRpc3Bvc2UoKX0pO2NsYXNzIEhvIGV4dGVuZHMgd297Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5pbnB1dD12b2lkIDAsdGhpcy5fc3RhdGU9bmV3IHlvKFwic3RvcHBlZFwiKSx0aGlzLl9zeW5jZWQ9ITEsdGhpcy5fc2NoZWR1bGVkPVtdLHRoaXMuX3N5bmNlZFN0YXJ0PVppLHRoaXMuX3N5bmNlZFN0b3A9WmksdGhpcy5fc3RhdGUubWVtb3J5PTEwMCx0aGlzLl9zdGF0ZS5pbmNyZWFzaW5nPSEwLHRoaXMuX3ZvbHVtZT10aGlzLm91dHB1dD1uZXcgR28oe2NvbnRleHQ6dGhpcy5jb250ZXh0LG11dGU6dC5tdXRlLHZvbHVtZTp0LnZvbHVtZX0pLHRoaXMudm9sdW1lPXRoaXMuX3ZvbHVtZS52b2x1bWUsVWkodGhpcyxcInZvbHVtZVwiKSx0aGlzLm9uc3RvcD10Lm9uc3RvcH1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHttdXRlOiExLG9uc3RvcDpaaSx2b2x1bWU6MH0pfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zeW5jZWQ/XCJzdGFydGVkXCI9PT10aGlzLmNvbnRleHQudHJhbnNwb3J0LnN0YXRlP3RoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHRoaXMuY29udGV4dC50cmFuc3BvcnQuc2Vjb25kcyk6XCJzdG9wcGVkXCI6dGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUodGhpcy5ub3coKSl9Z2V0IG11dGUoKXtyZXR1cm4gdGhpcy5fdm9sdW1lLm11dGV9c2V0IG11dGUodCl7dGhpcy5fdm9sdW1lLm11dGU9dH1fY2xhbXBUb0N1cnJlbnRUaW1lKHQpe3JldHVybiB0aGlzLl9zeW5jZWQ/dDpNYXRoLm1heCh0LHRoaXMuY29udGV4dC5jdXJyZW50VGltZSl9c3RhcnQodCxlLHMpe2xldCBuPWFpKHQpJiZ0aGlzLl9zeW5jZWQ/dGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zZWNvbmRzOnRoaXMudG9TZWNvbmRzKHQpO2lmKG49dGhpcy5fY2xhbXBUb0N1cnJlbnRUaW1lKG4pLHRoaXMuX3N5bmNlZHx8XCJzdGFydGVkXCIhPT10aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShuKSlpZih0aGlzLmxvZyhcInN0YXJ0XCIsbiksdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdGFydGVkXCIsbiksdGhpcy5fc3luY2VkKXtjb25zdCB0PXRoaXMuX3N0YXRlLmdldChuKTt0JiYodC5vZmZzZXQ9dGhpcy50b1NlY29uZHMoT2koZSwwKSksdC5kdXJhdGlvbj1zP3RoaXMudG9TZWNvbmRzKHMpOnZvaWQgMCk7Y29uc3QgaT10aGlzLmNvbnRleHQudHJhbnNwb3J0LnNjaGVkdWxlKHQ9Pnt0aGlzLl9zdGFydCh0LGUscyl9LG4pO3RoaXMuX3NjaGVkdWxlZC5wdXNoKGkpLFwic3RhcnRlZFwiPT09dGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zdGF0ZSYmdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5nZXRTZWNvbmRzQXRUaW1lKHRoaXMuaW1tZWRpYXRlKCkpPm4mJnRoaXMuX3N5bmNlZFN0YXJ0KHRoaXMubm93KCksdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zZWNvbmRzKX1lbHNlIHNpKHRoaXMuY29udGV4dCksdGhpcy5fc3RhcnQobixlLHMpO2Vsc2UgdGkoUmkobix0aGlzLl9zdGF0ZS5nZXQobikudGltZSksXCJTdGFydCB0aW1lIG11c3QgYmUgc3RyaWN0bHkgZ3JlYXRlciB0aGFuIHByZXZpb3VzIHN0YXJ0IHRpbWVcIiksdGhpcy5fc3RhdGUuY2FuY2VsKG4pLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RhcnRlZFwiLG4pLHRoaXMubG9nKFwicmVzdGFydFwiLG4pLHRoaXMucmVzdGFydChuLGUscyk7cmV0dXJuIHRoaXN9c3RvcCh0KXtsZXQgZT1haSh0KSYmdGhpcy5fc3luY2VkP3RoaXMuY29udGV4dC50cmFuc3BvcnQuc2Vjb25kczp0aGlzLnRvU2Vjb25kcyh0KTtpZihlPXRoaXMuX2NsYW1wVG9DdXJyZW50VGltZShlKSxcInN0YXJ0ZWRcIj09PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGUpfHxjaSh0aGlzLl9zdGF0ZS5nZXROZXh0U3RhdGUoXCJzdGFydGVkXCIsZSkpKXtpZih0aGlzLmxvZyhcInN0b3BcIixlKSx0aGlzLl9zeW5jZWQpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zY2hlZHVsZSh0aGlzLl9zdG9wLmJpbmQodGhpcyksZSk7dGhpcy5fc2NoZWR1bGVkLnB1c2godCl9ZWxzZSB0aGlzLl9zdG9wKGUpO3RoaXMuX3N0YXRlLmNhbmNlbChlKSx0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZShcInN0b3BwZWRcIixlKX1yZXR1cm4gdGhpc31yZXN0YXJ0KHQsZSxzKXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSxcInN0YXJ0ZWRcIj09PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHQpJiYodGhpcy5fc3RhdGUuY2FuY2VsKHQpLHRoaXMuX3Jlc3RhcnQodCxlLHMpKSx0aGlzfXN5bmMoKXtyZXR1cm4gdGhpcy5fc3luY2VkfHwodGhpcy5fc3luY2VkPSEwLHRoaXMuX3N5bmNlZFN0YXJ0PSh0LGUpPT57aWYoZT4wKXtjb25zdCBzPXRoaXMuX3N0YXRlLmdldChlKTtpZihzJiZcInN0YXJ0ZWRcIj09PXMuc3RhdGUmJnMudGltZSE9PWUpe2NvbnN0IG49ZS10aGlzLnRvU2Vjb25kcyhzLnRpbWUpO2xldCBpO3MuZHVyYXRpb24mJihpPXRoaXMudG9TZWNvbmRzKHMuZHVyYXRpb24pLW4pLHRoaXMuX3N0YXJ0KHQsdGhpcy50b1NlY29uZHMocy5vZmZzZXQpK24saSl9fX0sdGhpcy5fc3luY2VkU3RvcD10PT57Y29uc3QgZT10aGlzLmNvbnRleHQudHJhbnNwb3J0LmdldFNlY29uZHNBdFRpbWUoTWF0aC5tYXgodC10aGlzLnNhbXBsZVRpbWUsMCkpO1wic3RhcnRlZFwiPT09dGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoZSkmJnRoaXMuX3N0b3AodCl9LHRoaXMuY29udGV4dC50cmFuc3BvcnQub24oXCJzdGFydFwiLHRoaXMuX3N5bmNlZFN0YXJ0KSx0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9uKFwibG9vcFN0YXJ0XCIsdGhpcy5fc3luY2VkU3RhcnQpLHRoaXMuY29udGV4dC50cmFuc3BvcnQub24oXCJzdG9wXCIsdGhpcy5fc3luY2VkU3RvcCksdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vbihcInBhdXNlXCIsdGhpcy5fc3luY2VkU3RvcCksdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vbihcImxvb3BFbmRcIix0aGlzLl9zeW5jZWRTdG9wKSksdGhpc311bnN5bmMoKXtyZXR1cm4gdGhpcy5fc3luY2VkJiYodGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJzdG9wXCIsdGhpcy5fc3luY2VkU3RvcCksdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJwYXVzZVwiLHRoaXMuX3N5bmNlZFN0b3ApLHRoaXMuY29udGV4dC50cmFuc3BvcnQub2ZmKFwibG9vcEVuZFwiLHRoaXMuX3N5bmNlZFN0b3ApLHRoaXMuY29udGV4dC50cmFuc3BvcnQub2ZmKFwic3RhcnRcIix0aGlzLl9zeW5jZWRTdGFydCksdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJsb29wU3RhcnRcIix0aGlzLl9zeW5jZWRTdGFydCkpLHRoaXMuX3N5bmNlZD0hMSx0aGlzLl9zY2hlZHVsZWQuZm9yRWFjaCh0PT50aGlzLmNvbnRleHQudHJhbnNwb3J0LmNsZWFyKHQpKSx0aGlzLl9zY2hlZHVsZWQ9W10sdGhpcy5fc3RhdGUuY2FuY2VsKDApLHRoaXMuX3N0b3AoMCksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLm9uc3RvcD1aaSx0aGlzLnVuc3luYygpLHRoaXMuX3ZvbHVtZS5kaXNwb3NlKCksdGhpcy5fc3RhdGUuZGlzcG9zZSgpLHRoaXN9fWNsYXNzICRvIGV4dGVuZHMgQ297Y29uc3RydWN0b3IoKXtzdXBlcihEaSgkby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ1cmxcIixcIm9ubG9hZFwiXSkpLHRoaXMubmFtZT1cIlRvbmVCdWZmZXJTb3VyY2VcIix0aGlzLl9zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHRoaXMuX2ludGVybmFsQ2hhbm5lbHM9W3RoaXMuX3NvdXJjZV0sdGhpcy5fc291cmNlU3RhcnRlZD0hMSx0aGlzLl9zb3VyY2VTdG9wcGVkPSExO2NvbnN0IHQ9RGkoJG8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widXJsXCIsXCJvbmxvYWRcIl0pO1RvKHRoaXMuX3NvdXJjZSx0aGlzLl9nYWluTm9kZSksdGhpcy5fc291cmNlLm9uZW5kZWQ9KCk9PnRoaXMuX3N0b3BTb3VyY2UoKSx0aGlzLnBsYXliYWNrUmF0ZT1uZXcgeG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHBhcmFtOnRoaXMuX3NvdXJjZS5wbGF5YmFja1JhdGUsdW5pdHM6XCJwb3NpdGl2ZVwiLHZhbHVlOnQucGxheWJhY2tSYXRlfSksdGhpcy5sb29wPXQubG9vcCx0aGlzLmxvb3BTdGFydD10Lmxvb3BTdGFydCx0aGlzLmxvb3BFbmQ9dC5sb29wRW5kLHRoaXMuX2J1ZmZlcj1uZXcgWGkodC51cmwsdC5vbmxvYWQsdC5vbmVycm9yKSx0aGlzLl9pbnRlcm5hbENoYW5uZWxzLnB1c2godGhpcy5fc291cmNlKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihDby5nZXREZWZhdWx0cygpLHt1cmw6bmV3IFhpLGxvb3A6ITEsbG9vcEVuZDowLGxvb3BTdGFydDowLG9ubG9hZDpaaSxvbmVycm9yOlppLHBsYXliYWNrUmF0ZToxfSl9Z2V0IGZhZGVJbigpe3JldHVybiB0aGlzLl9mYWRlSW59c2V0IGZhZGVJbih0KXt0aGlzLl9mYWRlSW49dH1nZXQgZmFkZU91dCgpe3JldHVybiB0aGlzLl9mYWRlT3V0fXNldCBmYWRlT3V0KHQpe3RoaXMuX2ZhZGVPdXQ9dH1nZXQgY3VydmUoKXtyZXR1cm4gdGhpcy5fY3VydmV9c2V0IGN1cnZlKHQpe3RoaXMuX2N1cnZlPXR9c3RhcnQodCxlLHMsbj0xKXt0aSh0aGlzLmJ1ZmZlci5sb2FkZWQsXCJidWZmZXIgaXMgZWl0aGVyIG5vdCBzZXQgb3Igbm90IGxvYWRlZFwiKTtjb25zdCBpPXRoaXMudG9TZWNvbmRzKHQpO3RoaXMuX3N0YXJ0R2FpbihpLG4pLGU9dGhpcy5sb29wP09pKGUsdGhpcy5sb29wU3RhcnQpOk9pKGUsMCk7bGV0IG89TWF0aC5tYXgodGhpcy50b1NlY29uZHMoZSksMCk7aWYodGhpcy5sb29wKXtjb25zdCB0PXRoaXMudG9TZWNvbmRzKHRoaXMubG9vcEVuZCl8fHRoaXMuYnVmZmVyLmR1cmF0aW9uLGU9dGhpcy50b1NlY29uZHModGhpcy5sb29wU3RhcnQpLHM9dC1lO3FpKG8sdCkmJihvPShvLWUpJXMrZSksSWkobyx0aGlzLmJ1ZmZlci5kdXJhdGlvbikmJihvPTApfWlmKHRoaXMuX3NvdXJjZS5idWZmZXI9dGhpcy5idWZmZXIuZ2V0KCksdGhpcy5fc291cmNlLmxvb3BFbmQ9dGhpcy50b1NlY29uZHModGhpcy5sb29wRW5kKXx8dGhpcy5idWZmZXIuZHVyYXRpb24sRmkobyx0aGlzLmJ1ZmZlci5kdXJhdGlvbikmJih0aGlzLl9zb3VyY2VTdGFydGVkPSEwLHRoaXMuX3NvdXJjZS5zdGFydChpLG8pKSxjaShzKSl7bGV0IHQ9dGhpcy50b1NlY29uZHMocyk7dD1NYXRoLm1heCh0LDApLHRoaXMuc3RvcChpK3QpfXJldHVybiB0aGlzfV9zdG9wU291cmNlKHQpeyF0aGlzLl9zb3VyY2VTdG9wcGVkJiZ0aGlzLl9zb3VyY2VTdGFydGVkJiYodGhpcy5fc291cmNlU3RvcHBlZD0hMCx0aGlzLl9zb3VyY2Uuc3RvcCh0aGlzLnRvU2Vjb25kcyh0KSksdGhpcy5fb25lbmRlZCgpKX1nZXQgbG9vcFN0YXJ0KCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5sb29wU3RhcnR9c2V0IGxvb3BTdGFydCh0KXt0aGlzLl9zb3VyY2UubG9vcFN0YXJ0PXRoaXMudG9TZWNvbmRzKHQpfWdldCBsb29wRW5kKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5sb29wRW5kfXNldCBsb29wRW5kKHQpe3RoaXMuX3NvdXJjZS5sb29wRW5kPXRoaXMudG9TZWNvbmRzKHQpfWdldCBidWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfXNldCBidWZmZXIodCl7dGhpcy5fYnVmZmVyLnNldCh0KX1nZXQgbG9vcCgpe3JldHVybiB0aGlzLl9zb3VyY2UubG9vcH1zZXQgbG9vcCh0KXt0aGlzLl9zb3VyY2UubG9vcD10LHRoaXMuX3NvdXJjZVN0YXJ0ZWQmJnRoaXMuY2FuY2VsU3RvcCgpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3NvdXJjZS5vbmVuZGVkPW51bGwsdGhpcy5fc291cmNlLmRpc2Nvbm5lY3QoKSx0aGlzLl9idWZmZXIuZGlzcG9zZSgpLHRoaXMucGxheWJhY2tSYXRlLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBKbyBleHRlbmRzIEhve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoSm8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widHlwZVwiXSkpLHRoaXMubmFtZT1cIk5vaXNlXCIsdGhpcy5fc291cmNlPW51bGw7Y29uc3QgdD1EaShKby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ0eXBlXCJdKTt0aGlzLl9wbGF5YmFja1JhdGU9dC5wbGF5YmFja1JhdGUsdGhpcy50eXBlPXQudHlwZSx0aGlzLl9mYWRlSW49dC5mYWRlSW4sdGhpcy5fZmFkZU91dD10LmZhZGVPdXR9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oSG8uZ2V0RGVmYXVsdHMoKSx7ZmFkZUluOjAsZmFkZU91dDowLHBsYXliYWNrUmF0ZToxLHR5cGU6XCJ3aGl0ZVwifSl9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX1zZXQgdHlwZSh0KXtpZih0aSh0IGluIHRyLFwiTm9pc2U6IGludmFsaWQgdHlwZTogXCIrdCksdGhpcy5fdHlwZSE9PXQmJih0aGlzLl90eXBlPXQsXCJzdGFydGVkXCI9PT10aGlzLnN0YXRlKSl7Y29uc3QgdD10aGlzLm5vdygpO3RoaXMuX3N0b3AodCksdGhpcy5fc3RhcnQodCl9fWdldCBwbGF5YmFja1JhdGUoKXtyZXR1cm4gdGhpcy5fcGxheWJhY2tSYXRlfXNldCBwbGF5YmFja1JhdGUodCl7dGhpcy5fcGxheWJhY2tSYXRlPXQsdGhpcy5fc291cmNlJiYodGhpcy5fc291cmNlLnBsYXliYWNrUmF0ZS52YWx1ZT10KX1fc3RhcnQodCl7Y29uc3QgZT10clt0aGlzLl90eXBlXTt0aGlzLl9zb3VyY2U9bmV3ICRvKHt1cmw6ZSxjb250ZXh0OnRoaXMuY29udGV4dCxmYWRlSW46dGhpcy5fZmFkZUluLGZhZGVPdXQ6dGhpcy5fZmFkZU91dCxsb29wOiEwLG9uZW5kZWQ6KCk9PnRoaXMub25zdG9wKHRoaXMpLHBsYXliYWNrUmF0ZTp0aGlzLl9wbGF5YmFja1JhdGV9KS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9zb3VyY2Uuc3RhcnQodGhpcy50b1NlY29uZHModCksTWF0aC5yYW5kb20oKSooZS5kdXJhdGlvbi0uMDAxKSl9X3N0b3AodCl7dGhpcy5fc291cmNlJiYodGhpcy5fc291cmNlLnN0b3AodGhpcy50b1NlY29uZHModCkpLHRoaXMuX3NvdXJjZT1udWxsKX1nZXQgZmFkZUluKCl7cmV0dXJuIHRoaXMuX2ZhZGVJbn1zZXQgZmFkZUluKHQpe3RoaXMuX2ZhZGVJbj10LHRoaXMuX3NvdXJjZSYmKHRoaXMuX3NvdXJjZS5mYWRlSW49dGhpcy5fZmFkZUluKX1nZXQgZmFkZU91dCgpe3JldHVybiB0aGlzLl9mYWRlT3V0fXNldCBmYWRlT3V0KHQpe3RoaXMuX2ZhZGVPdXQ9dCx0aGlzLl9zb3VyY2UmJih0aGlzLl9zb3VyY2UuZmFkZU91dD10aGlzLl9mYWRlT3V0KX1fcmVzdGFydCh0KXt0aGlzLl9zdG9wKHQpLHRoaXMuX3N0YXJ0KHQpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3NvdXJjZSYmdGhpcy5fc291cmNlLmRpc2Nvbm5lY3QoKSx0aGlzfX1jb25zdCBLbz17YnJvd246bnVsbCxwaW5rOm51bGwsd2hpdGU6bnVsbH0sdHI9e2dldCBicm93bigpe2lmKCFLby5icm93bil7Y29uc3QgdD1bXTtmb3IobGV0IGU9MDtlPDI7ZSsrKXtjb25zdCBzPW5ldyBGbG9hdDMyQXJyYXkoMjIwNTAwKTt0W2VdPXM7bGV0IG49MDtmb3IobGV0IHQ9MDt0PDIyMDUwMDt0Kyspe2NvbnN0IGU9MipNYXRoLnJhbmRvbSgpLTE7c1t0XT0obisuMDIqZSkvMS4wMixuPXNbdF0sc1t0XSo9My41fX1Lby5icm93bj0obmV3IFhpKS5mcm9tQXJyYXkodCl9cmV0dXJuIEtvLmJyb3dufSxnZXQgcGluaygpe2lmKCFLby5waW5rKXtjb25zdCB0PVtdO2ZvcihsZXQgZT0wO2U8MjtlKyspe2NvbnN0IHM9bmV3IEZsb2F0MzJBcnJheSgyMjA1MDApO2xldCBuLGksbyxyLGEsYyxoO3RbZV09cyxuPWk9bz1yPWE9Yz1oPTA7Zm9yKGxldCB0PTA7dDwyMjA1MDA7dCsrKXtjb25zdCBlPTIqTWF0aC5yYW5kb20oKS0xO249Ljk5ODg2Km4rLjA1NTUxNzkqZSxpPS45OTMzMippKy4wNzUwNzU5KmUsbz0uOTY5Km8rLjE1Mzg1MiplLHI9Ljg2NjUqcisuMzEwNDg1NiplLGE9LjU1KmErLjUzMjk1MjIqZSxjPS0uNzYxNipjLS4wMTY4OTgqZSxzW3RdPW4raStvK3IrYStjK2grLjUzNjIqZSxzW3RdKj0uMTEsaD0uMTE1OTI2KmV9fUtvLnBpbms9KG5ldyBYaSkuZnJvbUFycmF5KHQpfXJldHVybiBLby5waW5rfSxnZXQgd2hpdGUoKXtpZighS28ud2hpdGUpe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTwyO2UrKyl7Y29uc3Qgcz1uZXcgRmxvYXQzMkFycmF5KDIyMDUwMCk7dFtlXT1zO2ZvcihsZXQgdD0wO3Q8MjIwNTAwO3QrKylzW3RdPTIqTWF0aC5yYW5kb20oKS0xfUtvLndoaXRlPShuZXcgWGkpLmZyb21BcnJheSh0KX1yZXR1cm4gS28ud2hpdGV9fTtjbGFzcyBlciBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoZXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widm9sdW1lXCJdKSksdGhpcy5uYW1lPVwiVXNlck1lZGlhXCI7Y29uc3QgdD1EaShlci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2b2x1bWVcIl0pO3RoaXMuX3ZvbHVtZT10aGlzLm91dHB1dD1uZXcgR28oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZvbHVtZTp0LnZvbHVtZX0pLHRoaXMudm9sdW1lPXRoaXMuX3ZvbHVtZS52b2x1bWUsVWkodGhpcyxcInZvbHVtZVwiKSx0aGlzLm11dGU9dC5tdXRlfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse211dGU6ITEsdm9sdW1lOjB9KX1vcGVuKHQpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RpKGVyLnN1cHBvcnRlZCxcIlVzZXJNZWRpYSBpcyBub3Qgc3VwcG9ydGVkXCIpLFwic3RhcnRlZFwiPT09dGhpcy5zdGF0ZSYmdGhpcy5jbG9zZSgpO2NvbnN0IGU9eWllbGQgZXIuZW51bWVyYXRlRGV2aWNlcygpO3VpKHQpP3RoaXMuX2RldmljZT1lW3RdOih0aGlzLl9kZXZpY2U9ZS5maW5kKGU9PmUubGFiZWw9PT10fHxlLmRldmljZUlkPT09dCksIXRoaXMuX2RldmljZSYmZS5sZW5ndGg+MCYmKHRoaXMuX2RldmljZT1lWzBdKSx0aShjaSh0aGlzLl9kZXZpY2UpLFwiTm8gbWF0Y2hpbmcgZGV2aWNlIFwiK3QpKTtjb25zdCBzPXthdWRpbzp7ZWNob0NhbmNlbGxhdGlvbjohMSxzYW1wbGVSYXRlOnRoaXMuY29udGV4dC5zYW1wbGVSYXRlLG5vaXNlU3VwcHJlc3Npb246ITEsbW96Tm9pc2VTdXBwcmVzc2lvbjohMX19O3RoaXMuX2RldmljZSYmKHMuYXVkaW8uZGV2aWNlSWQ9dGhpcy5fZGV2aWNlLmRldmljZUlkKTtjb25zdCBuPXlpZWxkIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHMpO2lmKCF0aGlzLl9zdHJlYW0pe3RoaXMuX3N0cmVhbT1uO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG4pO1RvKHQsdGhpcy5vdXRwdXQpLHRoaXMuX21lZGlhU3RyZWFtPXR9cmV0dXJuIHRoaXN9KSl9Y2xvc2UoKXtyZXR1cm4gdGhpcy5fc3RyZWFtJiZ0aGlzLl9tZWRpYVN0cmVhbSYmKHRoaXMuX3N0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2godD0+e3Quc3RvcCgpfSksdGhpcy5fc3RyZWFtPXZvaWQgMCx0aGlzLl9tZWRpYVN0cmVhbS5kaXNjb25uZWN0KCksdGhpcy5fbWVkaWFTdHJlYW09dm9pZCAwKSx0aGlzLl9kZXZpY2U9dm9pZCAwLHRoaXN9c3RhdGljIGVudW1lcmF0ZURldmljZXMoKXtyZXR1cm4geWkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkpLmZpbHRlcih0PT5cImF1ZGlvaW5wdXRcIj09PXQua2luZCl9KSl9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0cmVhbSYmdGhpcy5fc3RyZWFtLmFjdGl2ZT9cInN0YXJ0ZWRcIjpcInN0b3BwZWRcIn1nZXQgZGV2aWNlSWQoKXtyZXR1cm4gdGhpcy5fZGV2aWNlP3RoaXMuX2RldmljZS5kZXZpY2VJZDp2b2lkIDB9Z2V0IGdyb3VwSWQoKXtyZXR1cm4gdGhpcy5fZGV2aWNlP3RoaXMuX2RldmljZS5ncm91cElkOnZvaWQgMH1nZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5fZGV2aWNlP3RoaXMuX2RldmljZS5sYWJlbDp2b2lkIDB9Z2V0IG11dGUoKXtyZXR1cm4gdGhpcy5fdm9sdW1lLm11dGV9c2V0IG11dGUodCl7dGhpcy5fdm9sdW1lLm11dGU9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmNsb3NlKCksdGhpcy5fdm9sdW1lLmRpc3Bvc2UoKSx0aGlzLnZvbHVtZS5kaXNwb3NlKCksdGhpc31zdGF0aWMgZ2V0IHN1cHBvcnRlZCgpe3JldHVybiBjaShuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSYmY2kobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpfX1mdW5jdGlvbiBzcih0LGUpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IHM9ZS90LmNvbnRleHQuc2FtcGxlUmF0ZSxuPW5ldyBZaSgxLHMsdC5jb250ZXh0LnNhbXBsZVJhdGUpO25ldyB0LmNvbnN0cnVjdG9yKE9iamVjdC5hc3NpZ24odC5nZXQoKSx7ZnJlcXVlbmN5OjIvcyxkZXR1bmU6MCxjb250ZXh0Om59KSkudG9EZXN0aW5hdGlvbigpLnN0YXJ0KDApO3JldHVybih5aWVsZCBuLnJlbmRlcigpKS5nZXRDaGFubmVsRGF0YSgwKX0pKX1jbGFzcyBuciBleHRlbmRzIENve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkobnIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCJdKSksdGhpcy5uYW1lPVwiVG9uZU9zY2lsbGF0b3JOb2RlXCIsdGhpcy5fb3NjaWxsYXRvcj10aGlzLmNvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpLHRoaXMuX2ludGVybmFsQ2hhbm5lbHM9W3RoaXMuX29zY2lsbGF0b3JdO2NvbnN0IHQ9RGkobnIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCJdKTtUbyh0aGlzLl9vc2NpbGxhdG9yLHRoaXMuX2dhaW5Ob2RlKSx0aGlzLnR5cGU9dC50eXBlLHRoaXMuZnJlcXVlbmN5PW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fb3NjaWxsYXRvci5mcmVxdWVuY3ksdW5pdHM6XCJmcmVxdWVuY3lcIix2YWx1ZTp0LmZyZXF1ZW5jeX0pLHRoaXMuZGV0dW5lPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fb3NjaWxsYXRvci5kZXR1bmUsdW5pdHM6XCJjZW50c1wiLHZhbHVlOnQuZGV0dW5lfSksVWkodGhpcyxbXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oQ28uZ2V0RGVmYXVsdHMoKSx7ZGV0dW5lOjAsZnJlcXVlbmN5OjQ0MCx0eXBlOlwic2luZVwifSl9c3RhcnQodCl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTtyZXR1cm4gdGhpcy5sb2coXCJzdGFydFwiLGUpLHRoaXMuX3N0YXJ0R2FpbihlKSx0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KGUpLHRoaXN9X3N0b3BTb3VyY2UodCl7dGhpcy5fb3NjaWxsYXRvci5zdG9wKHQpfXNldFBlcmlvZGljV2F2ZSh0KXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5zZXRQZXJpb2RpY1dhdmUodCksdGhpc31nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnR5cGV9c2V0IHR5cGUodCl7dGhpcy5fb3NjaWxsYXRvci50eXBlPXR9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksXCJzdGFydGVkXCI9PT10aGlzLnN0YXRlJiZ0aGlzLnN0b3AoKSx0aGlzLl9vc2NpbGxhdG9yLmRpc2Nvbm5lY3QoKSx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5kZXR1bmUuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIGlyIGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihEaShpci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIl0pKSx0aGlzLm5hbWU9XCJPc2NpbGxhdG9yXCIsdGhpcy5fb3NjaWxsYXRvcj1udWxsO2NvbnN0IHQ9RGkoaXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCJdKTt0aGlzLmZyZXF1ZW5jeT1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwiZnJlcXVlbmN5XCIsdmFsdWU6dC5mcmVxdWVuY3l9KSxVaSh0aGlzLFwiZnJlcXVlbmN5XCIpLHRoaXMuZGV0dW5lPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJjZW50c1wiLHZhbHVlOnQuZGV0dW5lfSksVWkodGhpcyxcImRldHVuZVwiKSx0aGlzLl9wYXJ0aWFscz10LnBhcnRpYWxzLHRoaXMuX3BhcnRpYWxDb3VudD10LnBhcnRpYWxDb3VudCx0aGlzLl90eXBlPXQudHlwZSx0LnBhcnRpYWxDb3VudCYmXCJjdXN0b21cIiE9PXQudHlwZSYmKHRoaXMuX3R5cGU9dGhpcy5iYXNlVHlwZSt0LnBhcnRpYWxDb3VudC50b1N0cmluZygpKSx0aGlzLnBoYXNlPXQucGhhc2V9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oSG8uZ2V0RGVmYXVsdHMoKSx7ZGV0dW5lOjAsZnJlcXVlbmN5OjQ0MCxwYXJ0aWFsQ291bnQ6MCxwYXJ0aWFsczpbXSxwaGFzZTowLHR5cGU6XCJzaW5lXCJ9KX1fc3RhcnQodCl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KSxzPW5ldyBucih7Y29udGV4dDp0aGlzLmNvbnRleHQsb25lbmRlZDooKT0+dGhpcy5vbnN0b3AodGhpcyl9KTt0aGlzLl9vc2NpbGxhdG9yPXMsdGhpcy5fd2F2ZT90aGlzLl9vc2NpbGxhdG9yLnNldFBlcmlvZGljV2F2ZSh0aGlzLl93YXZlKTp0aGlzLl9vc2NpbGxhdG9yLnR5cGU9dGhpcy5fdHlwZSx0aGlzLl9vc2NpbGxhdG9yLmNvbm5lY3QodGhpcy5vdXRwdXQpLHRoaXMuZnJlcXVlbmN5LmNvbm5lY3QodGhpcy5fb3NjaWxsYXRvci5mcmVxdWVuY3kpLHRoaXMuZGV0dW5lLmNvbm5lY3QodGhpcy5fb3NjaWxsYXRvci5kZXR1bmUpLHRoaXMuX29zY2lsbGF0b3Iuc3RhcnQoZSl9X3N0b3AodCl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTt0aGlzLl9vc2NpbGxhdG9yJiZ0aGlzLl9vc2NpbGxhdG9yLnN0b3AoZSl9X3Jlc3RhcnQodCl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTtyZXR1cm4gdGhpcy5sb2coXCJyZXN0YXJ0XCIsZSksdGhpcy5fb3NjaWxsYXRvciYmdGhpcy5fb3NjaWxsYXRvci5jYW5jZWxTdG9wKCksdGhpcy5fc3RhdGUuY2FuY2VsKGUpLHRoaXN9c3luY0ZyZXF1ZW5jeSgpe3JldHVybiB0aGlzLmNvbnRleHQudHJhbnNwb3J0LnN5bmNTaWduYWwodGhpcy5mcmVxdWVuY3kpLHRoaXN9dW5zeW5jRnJlcXVlbmN5KCl7cmV0dXJuIHRoaXMuY29udGV4dC50cmFuc3BvcnQudW5zeW5jU2lnbmFsKHRoaXMuZnJlcXVlbmN5KSx0aGlzfV9nZXRDYWNoZWRQZXJpb2RpY1dhdmUoKXtpZihcImN1c3RvbVwiPT09dGhpcy5fdHlwZSl7cmV0dXJuIGlyLl9wZXJpb2RpY1dhdmVDYWNoZS5maW5kKHQ9PntyZXR1cm4gdC5waGFzZT09PXRoaXMuX3BoYXNlJiYoZT10LnBhcnRpYWxzLHM9dGhpcy5fcGFydGlhbHMsZS5sZW5ndGg9PT1zLmxlbmd0aCYmZS5ldmVyeSgodCxlKT0+c1tlXT09PXQpKTt2YXIgZSxzfSl9e2NvbnN0IHQ9aXIuX3BlcmlvZGljV2F2ZUNhY2hlLmZpbmQodD0+dC50eXBlPT09dGhpcy5fdHlwZSYmdC5waGFzZT09PXRoaXMuX3BoYXNlKTtyZXR1cm4gdGhpcy5fcGFydGlhbENvdW50PXQ/dC5wYXJ0aWFsQ291bnQ6dGhpcy5fcGFydGlhbENvdW50LHR9fWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9c2V0IHR5cGUodCl7dGhpcy5fdHlwZT10O2NvbnN0IGU9LTEhPT1bXCJzaW5lXCIsXCJzcXVhcmVcIixcInNhd3Rvb3RoXCIsXCJ0cmlhbmdsZVwiXS5pbmRleE9mKHQpO2lmKDA9PT10aGlzLl9waGFzZSYmZSl0aGlzLl93YXZlPXZvaWQgMCx0aGlzLl9wYXJ0aWFsQ291bnQ9MCxudWxsIT09dGhpcy5fb3NjaWxsYXRvciYmKHRoaXMuX29zY2lsbGF0b3IudHlwZT10KTtlbHNle2NvbnN0IGU9dGhpcy5fZ2V0Q2FjaGVkUGVyaW9kaWNXYXZlKCk7aWYoY2koZSkpe2NvbnN0e3BhcnRpYWxzOnQsd2F2ZTpzfT1lO3RoaXMuX3dhdmU9cyx0aGlzLl9wYXJ0aWFscz10LG51bGwhPT10aGlzLl9vc2NpbGxhdG9yJiZ0aGlzLl9vc2NpbGxhdG9yLnNldFBlcmlvZGljV2F2ZSh0aGlzLl93YXZlKX1lbHNle2NvbnN0W2Usc109dGhpcy5fZ2V0UmVhbEltYWdpbmFyeSh0LHRoaXMuX3BoYXNlKSxuPXRoaXMuY29udGV4dC5jcmVhdGVQZXJpb2RpY1dhdmUoZSxzKTt0aGlzLl93YXZlPW4sbnVsbCE9PXRoaXMuX29zY2lsbGF0b3ImJnRoaXMuX29zY2lsbGF0b3Iuc2V0UGVyaW9kaWNXYXZlKHRoaXMuX3dhdmUpLGlyLl9wZXJpb2RpY1dhdmVDYWNoZS5wdXNoKHtpbWFnOnMscGFydGlhbENvdW50OnRoaXMuX3BhcnRpYWxDb3VudCxwYXJ0aWFsczp0aGlzLl9wYXJ0aWFscyxwaGFzZTp0aGlzLl9waGFzZSxyZWFsOmUsdHlwZTp0aGlzLl90eXBlLHdhdmU6dGhpcy5fd2F2ZX0pLGlyLl9wZXJpb2RpY1dhdmVDYWNoZS5sZW5ndGg+MTAwJiZpci5fcGVyaW9kaWNXYXZlQ2FjaGUuc2hpZnQoKX19fWdldCBiYXNlVHlwZSgpe3JldHVybiB0aGlzLl90eXBlLnJlcGxhY2UodGhpcy5wYXJ0aWFsQ291bnQudG9TdHJpbmcoKSxcIlwiKX1zZXQgYmFzZVR5cGUodCl7dGhpcy5wYXJ0aWFsQ291bnQmJlwiY3VzdG9tXCIhPT10aGlzLl90eXBlJiZcImN1c3RvbVwiIT09dD90aGlzLnR5cGU9dCt0aGlzLnBhcnRpYWxDb3VudDp0aGlzLnR5cGU9dH1nZXQgcGFydGlhbENvdW50KCl7cmV0dXJuIHRoaXMuX3BhcnRpYWxDb3VudH1zZXQgcGFydGlhbENvdW50KHQpe2VpKHQsMCk7bGV0IGU9dGhpcy5fdHlwZTtjb25zdCBzPS9eKHNpbmV8dHJpYW5nbGV8c3F1YXJlfHNhd3Rvb3RoKShcXGQrKSQvLmV4ZWModGhpcy5fdHlwZSk7aWYocyYmKGU9c1sxXSksXCJjdXN0b21cIiE9PXRoaXMuX3R5cGUpdGhpcy50eXBlPTA9PT10P2U6ZSt0LnRvU3RyaW5nKCk7ZWxzZXtjb25zdCBlPW5ldyBGbG9hdDMyQXJyYXkodCk7dGhpcy5fcGFydGlhbHMuZm9yRWFjaCgodCxzKT0+ZVtzXT10KSx0aGlzLl9wYXJ0aWFscz1BcnJheS5mcm9tKGUpLHRoaXMudHlwZT10aGlzLl90eXBlfX1fZ2V0UmVhbEltYWdpbmFyeSh0LGUpe2xldCBzPTIwNDg7Y29uc3Qgbj1uZXcgRmxvYXQzMkFycmF5KHMpLGk9bmV3IEZsb2F0MzJBcnJheShzKTtsZXQgbz0xO2lmKFwiY3VzdG9tXCI9PT10KXtpZihvPXRoaXMuX3BhcnRpYWxzLmxlbmd0aCsxLHRoaXMuX3BhcnRpYWxDb3VudD10aGlzLl9wYXJ0aWFscy5sZW5ndGgscz1vLDA9PT10aGlzLl9wYXJ0aWFscy5sZW5ndGgpcmV0dXJuW24saV19ZWxzZXtjb25zdCBlPS9eKHNpbmV8dHJpYW5nbGV8c3F1YXJlfHNhd3Rvb3RoKShcXGQrKSQvLmV4ZWModCk7ZT8obz1wYXJzZUludChlWzJdLDEwKSsxLHRoaXMuX3BhcnRpYWxDb3VudD1wYXJzZUludChlWzJdLDEwKSx0PWVbMV0sbz1NYXRoLm1heChvLDIpLHM9byk6dGhpcy5fcGFydGlhbENvdW50PTAsdGhpcy5fcGFydGlhbHM9W119Zm9yKGxldCByPTE7cjxzOysrcil7Y29uc3Qgcz0yLyhyKk1hdGguUEkpO2xldCBhO3N3aXRjaCh0KXtjYXNlXCJzaW5lXCI6YT1yPD1vPzE6MCx0aGlzLl9wYXJ0aWFsc1tyLTFdPWE7YnJlYWs7Y2FzZVwic3F1YXJlXCI6YT0xJnI/MipzOjAsdGhpcy5fcGFydGlhbHNbci0xXT1hO2JyZWFrO2Nhc2VcInNhd3Rvb3RoXCI6YT1zKigxJnI/MTotMSksdGhpcy5fcGFydGlhbHNbci0xXT1hO2JyZWFrO2Nhc2VcInRyaWFuZ2xlXCI6YT0xJnI/cypzKjIqKHItMT4+MSYxPy0xOjEpOjAsdGhpcy5fcGFydGlhbHNbci0xXT1hO2JyZWFrO2Nhc2VcImN1c3RvbVwiOmE9dGhpcy5fcGFydGlhbHNbci0xXTticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJPc2NpbGxhdG9yOiBpbnZhbGlkIHR5cGU6IFwiK3QpfTAhPT1hPyhuW3JdPS1hKk1hdGguc2luKGUqciksaVtyXT1hKk1hdGguY29zKGUqcikpOihuW3JdPTAsaVtyXT0wKX1yZXR1cm5bbixpXX1faW52ZXJzZUZGVCh0LGUscyl7bGV0IG49MDtjb25zdCBpPXQubGVuZ3RoO2ZvcihsZXQgbz0wO288aTtvKyspbis9dFtvXSpNYXRoLmNvcyhvKnMpK2Vbb10qTWF0aC5zaW4obypzKTtyZXR1cm4gbn1nZXRJbml0aWFsVmFsdWUoKXtjb25zdFt0LGVdPXRoaXMuX2dldFJlYWxJbWFnaW5hcnkodGhpcy5fdHlwZSwwKTtsZXQgcz0wO2NvbnN0IG49MipNYXRoLlBJO2ZvcihsZXQgaT0wO2k8MzI7aSsrKXM9TWF0aC5tYXgodGhpcy5faW52ZXJzZUZGVCh0LGUsaS8zMipuKSxzKTtyZXR1cm4gVmkoLXRoaXMuX2ludmVyc2VGRlQodCxlLHRoaXMuX3BoYXNlKS9zLC0xLDEpfWdldCBwYXJ0aWFscygpe3JldHVybiB0aGlzLl9wYXJ0aWFscy5zbGljZSgwLHRoaXMucGFydGlhbENvdW50KX1zZXQgcGFydGlhbHModCl7dGhpcy5fcGFydGlhbHM9dCx0aGlzLl9wYXJ0aWFsQ291bnQ9dGhpcy5fcGFydGlhbHMubGVuZ3RoLHQubGVuZ3RoJiYodGhpcy50eXBlPVwiY3VzdG9tXCIpfWdldCBwaGFzZSgpe3JldHVybiB0aGlzLl9waGFzZSooMTgwL01hdGguUEkpfXNldCBwaGFzZSh0KXt0aGlzLl9waGFzZT10Kk1hdGguUEkvMTgwLHRoaXMudHlwZT10aGlzLl90eXBlfWFzQXJyYXkodD0xMDI0KXtyZXR1cm4geWkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gc3IodGhpcyx0KX0pKX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSxudWxsIT09dGhpcy5fb3NjaWxsYXRvciYmdGhpcy5fb3NjaWxsYXRvci5kaXNwb3NlKCksdGhpcy5fd2F2ZT12b2lkIDAsdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzfX1pci5fcGVyaW9kaWNXYXZlQ2FjaGU9W107Y2xhc3Mgb3IgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKE9iamVjdC5hc3NpZ24oRGkob3IuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY29udGV4dFwiXSkpKX1jb25uZWN0KHQsZT0wLHM9MCl7cmV0dXJuIE9vKHRoaXMsdCxlLHMpLHRoaXN9fWNsYXNzIHJyIGV4dGVuZHMgb3J7Y29uc3RydWN0b3IoKXtzdXBlcihPYmplY3QuYXNzaWduKERpKHJyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcIm1hcHBpbmdcIixcImxlbmd0aFwiXSkpKSx0aGlzLm5hbWU9XCJXYXZlU2hhcGVyXCIsdGhpcy5fc2hhcGVyPXRoaXMuY29udGV4dC5jcmVhdGVXYXZlU2hhcGVyKCksdGhpcy5pbnB1dD10aGlzLl9zaGFwZXIsdGhpcy5vdXRwdXQ9dGhpcy5fc2hhcGVyO2NvbnN0IHQ9RGkocnIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wibWFwcGluZ1wiLFwibGVuZ3RoXCJdKTtkaSh0Lm1hcHBpbmcpfHx0Lm1hcHBpbmcgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5jdXJ2ZT1GbG9hdDMyQXJyYXkuZnJvbSh0Lm1hcHBpbmcpOmhpKHQubWFwcGluZykmJnRoaXMuc2V0TWFwKHQubWFwcGluZyx0Lmxlbmd0aCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oRG8uZ2V0RGVmYXVsdHMoKSx7bGVuZ3RoOjEwMjR9KX1zZXRNYXAodCxlPTEwMjQpe2NvbnN0IHM9bmV3IEZsb2F0MzJBcnJheShlKTtmb3IobGV0IG49MCxpPWU7bjxpO24rKyl7Y29uc3QgZT1uLyhpLTEpKjItMTtzW25dPXQoZSxuKX1yZXR1cm4gdGhpcy5jdXJ2ZT1zLHRoaXN9Z2V0IGN1cnZlKCl7cmV0dXJuIHRoaXMuX3NoYXBlci5jdXJ2ZX1zZXQgY3VydmUodCl7dGhpcy5fc2hhcGVyLmN1cnZlPXR9Z2V0IG92ZXJzYW1wbGUoKXtyZXR1cm4gdGhpcy5fc2hhcGVyLm92ZXJzYW1wbGV9c2V0IG92ZXJzYW1wbGUodCl7dGkoW1wibm9uZVwiLFwiMnhcIixcIjR4XCJdLnNvbWUoZT0+ZS5pbmNsdWRlcyh0KSksXCJvdmVyc2FtcGxpbmcgbXVzdCBiZSBlaXRoZXIgJ25vbmUnLCAnMngnLCBvciAnNHgnXCIpLHRoaXMuX3NoYXBlci5vdmVyc2FtcGxlPXR9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fc2hhcGVyLmRpc2Nvbm5lY3QoKSx0aGlzfX1jbGFzcyBhciBleHRlbmRzIG9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5hbWU9XCJBdWRpb1RvR2FpblwiLHRoaXMuX25vcm09bmV3IHJyKHtjb250ZXh0OnRoaXMuY29udGV4dCxtYXBwaW5nOnQ9Pih0KzEpLzJ9KSx0aGlzLmlucHV0PXRoaXMuX25vcm0sdGhpcy5vdXRwdXQ9dGhpcy5fbm9ybX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9ub3JtLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBjciBleHRlbmRzIERve2NvbnN0cnVjdG9yKCl7c3VwZXIoT2JqZWN0LmFzc2lnbihEaShjci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2YWx1ZVwiXSkpKSx0aGlzLm5hbWU9XCJNdWx0aXBseVwiLHRoaXMub3ZlcnJpZGU9ITE7Y29uc3QgdD1EaShjci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2YWx1ZVwiXSk7dGhpcy5fbXVsdD10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsbWluVmFsdWU6dC5taW5WYWx1ZSxtYXhWYWx1ZTp0Lm1heFZhbHVlfSksdGhpcy5mYWN0b3I9dGhpcy5fcGFyYW09dGhpcy5fbXVsdC5nYWluLHRoaXMuZmFjdG9yLnNldFZhbHVlQXRUaW1lKHQudmFsdWUsMCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oRG8uZ2V0RGVmYXVsdHMoKSx7dmFsdWU6MH0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX211bHQuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIGhyIGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihEaShoci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIixcIm1vZHVsYXRpb25UeXBlXCJdKSksdGhpcy5uYW1lPVwiQU1Pc2NpbGxhdG9yXCIsdGhpcy5fbW9kdWxhdGlvblNjYWxlPW5ldyBhcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9tb2R1bGF0aW9uTm9kZT1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSk7Y29uc3QgdD1EaShoci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIixcIm1vZHVsYXRpb25UeXBlXCJdKTt0aGlzLl9jYXJyaWVyPW5ldyBpcih7Y29udGV4dDp0aGlzLmNvbnRleHQsZGV0dW5lOnQuZGV0dW5lLGZyZXF1ZW5jeTp0LmZyZXF1ZW5jeSxvbnN0b3A6KCk9PnRoaXMub25zdG9wKHRoaXMpLHBoYXNlOnQucGhhc2UsdHlwZTp0LnR5cGV9KSx0aGlzLmZyZXF1ZW5jeT10aGlzLl9jYXJyaWVyLmZyZXF1ZW5jeSx0aGlzLmRldHVuZT10aGlzLl9jYXJyaWVyLmRldHVuZSx0aGlzLl9tb2R1bGF0b3I9bmV3IGlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxwaGFzZTp0LnBoYXNlLHR5cGU6dC5tb2R1bGF0aW9uVHlwZX0pLHRoaXMuaGFybW9uaWNpdHk9bmV3IGNyKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcInBvc2l0aXZlXCIsdmFsdWU6dC5oYXJtb25pY2l0eX0pLHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMuaGFybW9uaWNpdHksdGhpcy5fbW9kdWxhdG9yLmZyZXF1ZW5jeSksdGhpcy5fbW9kdWxhdG9yLmNoYWluKHRoaXMuX21vZHVsYXRpb25TY2FsZSx0aGlzLl9tb2R1bGF0aW9uTm9kZS5nYWluKSx0aGlzLl9jYXJyaWVyLmNoYWluKHRoaXMuX21vZHVsYXRpb25Ob2RlLHRoaXMub3V0cHV0KSxVaSh0aGlzLFtcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCIsXCJoYXJtb25pY2l0eVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oaXIuZ2V0RGVmYXVsdHMoKSx7aGFybW9uaWNpdHk6MSxtb2R1bGF0aW9uVHlwZTpcInNxdWFyZVwifSl9X3N0YXJ0KHQpe3RoaXMuX21vZHVsYXRvci5zdGFydCh0KSx0aGlzLl9jYXJyaWVyLnN0YXJ0KHQpfV9zdG9wKHQpe3RoaXMuX21vZHVsYXRvci5zdG9wKHQpLHRoaXMuX2NhcnJpZXIuc3RvcCh0KX1fcmVzdGFydCh0KXt0aGlzLl9tb2R1bGF0b3IucmVzdGFydCh0KSx0aGlzLl9jYXJyaWVyLnJlc3RhcnQodCl9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fY2Fycmllci50eXBlfXNldCB0eXBlKHQpe3RoaXMuX2NhcnJpZXIudHlwZT10fWdldCBiYXNlVHlwZSgpe3JldHVybiB0aGlzLl9jYXJyaWVyLmJhc2VUeXBlfXNldCBiYXNlVHlwZSh0KXt0aGlzLl9jYXJyaWVyLmJhc2VUeXBlPXR9Z2V0IHBhcnRpYWxDb3VudCgpe3JldHVybiB0aGlzLl9jYXJyaWVyLnBhcnRpYWxDb3VudH1zZXQgcGFydGlhbENvdW50KHQpe3RoaXMuX2NhcnJpZXIucGFydGlhbENvdW50PXR9Z2V0IG1vZHVsYXRpb25UeXBlKCl7cmV0dXJuIHRoaXMuX21vZHVsYXRvci50eXBlfXNldCBtb2R1bGF0aW9uVHlwZSh0KXt0aGlzLl9tb2R1bGF0b3IudHlwZT10fWdldCBwaGFzZSgpe3JldHVybiB0aGlzLl9jYXJyaWVyLnBoYXNlfXNldCBwaGFzZSh0KXt0aGlzLl9jYXJyaWVyLnBoYXNlPXQsdGhpcy5fbW9kdWxhdG9yLnBoYXNlPXR9Z2V0IHBhcnRpYWxzKCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIucGFydGlhbHN9c2V0IHBhcnRpYWxzKHQpe3RoaXMuX2NhcnJpZXIucGFydGlhbHM9dH1hc0FycmF5KHQ9MTAyNCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHNyKHRoaXMsdCl9KSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzLmhhcm1vbmljaXR5LmRpc3Bvc2UoKSx0aGlzLl9jYXJyaWVyLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0b3IuZGlzcG9zZSgpLHRoaXMuX21vZHVsYXRpb25Ob2RlLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0aW9uU2NhbGUuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIHVyIGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihEaSh1ci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIixcIm1vZHVsYXRpb25UeXBlXCJdKSksdGhpcy5uYW1lPVwiRk1Pc2NpbGxhdG9yXCIsdGhpcy5fbW9kdWxhdGlvbk5vZGU9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOjB9KTtjb25zdCB0PURpKHVyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwidHlwZVwiLFwibW9kdWxhdGlvblR5cGVcIl0pO3RoaXMuX2NhcnJpZXI9bmV3IGlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxkZXR1bmU6dC5kZXR1bmUsZnJlcXVlbmN5OjAsb25zdG9wOigpPT50aGlzLm9uc3RvcCh0aGlzKSxwaGFzZTp0LnBoYXNlLHR5cGU6dC50eXBlfSksdGhpcy5kZXR1bmU9dGhpcy5fY2Fycmllci5kZXR1bmUsdGhpcy5mcmVxdWVuY3k9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcImZyZXF1ZW5jeVwiLHZhbHVlOnQuZnJlcXVlbmN5fSksdGhpcy5fbW9kdWxhdG9yPW5ldyBpcih7Y29udGV4dDp0aGlzLmNvbnRleHQscGhhc2U6dC5waGFzZSx0eXBlOnQubW9kdWxhdGlvblR5cGV9KSx0aGlzLmhhcm1vbmljaXR5PW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJwb3NpdGl2ZVwiLHZhbHVlOnQuaGFybW9uaWNpdHl9KSx0aGlzLm1vZHVsYXRpb25JbmRleD1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwicG9zaXRpdmVcIix2YWx1ZTp0Lm1vZHVsYXRpb25JbmRleH0pLHRoaXMuZnJlcXVlbmN5LmNvbm5lY3QodGhpcy5fY2Fycmllci5mcmVxdWVuY3kpLHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMuaGFybW9uaWNpdHksdGhpcy5fbW9kdWxhdG9yLmZyZXF1ZW5jeSksdGhpcy5mcmVxdWVuY3kuY2hhaW4odGhpcy5tb2R1bGF0aW9uSW5kZXgsdGhpcy5fbW9kdWxhdGlvbk5vZGUpLHRoaXMuX21vZHVsYXRvci5jb25uZWN0KHRoaXMuX21vZHVsYXRpb25Ob2RlLmdhaW4pLHRoaXMuX21vZHVsYXRpb25Ob2RlLmNvbm5lY3QodGhpcy5fY2Fycmllci5mcmVxdWVuY3kpLHRoaXMuX2NhcnJpZXIuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5kZXR1bmUuY29ubmVjdCh0aGlzLl9tb2R1bGF0b3IuZGV0dW5lKSxVaSh0aGlzLFtcIm1vZHVsYXRpb25JbmRleFwiLFwiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIixcImhhcm1vbmljaXR5XCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihpci5nZXREZWZhdWx0cygpLHtoYXJtb25pY2l0eToxLG1vZHVsYXRpb25JbmRleDoyLG1vZHVsYXRpb25UeXBlOlwic3F1YXJlXCJ9KX1fc3RhcnQodCl7dGhpcy5fbW9kdWxhdG9yLnN0YXJ0KHQpLHRoaXMuX2NhcnJpZXIuc3RhcnQodCl9X3N0b3AodCl7dGhpcy5fbW9kdWxhdG9yLnN0b3AodCksdGhpcy5fY2Fycmllci5zdG9wKHQpfV9yZXN0YXJ0KHQpe3JldHVybiB0aGlzLl9tb2R1bGF0b3IucmVzdGFydCh0KSx0aGlzLl9jYXJyaWVyLnJlc3RhcnQodCksdGhpc31nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9jYXJyaWVyLnR5cGV9c2V0IHR5cGUodCl7dGhpcy5fY2Fycmllci50eXBlPXR9Z2V0IGJhc2VUeXBlKCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIuYmFzZVR5cGV9c2V0IGJhc2VUeXBlKHQpe3RoaXMuX2NhcnJpZXIuYmFzZVR5cGU9dH1nZXQgcGFydGlhbENvdW50KCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIucGFydGlhbENvdW50fXNldCBwYXJ0aWFsQ291bnQodCl7dGhpcy5fY2Fycmllci5wYXJ0aWFsQ291bnQ9dH1nZXQgbW9kdWxhdGlvblR5cGUoKXtyZXR1cm4gdGhpcy5fbW9kdWxhdG9yLnR5cGV9c2V0IG1vZHVsYXRpb25UeXBlKHQpe3RoaXMuX21vZHVsYXRvci50eXBlPXR9Z2V0IHBoYXNlKCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIucGhhc2V9c2V0IHBoYXNlKHQpe3RoaXMuX2NhcnJpZXIucGhhc2U9dCx0aGlzLl9tb2R1bGF0b3IucGhhc2U9dH1nZXQgcGFydGlhbHMoKXtyZXR1cm4gdGhpcy5fY2Fycmllci5wYXJ0aWFsc31zZXQgcGFydGlhbHModCl7dGhpcy5fY2Fycmllci5wYXJ0aWFscz10fWFzQXJyYXkodD0xMDI0KXtyZXR1cm4geWkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gc3IodGhpcyx0KX0pKX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5oYXJtb25pY2l0eS5kaXNwb3NlKCksdGhpcy5fY2Fycmllci5kaXNwb3NlKCksdGhpcy5fbW9kdWxhdG9yLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0aW9uTm9kZS5kaXNwb3NlKCksdGhpcy5tb2R1bGF0aW9uSW5kZXguZGlzcG9zZSgpLHRoaXN9fWNsYXNzIGxyIGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihEaShsci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcIndpZHRoXCJdKSksdGhpcy5uYW1lPVwiUHVsc2VPc2NpbGxhdG9yXCIsdGhpcy5fd2lkdGhHYXRlPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsZ2FpbjowfSksdGhpcy5fdGhyZXNoPW5ldyBycih7Y29udGV4dDp0aGlzLmNvbnRleHQsbWFwcGluZzp0PT50PD0wPy0xOjF9KTtjb25zdCB0PURpKGxyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwid2lkdGhcIl0pO3RoaXMud2lkdGg9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcImF1ZGlvUmFuZ2VcIix2YWx1ZTp0LndpZHRofSksdGhpcy5fdHJpYW5nbGU9bmV3IGlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxkZXR1bmU6dC5kZXR1bmUsZnJlcXVlbmN5OnQuZnJlcXVlbmN5LG9uc3RvcDooKT0+dGhpcy5vbnN0b3AodGhpcykscGhhc2U6dC5waGFzZSx0eXBlOlwidHJpYW5nbGVcIn0pLHRoaXMuZnJlcXVlbmN5PXRoaXMuX3RyaWFuZ2xlLmZyZXF1ZW5jeSx0aGlzLmRldHVuZT10aGlzLl90cmlhbmdsZS5kZXR1bmUsdGhpcy5fdHJpYW5nbGUuY2hhaW4odGhpcy5fdGhyZXNoLHRoaXMub3V0cHV0KSx0aGlzLndpZHRoLmNoYWluKHRoaXMuX3dpZHRoR2F0ZSx0aGlzLl90aHJlc2gpLFVpKHRoaXMsW1wid2lkdGhcIixcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihIby5nZXREZWZhdWx0cygpLHtkZXR1bmU6MCxmcmVxdWVuY3k6NDQwLHBoYXNlOjAsdHlwZTpcInB1bHNlXCIsd2lkdGg6LjJ9KX1fc3RhcnQodCl7dD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl90cmlhbmdsZS5zdGFydCh0KSx0aGlzLl93aWR0aEdhdGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLHQpfV9zdG9wKHQpe3Q9dGhpcy50b1NlY29uZHModCksdGhpcy5fdHJpYW5nbGUuc3RvcCh0KSx0aGlzLl93aWR0aEdhdGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCksdGhpcy5fd2lkdGhHYXRlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCx0KX1fcmVzdGFydCh0KXt0aGlzLl90cmlhbmdsZS5yZXN0YXJ0KHQpLHRoaXMuX3dpZHRoR2F0ZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KSx0aGlzLl93aWR0aEdhdGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLHQpfWdldCBwaGFzZSgpe3JldHVybiB0aGlzLl90cmlhbmdsZS5waGFzZX1zZXQgcGhhc2UodCl7dGhpcy5fdHJpYW5nbGUucGhhc2U9dH1nZXQgdHlwZSgpe3JldHVyblwicHVsc2VcIn1nZXQgYmFzZVR5cGUoKXtyZXR1cm5cInB1bHNlXCJ9Z2V0IHBhcnRpYWxzKCl7cmV0dXJuW119Z2V0IHBhcnRpYWxDb3VudCgpe3JldHVybiAwfXNldCBjYXJyaWVyVHlwZSh0KXt0aGlzLl90cmlhbmdsZS50eXBlPXR9YXNBcnJheSh0PTEwMjQpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBzcih0aGlzLHQpfSkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3RyaWFuZ2xlLmRpc3Bvc2UoKSx0aGlzLndpZHRoLmRpc3Bvc2UoKSx0aGlzLl93aWR0aEdhdGUuZGlzcG9zZSgpLHRoaXMuX3RocmVzaC5kaXNwb3NlKCksdGhpc319Y2xhc3MgcHIgZXh0ZW5kcyBIb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKHByLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwidHlwZVwiLFwic3ByZWFkXCJdKSksdGhpcy5uYW1lPVwiRmF0T3NjaWxsYXRvclwiLHRoaXMuX29zY2lsbGF0b3JzPVtdO2NvbnN0IHQ9RGkocHIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCIsXCJzcHJlYWRcIl0pO3RoaXMuZnJlcXVlbmN5PW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJmcmVxdWVuY3lcIix2YWx1ZTp0LmZyZXF1ZW5jeX0pLHRoaXMuZGV0dW5lPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJjZW50c1wiLHZhbHVlOnQuZGV0dW5lfSksdGhpcy5fc3ByZWFkPXQuc3ByZWFkLHRoaXMuX3R5cGU9dC50eXBlLHRoaXMuX3BoYXNlPXQucGhhc2UsdGhpcy5fcGFydGlhbHM9dC5wYXJ0aWFscyx0aGlzLl9wYXJ0aWFsQ291bnQ9dC5wYXJ0aWFsQ291bnQsdGhpcy5jb3VudD10LmNvdW50LFVpKHRoaXMsW1wiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIl0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKGlyLmdldERlZmF1bHRzKCkse2NvdW50OjMsc3ByZWFkOjIwLHR5cGU6XCJzYXd0b290aFwifSl9X3N0YXJ0KHQpe3Q9dGhpcy50b1NlY29uZHModCksdGhpcy5fZm9yRWFjaChlPT5lLnN0YXJ0KHQpKX1fc3RvcCh0KXt0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX2ZvckVhY2goZT0+ZS5zdG9wKHQpKX1fcmVzdGFydCh0KXt0aGlzLl9mb3JFYWNoKGU9PmUucmVzdGFydCh0KSl9X2ZvckVhY2godCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGg7ZSsrKXQodGhpcy5fb3NjaWxsYXRvcnNbZV0sZSl9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX1zZXQgdHlwZSh0KXt0aGlzLl90eXBlPXQsdGhpcy5fZm9yRWFjaChlPT5lLnR5cGU9dCl9Z2V0IHNwcmVhZCgpe3JldHVybiB0aGlzLl9zcHJlYWR9c2V0IHNwcmVhZCh0KXtpZih0aGlzLl9zcHJlYWQ9dCx0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGg+MSl7Y29uc3QgZT0tdC8yLHM9dC8odGhpcy5fb3NjaWxsYXRvcnMubGVuZ3RoLTEpO3RoaXMuX2ZvckVhY2goKHQsbik9PnQuZGV0dW5lLnZhbHVlPWUrcypuKX19Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aH1zZXQgY291bnQodCl7aWYoZWkodCwxKSx0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGghPT10KXt0aGlzLl9mb3JFYWNoKHQ9PnQuZGlzcG9zZSgpKSx0aGlzLl9vc2NpbGxhdG9ycz1bXTtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtjb25zdCBzPW5ldyBpcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdm9sdW1lOi02LTEuMSp0LHR5cGU6dGhpcy5fdHlwZSxwaGFzZTp0aGlzLl9waGFzZStlL3QqMzYwLHBhcnRpYWxDb3VudDp0aGlzLl9wYXJ0aWFsQ291bnQsb25zdG9wOjA9PT1lPygpPT50aGlzLm9uc3RvcCh0aGlzKTpaaX0pO1wiY3VzdG9tXCI9PT10aGlzLnR5cGUmJihzLnBhcnRpYWxzPXRoaXMuX3BhcnRpYWxzKSx0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHMuZnJlcXVlbmN5KSx0aGlzLmRldHVuZS5jb25uZWN0KHMuZGV0dW5lKSxzLmRldHVuZS5vdmVycmlkZGVuPSExLHMuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5fb3NjaWxsYXRvcnNbZV09c310aGlzLnNwcmVhZD10aGlzLl9zcHJlYWQsXCJzdGFydGVkXCI9PT10aGlzLnN0YXRlJiZ0aGlzLl9mb3JFYWNoKHQ9PnQuc3RhcnQoKSl9fWdldCBwaGFzZSgpe3JldHVybiB0aGlzLl9waGFzZX1zZXQgcGhhc2UodCl7dGhpcy5fcGhhc2U9dCx0aGlzLl9mb3JFYWNoKCh0LGUpPT50LnBoYXNlPXRoaXMuX3BoYXNlK2UvdGhpcy5jb3VudCozNjApfWdldCBiYXNlVHlwZSgpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5iYXNlVHlwZX1zZXQgYmFzZVR5cGUodCl7dGhpcy5fZm9yRWFjaChlPT5lLmJhc2VUeXBlPXQpLHRoaXMuX3R5cGU9dGhpcy5fb3NjaWxsYXRvcnNbMF0udHlwZX1nZXQgcGFydGlhbHMoKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvcnNbMF0ucGFydGlhbHN9c2V0IHBhcnRpYWxzKHQpe3RoaXMuX3BhcnRpYWxzPXQsdGhpcy5fcGFydGlhbENvdW50PXRoaXMuX3BhcnRpYWxzLmxlbmd0aCx0Lmxlbmd0aCYmKHRoaXMuX3R5cGU9XCJjdXN0b21cIix0aGlzLl9mb3JFYWNoKGU9PmUucGFydGlhbHM9dCkpfWdldCBwYXJ0aWFsQ291bnQoKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvcnNbMF0ucGFydGlhbENvdW50fXNldCBwYXJ0aWFsQ291bnQodCl7dGhpcy5fcGFydGlhbENvdW50PXQsdGhpcy5fZm9yRWFjaChlPT5lLnBhcnRpYWxDb3VudD10KSx0aGlzLl90eXBlPXRoaXMuX29zY2lsbGF0b3JzWzBdLnR5cGV9YXNBcnJheSh0PTEwMjQpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBzcih0aGlzLHQpfSkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmRldHVuZS5kaXNwb3NlKCksdGhpcy5fZm9yRWFjaCh0PT50LmRpc3Bvc2UoKSksdGhpc319Y2xhc3MgZHIgZXh0ZW5kcyBIb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGRyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwibW9kdWxhdGlvbkZyZXF1ZW5jeVwiXSkpLHRoaXMubmFtZT1cIlBXTU9zY2lsbGF0b3JcIix0aGlzLnNvdXJjZVR5cGU9XCJwd21cIix0aGlzLl9zY2FsZT1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOjJ9KTtjb25zdCB0PURpKGRyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwibW9kdWxhdGlvbkZyZXF1ZW5jeVwiXSk7dGhpcy5fcHVsc2U9bmV3IGxyKHtjb250ZXh0OnRoaXMuY29udGV4dCxmcmVxdWVuY3k6dC5tb2R1bGF0aW9uRnJlcXVlbmN5fSksdGhpcy5fcHVsc2UuY2FycmllclR5cGU9XCJzaW5lXCIsdGhpcy5tb2R1bGF0aW9uRnJlcXVlbmN5PXRoaXMuX3B1bHNlLmZyZXF1ZW5jeSx0aGlzLl9tb2R1bGF0b3I9bmV3IGlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxkZXR1bmU6dC5kZXR1bmUsZnJlcXVlbmN5OnQuZnJlcXVlbmN5LG9uc3RvcDooKT0+dGhpcy5vbnN0b3AodGhpcykscGhhc2U6dC5waGFzZX0pLHRoaXMuZnJlcXVlbmN5PXRoaXMuX21vZHVsYXRvci5mcmVxdWVuY3ksdGhpcy5kZXR1bmU9dGhpcy5fbW9kdWxhdG9yLmRldHVuZSx0aGlzLl9tb2R1bGF0b3IuY2hhaW4odGhpcy5fc2NhbGUsdGhpcy5fcHVsc2Uud2lkdGgpLHRoaXMuX3B1bHNlLmNvbm5lY3QodGhpcy5vdXRwdXQpLFVpKHRoaXMsW1wibW9kdWxhdGlvbkZyZXF1ZW5jeVwiLFwiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIl0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKEhvLmdldERlZmF1bHRzKCkse2RldHVuZTowLGZyZXF1ZW5jeTo0NDAsbW9kdWxhdGlvbkZyZXF1ZW5jeTouNCxwaGFzZTowLHR5cGU6XCJwd21cIn0pfV9zdGFydCh0KXt0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX21vZHVsYXRvci5zdGFydCh0KSx0aGlzLl9wdWxzZS5zdGFydCh0KX1fc3RvcCh0KXt0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX21vZHVsYXRvci5zdG9wKHQpLHRoaXMuX3B1bHNlLnN0b3AodCl9X3Jlc3RhcnQodCl7dGhpcy5fbW9kdWxhdG9yLnJlc3RhcnQodCksdGhpcy5fcHVsc2UucmVzdGFydCh0KX1nZXQgdHlwZSgpe3JldHVyblwicHdtXCJ9Z2V0IGJhc2VUeXBlKCl7cmV0dXJuXCJwd21cIn1nZXQgcGFydGlhbHMoKXtyZXR1cm5bXX1nZXQgcGFydGlhbENvdW50KCl7cmV0dXJuIDB9Z2V0IHBoYXNlKCl7cmV0dXJuIHRoaXMuX21vZHVsYXRvci5waGFzZX1zZXQgcGhhc2UodCl7dGhpcy5fbW9kdWxhdG9yLnBoYXNlPXR9YXNBcnJheSh0PTEwMjQpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBzcih0aGlzLHQpfSkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3B1bHNlLmRpc3Bvc2UoKSx0aGlzLl9zY2FsZS5kaXNwb3NlKCksdGhpcy5fbW9kdWxhdG9yLmRpc3Bvc2UoKSx0aGlzfX1jb25zdCBmcj17YW06aHIsZmF0OnByLGZtOnVyLG9zY2lsbGF0b3I6aXIscHVsc2U6bHIscHdtOmRyfTtjbGFzcyBfciBleHRlbmRzIEhve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoX3IuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCJdKSksdGhpcy5uYW1lPVwiT21uaU9zY2lsbGF0b3JcIjtjb25zdCB0PURpKF9yLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwidHlwZVwiXSk7dGhpcy5mcmVxdWVuY3k9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcImZyZXF1ZW5jeVwiLHZhbHVlOnQuZnJlcXVlbmN5fSksdGhpcy5kZXR1bmU9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcImNlbnRzXCIsdmFsdWU6dC5kZXR1bmV9KSxVaSh0aGlzLFtcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCJdKSx0aGlzLnNldCh0KX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihpci5nZXREZWZhdWx0cygpLHVyLmdldERlZmF1bHRzKCksaHIuZ2V0RGVmYXVsdHMoKSxwci5nZXREZWZhdWx0cygpLGxyLmdldERlZmF1bHRzKCksZHIuZ2V0RGVmYXVsdHMoKSl9X3N0YXJ0KHQpe3RoaXMuX29zY2lsbGF0b3Iuc3RhcnQodCl9X3N0b3AodCl7dGhpcy5fb3NjaWxsYXRvci5zdG9wKHQpfV9yZXN0YXJ0KHQpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnJlc3RhcnQodCksdGhpc31nZXQgdHlwZSgpe2xldCB0PVwiXCI7cmV0dXJuW1wiYW1cIixcImZtXCIsXCJmYXRcIl0uc29tZSh0PT50aGlzLl9zb3VyY2VUeXBlPT09dCkmJih0PXRoaXMuX3NvdXJjZVR5cGUpLHQrdGhpcy5fb3NjaWxsYXRvci50eXBlfXNldCB0eXBlKHQpe1wiZm1cIj09PXQuc3Vic3RyKDAsMik/KHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJmbVwiKSx0aGlzLl9vc2NpbGxhdG9yPXRoaXMuX29zY2lsbGF0b3IsdGhpcy5fb3NjaWxsYXRvci50eXBlPXQuc3Vic3RyKDIpKTpcImFtXCI9PT10LnN1YnN0cigwLDIpPyh0aGlzLl9jcmVhdGVOZXdPc2NpbGxhdG9yKFwiYW1cIiksdGhpcy5fb3NjaWxsYXRvcj10aGlzLl9vc2NpbGxhdG9yLHRoaXMuX29zY2lsbGF0b3IudHlwZT10LnN1YnN0cigyKSk6XCJmYXRcIj09PXQuc3Vic3RyKDAsMyk/KHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJmYXRcIiksdGhpcy5fb3NjaWxsYXRvcj10aGlzLl9vc2NpbGxhdG9yLHRoaXMuX29zY2lsbGF0b3IudHlwZT10LnN1YnN0cigzKSk6XCJwd21cIj09PXQ/KHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJwd21cIiksdGhpcy5fb3NjaWxsYXRvcj10aGlzLl9vc2NpbGxhdG9yKTpcInB1bHNlXCI9PT10P3RoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoXCJwdWxzZVwiKToodGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihcIm9zY2lsbGF0b3JcIiksdGhpcy5fb3NjaWxsYXRvcj10aGlzLl9vc2NpbGxhdG9yLHRoaXMuX29zY2lsbGF0b3IudHlwZT10KX1nZXQgcGFydGlhbHMoKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5wYXJ0aWFsc31zZXQgcGFydGlhbHModCl7dGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwicHVsc2VcIil8fHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvcixcInB3bVwiKXx8KHRoaXMuX29zY2lsbGF0b3IucGFydGlhbHM9dCl9Z2V0IHBhcnRpYWxDb3VudCgpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnBhcnRpYWxDb3VudH1zZXQgcGFydGlhbENvdW50KHQpe3RoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvcixcInB1bHNlXCIpfHx0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsXCJwd21cIil8fCh0aGlzLl9vc2NpbGxhdG9yLnBhcnRpYWxDb3VudD10KX1zZXQodCl7cmV0dXJuIFJlZmxlY3QuaGFzKHQsXCJ0eXBlXCIpJiZ0LnR5cGUmJih0aGlzLnR5cGU9dC50eXBlKSxzdXBlci5zZXQodCksdGhpc31fY3JlYXRlTmV3T3NjaWxsYXRvcih0KXtpZih0IT09dGhpcy5fc291cmNlVHlwZSl7dGhpcy5fc291cmNlVHlwZT10O2NvbnN0IGU9ZnJbdF0scz10aGlzLm5vdygpO2lmKHRoaXMuX29zY2lsbGF0b3Ipe2NvbnN0IHQ9dGhpcy5fb3NjaWxsYXRvcjt0LnN0b3AocyksdGhpcy5jb250ZXh0LnNldFRpbWVvdXQoKCk9PnQuZGlzcG9zZSgpLHRoaXMuYmxvY2tUaW1lKX10aGlzLl9vc2NpbGxhdG9yPW5ldyBlKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuZnJlcXVlbmN5LmNvbm5lY3QodGhpcy5fb3NjaWxsYXRvci5mcmVxdWVuY3kpLHRoaXMuZGV0dW5lLmNvbm5lY3QodGhpcy5fb3NjaWxsYXRvci5kZXR1bmUpLHRoaXMuX29zY2lsbGF0b3IuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5fb3NjaWxsYXRvci5vbnN0b3A9KCk9PnRoaXMub25zdG9wKHRoaXMpLFwic3RhcnRlZFwiPT09dGhpcy5zdGF0ZSYmdGhpcy5fb3NjaWxsYXRvci5zdGFydChzKX19Z2V0IHBoYXNlKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3IucGhhc2V9c2V0IHBoYXNlKHQpe3RoaXMuX29zY2lsbGF0b3IucGhhc2U9dH1nZXQgc291cmNlVHlwZSgpe3JldHVybiB0aGlzLl9zb3VyY2VUeXBlfXNldCBzb3VyY2VUeXBlKHQpe2xldCBlPVwic2luZVwiO1wicHdtXCIhPT10aGlzLl9vc2NpbGxhdG9yLnR5cGUmJlwicHVsc2VcIiE9PXRoaXMuX29zY2lsbGF0b3IudHlwZSYmKGU9dGhpcy5fb3NjaWxsYXRvci50eXBlKSxcImZtXCI9PT10P3RoaXMudHlwZT1cImZtXCIrZTpcImFtXCI9PT10P3RoaXMudHlwZT1cImFtXCIrZTpcImZhdFwiPT09dD90aGlzLnR5cGU9XCJmYXRcIitlOlwib3NjaWxsYXRvclwiPT09dD90aGlzLnR5cGU9ZTpcInB1bHNlXCI9PT10P3RoaXMudHlwZT1cInB1bHNlXCI6XCJwd21cIj09PXQmJih0aGlzLnR5cGU9XCJwd21cIil9X2dldE9zY1R5cGUodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGZyW2VdfWdldCBiYXNlVHlwZSgpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLmJhc2VUeXBlfXNldCBiYXNlVHlwZSh0KXt0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsXCJwdWxzZVwiKXx8dGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwicHdtXCIpfHxcInB1bHNlXCI9PT10fHxcInB3bVwiPT09dHx8KHRoaXMuX29zY2lsbGF0b3IuYmFzZVR5cGU9dCl9Z2V0IHdpZHRoKCl7cmV0dXJuIHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvcixcInB1bHNlXCIpP3RoaXMuX29zY2lsbGF0b3Iud2lkdGg6dm9pZCAwfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsXCJmYXRcIik/dGhpcy5fb3NjaWxsYXRvci5jb3VudDp2b2lkIDB9c2V0IGNvdW50KHQpe3RoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvcixcImZhdFwiKSYmdWkodCkmJih0aGlzLl9vc2NpbGxhdG9yLmNvdW50PXQpfWdldCBzcHJlYWQoKXtyZXR1cm4gdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwiZmF0XCIpP3RoaXMuX29zY2lsbGF0b3Iuc3ByZWFkOnZvaWQgMH1zZXQgc3ByZWFkKHQpe3RoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvcixcImZhdFwiKSYmdWkodCkmJih0aGlzLl9vc2NpbGxhdG9yLnNwcmVhZD10KX1nZXQgbW9kdWxhdGlvblR5cGUoKXtyZXR1cm4gdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwiZm1cIil8fHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvcixcImFtXCIpP3RoaXMuX29zY2lsbGF0b3IubW9kdWxhdGlvblR5cGU6dm9pZCAwfXNldCBtb2R1bGF0aW9uVHlwZSh0KXsodGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwiZm1cIil8fHRoaXMuX2dldE9zY1R5cGUodGhpcy5fb3NjaWxsYXRvcixcImFtXCIpKSYmZmkodCkmJih0aGlzLl9vc2NpbGxhdG9yLm1vZHVsYXRpb25UeXBlPXQpfWdldCBtb2R1bGF0aW9uSW5kZXgoKXtyZXR1cm4gdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwiZm1cIik/dGhpcy5fb3NjaWxsYXRvci5tb2R1bGF0aW9uSW5kZXg6dm9pZCAwfWdldCBoYXJtb25pY2l0eSgpe3JldHVybiB0aGlzLl9nZXRPc2NUeXBlKHRoaXMuX29zY2lsbGF0b3IsXCJmbVwiKXx8dGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwiYW1cIik/dGhpcy5fb3NjaWxsYXRvci5oYXJtb25pY2l0eTp2b2lkIDB9Z2V0IG1vZHVsYXRpb25GcmVxdWVuY3koKXtyZXR1cm4gdGhpcy5fZ2V0T3NjVHlwZSh0aGlzLl9vc2NpbGxhdG9yLFwicHdtXCIpP3RoaXMuX29zY2lsbGF0b3IubW9kdWxhdGlvbkZyZXF1ZW5jeTp2b2lkIDB9YXNBcnJheSh0PTEwMjQpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBzcih0aGlzLHQpfSkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5fb3NjaWxsYXRvci5kaXNwb3NlKCksdGhpc319Y2xhc3MgbXIgZXh0ZW5kcyBEb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKE9iamVjdC5hc3NpZ24oRGkobXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widmFsdWVcIl0pKSksdGhpcy5vdmVycmlkZT0hMSx0aGlzLm5hbWU9XCJBZGRcIix0aGlzLl9zdW09bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuaW5wdXQ9dGhpcy5fc3VtLHRoaXMub3V0cHV0PXRoaXMuX3N1bSx0aGlzLmFkZGVuZD10aGlzLl9wYXJhbSxibyh0aGlzLl9jb25zdGFudFNvdXJjZSx0aGlzLl9zdW0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKERvLmdldERlZmF1bHRzKCkse3ZhbHVlOjB9KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9zdW0uZGlzcG9zZSgpLHRoaXN9fWNsYXNzIGdyIGV4dGVuZHMgb3J7Y29uc3RydWN0b3IoKXtzdXBlcihPYmplY3QuYXNzaWduKERpKGdyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcIm1pblwiLFwibWF4XCJdKSkpLHRoaXMubmFtZT1cIlNjYWxlXCI7Y29uc3QgdD1EaShnci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJtaW5cIixcIm1heFwiXSk7dGhpcy5fbXVsdD10aGlzLmlucHV0PW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6dC5tYXgtdC5taW59KSx0aGlzLl9hZGQ9dGhpcy5vdXRwdXQ9bmV3IG1yKHtjb250ZXh0OnRoaXMuY29udGV4dCx2YWx1ZTp0Lm1pbn0pLHRoaXMuX21pbj10Lm1pbix0aGlzLl9tYXg9dC5tYXgsdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMub3V0cHV0KX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihvci5nZXREZWZhdWx0cygpLHttYXg6MSxtaW46MH0pfWdldCBtaW4oKXtyZXR1cm4gdGhpcy5fbWlufXNldCBtaW4odCl7dGhpcy5fbWluPXQsdGhpcy5fc2V0UmFuZ2UoKX1nZXQgbWF4KCl7cmV0dXJuIHRoaXMuX21heH1zZXQgbWF4KHQpe3RoaXMuX21heD10LHRoaXMuX3NldFJhbmdlKCl9X3NldFJhbmdlKCl7dGhpcy5fYWRkLnZhbHVlPXRoaXMuX21pbix0aGlzLl9tdWx0LnZhbHVlPXRoaXMuX21heC10aGlzLl9taW59ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fYWRkLmRpc3Bvc2UoKSx0aGlzLl9tdWx0LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyB2ciBleHRlbmRzIG9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoT2JqZWN0LmFzc2lnbihEaSh2ci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpKSx0aGlzLm5hbWU9XCJaZXJvXCIsdGhpcy5fZ2Fpbj1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5vdXRwdXQ9dGhpcy5fZ2Fpbix0aGlzLmlucHV0PXZvaWQgMCxUbyh0aGlzLmNvbnRleHQuZ2V0Q29uc3RhbnQoMCksdGhpcy5fZ2Fpbil9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksU28odGhpcy5jb250ZXh0LmdldENvbnN0YW50KDApLHRoaXMuX2dhaW4pLHRoaXN9fWNsYXNzIHlyIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihEaSh5ci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcIm1pblwiLFwibWF4XCJdKSksdGhpcy5uYW1lPVwiTEZPXCIsdGhpcy5fc3RvcHBlZFZhbHVlPTAsdGhpcy5fdW5pdHM9XCJudW1iZXJcIix0aGlzLmNvbnZlcnQ9ITAsdGhpcy5fZnJvbVR5cGU9eG8ucHJvdG90eXBlLl9mcm9tVHlwZSx0aGlzLl90b1R5cGU9eG8ucHJvdG90eXBlLl90b1R5cGUsdGhpcy5faXM9eG8ucHJvdG90eXBlLl9pcyx0aGlzLl9jbGFtcFZhbHVlPXhvLnByb3RvdHlwZS5fY2xhbXBWYWx1ZTtjb25zdCB0PURpKHlyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwibWluXCIsXCJtYXhcIl0pO3RoaXMuX29zY2lsbGF0b3I9bmV3IGlyKHQpLHRoaXMuZnJlcXVlbmN5PXRoaXMuX29zY2lsbGF0b3IuZnJlcXVlbmN5LHRoaXMuX2FtcGxpdHVkZUdhaW49bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOnQuYW1wbGl0dWRlLHVuaXRzOlwibm9ybWFsUmFuZ2VcIn0pLHRoaXMuYW1wbGl0dWRlPXRoaXMuX2FtcGxpdHVkZUdhaW4uZ2Fpbix0aGlzLl9zdG9wcGVkU2lnbmFsPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJhdWRpb1JhbmdlXCIsdmFsdWU6MH0pLHRoaXMuX3plcm9zPW5ldyB2cih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9hMmc9bmV3IGFyKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX3NjYWxlcj10aGlzLm91dHB1dD1uZXcgZ3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LG1heDp0Lm1heCxtaW46dC5taW59KSx0aGlzLnVuaXRzPXQudW5pdHMsdGhpcy5taW49dC5taW4sdGhpcy5tYXg9dC5tYXgsdGhpcy5fb3NjaWxsYXRvci5jaGFpbih0aGlzLl9hbXBsaXR1ZGVHYWluLHRoaXMuX2EyZyx0aGlzLl9zY2FsZXIpLHRoaXMuX3plcm9zLmNvbm5lY3QodGhpcy5fYTJnKSx0aGlzLl9zdG9wcGVkU2lnbmFsLmNvbm5lY3QodGhpcy5fYTJnKSxVaSh0aGlzLFtcImFtcGxpdHVkZVwiLFwiZnJlcXVlbmN5XCJdKSx0aGlzLnBoYXNlPXQucGhhc2V9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oaXIuZ2V0RGVmYXVsdHMoKSx7YW1wbGl0dWRlOjEsZnJlcXVlbmN5OlwiNG5cIixtYXg6MSxtaW46MCx0eXBlOlwic2luZVwiLHVuaXRzOlwibnVtYmVyXCJ9KX1zdGFydCh0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9zdG9wcGVkU2lnbmFsLnNldFZhbHVlQXRUaW1lKDAsdCksdGhpcy5fb3NjaWxsYXRvci5zdGFydCh0KSx0aGlzfXN0b3AodCl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy5fc3RvcHBlZFNpZ25hbC5zZXRWYWx1ZUF0VGltZSh0aGlzLl9zdG9wcGVkVmFsdWUsdCksdGhpcy5fb3NjaWxsYXRvci5zdG9wKHQpLHRoaXN9c3luYygpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnN5bmMoKSx0aGlzLl9vc2NpbGxhdG9yLnN5bmNGcmVxdWVuY3koKSx0aGlzfXVuc3luYygpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnVuc3luYygpLHRoaXMuX29zY2lsbGF0b3IudW5zeW5jRnJlcXVlbmN5KCksdGhpc31fc2V0U3RvcHBlZFZhbHVlKCl7dGhpcy5fc3RvcHBlZFZhbHVlPXRoaXMuX29zY2lsbGF0b3IuZ2V0SW5pdGlhbFZhbHVlKCksdGhpcy5fc3RvcHBlZFNpZ25hbC52YWx1ZT10aGlzLl9zdG9wcGVkVmFsdWV9Z2V0IG1pbigpe3JldHVybiB0aGlzLl90b1R5cGUodGhpcy5fc2NhbGVyLm1pbil9c2V0IG1pbih0KXt0PXRoaXMuX2Zyb21UeXBlKHQpLHRoaXMuX3NjYWxlci5taW49dH1nZXQgbWF4KCl7cmV0dXJuIHRoaXMuX3RvVHlwZSh0aGlzLl9zY2FsZXIubWF4KX1zZXQgbWF4KHQpe3Q9dGhpcy5fZnJvbVR5cGUodCksdGhpcy5fc2NhbGVyLm1heD10fWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3IudHlwZX1zZXQgdHlwZSh0KXt0aGlzLl9vc2NpbGxhdG9yLnR5cGU9dCx0aGlzLl9zZXRTdG9wcGVkVmFsdWUoKX1nZXQgcGFydGlhbHMoKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5wYXJ0aWFsc31zZXQgcGFydGlhbHModCl7dGhpcy5fb3NjaWxsYXRvci5wYXJ0aWFscz10LHRoaXMuX3NldFN0b3BwZWRWYWx1ZSgpfWdldCBwaGFzZSgpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnBoYXNlfXNldCBwaGFzZSh0KXt0aGlzLl9vc2NpbGxhdG9yLnBoYXNlPXQsdGhpcy5fc2V0U3RvcHBlZFZhbHVlKCl9Z2V0IHVuaXRzKCl7cmV0dXJuIHRoaXMuX3VuaXRzfXNldCB1bml0cyh0KXtjb25zdCBlPXRoaXMubWluLHM9dGhpcy5tYXg7dGhpcy5fdW5pdHM9dCx0aGlzLm1pbj1lLHRoaXMubWF4PXN9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3Iuc3RhdGV9Y29ubmVjdCh0LGUscyl7cmV0dXJuKHQgaW5zdGFuY2VvZiB4b3x8dCBpbnN0YW5jZW9mIERvKSYmKHRoaXMuY29udmVydD10LmNvbnZlcnQsdGhpcy51bml0cz10LnVuaXRzKSxPbyh0aGlzLHQsZSxzKSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX29zY2lsbGF0b3IuZGlzcG9zZSgpLHRoaXMuX3N0b3BwZWRTaWduYWwuZGlzcG9zZSgpLHRoaXMuX3plcm9zLmRpc3Bvc2UoKSx0aGlzLl9zY2FsZXIuZGlzcG9zZSgpLHRoaXMuX2EyZy5kaXNwb3NlKCksdGhpcy5fYW1wbGl0dWRlR2Fpbi5kaXNwb3NlKCksdGhpcy5hbXBsaXR1ZGUuZGlzcG9zZSgpLHRoaXN9fWZ1bmN0aW9uIHhyKHQsZT0xLzApe2NvbnN0IHM9bmV3IFdlYWtNYXA7cmV0dXJuIGZ1bmN0aW9uKG4saSl7UmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShuLGkse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmdldCh0aGlzKX0sc2V0OmZ1bmN0aW9uKG4pe2VpKG4sdCxlKSxzLnNldCh0aGlzLG4pfX0pfX1mdW5jdGlvbiB3cih0LGU9MS8wKXtjb25zdCBzPW5ldyBXZWFrTWFwO3JldHVybiBmdW5jdGlvbihuLGkpe1JlZmxlY3QuZGVmaW5lUHJvcGVydHkobixpLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5nZXQodGhpcyl9LHNldDpmdW5jdGlvbihuKXtlaSh0aGlzLnRvU2Vjb25kcyhuKSx0LGUpLHMuc2V0KHRoaXMsbil9fSl9fWNsYXNzIGJyIGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihEaShici5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ1cmxcIixcIm9ubG9hZFwiXSkpLHRoaXMubmFtZT1cIlBsYXllclwiLHRoaXMuX2FjdGl2ZVNvdXJjZXM9bmV3IFNldDtjb25zdCB0PURpKGJyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInVybFwiLFwib25sb2FkXCJdKTt0aGlzLl9idWZmZXI9bmV3IFhpKHtvbmxvYWQ6dGhpcy5fb25sb2FkLmJpbmQodGhpcyx0Lm9ubG9hZCksb25lcnJvcjp0Lm9uZXJyb3IscmV2ZXJzZTp0LnJldmVyc2UsdXJsOnQudXJsfSksdGhpcy5hdXRvc3RhcnQ9dC5hdXRvc3RhcnQsdGhpcy5fbG9vcD10Lmxvb3AsdGhpcy5fbG9vcFN0YXJ0PXQubG9vcFN0YXJ0LHRoaXMuX2xvb3BFbmQ9dC5sb29wRW5kLHRoaXMuX3BsYXliYWNrUmF0ZT10LnBsYXliYWNrUmF0ZSx0aGlzLmZhZGVJbj10LmZhZGVJbix0aGlzLmZhZGVPdXQ9dC5mYWRlT3V0fXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKEhvLmdldERlZmF1bHRzKCkse2F1dG9zdGFydDohMSxmYWRlSW46MCxmYWRlT3V0OjAsbG9vcDohMSxsb29wRW5kOjAsbG9vcFN0YXJ0OjAsb25sb2FkOlppLG9uZXJyb3I6WmkscGxheWJhY2tSYXRlOjEscmV2ZXJzZTohMX0pfWxvYWQodCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMuX2J1ZmZlci5sb2FkKHQpLHRoaXMuX29ubG9hZCgpLHRoaXN9KSl9X29ubG9hZCh0PVppKXt0KCksdGhpcy5hdXRvc3RhcnQmJnRoaXMuc3RhcnQoKX1fb25Tb3VyY2VFbmQodCl7dGhpcy5vbnN0b3AodGhpcyksdGhpcy5fYWN0aXZlU291cmNlcy5kZWxldGUodCksMCE9PXRoaXMuX2FjdGl2ZVNvdXJjZXMuc2l6ZXx8dGhpcy5fc3luY2VkfHxcInN0YXJ0ZWRcIiE9PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHRoaXMubm93KCkpfHwodGhpcy5fc3RhdGUuY2FuY2VsKHRoaXMubm93KCkpLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLHRoaXMubm93KCkpKX1zdGFydCh0LGUscyl7cmV0dXJuIHN1cGVyLnN0YXJ0KHQsZSxzKSx0aGlzfV9zdGFydCh0LGUscyl7ZT10aGlzLl9sb29wP09pKGUsdGhpcy5fbG9vcFN0YXJ0KTpPaShlLDApO2NvbnN0IG49dGhpcy50b1NlY29uZHMoZSksaT1zO3M9T2kocyxNYXRoLm1heCh0aGlzLl9idWZmZXIuZHVyYXRpb24tbiwwKSk7bGV0IG89dGhpcy50b1NlY29uZHMocyk7by89dGhpcy5fcGxheWJhY2tSYXRlLHQ9dGhpcy50b1NlY29uZHModCk7Y29uc3Qgcj1uZXcgJG8oe3VybDp0aGlzLl9idWZmZXIsY29udGV4dDp0aGlzLmNvbnRleHQsZmFkZUluOnRoaXMuZmFkZUluLGZhZGVPdXQ6dGhpcy5mYWRlT3V0LGxvb3A6dGhpcy5fbG9vcCxsb29wRW5kOnRoaXMuX2xvb3BFbmQsbG9vcFN0YXJ0OnRoaXMuX2xvb3BTdGFydCxvbmVuZGVkOnRoaXMuX29uU291cmNlRW5kLmJpbmQodGhpcykscGxheWJhY2tSYXRlOnRoaXMuX3BsYXliYWNrUmF0ZX0pLmNvbm5lY3QodGhpcy5vdXRwdXQpO3RoaXMuX2xvb3B8fHRoaXMuX3N5bmNlZHx8KHRoaXMuX3N0YXRlLmNhbmNlbCh0K28pLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLHQrbyx7aW1wbGljaXRFbmQ6ITB9KSksdGhpcy5fYWN0aXZlU291cmNlcy5hZGQociksdGhpcy5fbG9vcCYmYWkoaSk/ci5zdGFydCh0LG4pOnIuc3RhcnQodCxuLG8tdGhpcy50b1NlY29uZHModGhpcy5mYWRlT3V0KSl9X3N0b3AodCl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTt0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2godD0+dC5zdG9wKGUpKX1yZXN0YXJ0KHQsZSxzKXtyZXR1cm4gc3VwZXIucmVzdGFydCh0LGUscyksdGhpc31fcmVzdGFydCh0LGUscyl7dGhpcy5fc3RvcCh0KSx0aGlzLl9zdGFydCh0LGUscyl9c2Vlayh0LGUpe2NvbnN0IHM9dGhpcy50b1NlY29uZHMoZSk7aWYoXCJzdGFydGVkXCI9PT10aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShzKSl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTt0aGlzLl9zdG9wKHMpLHRoaXMuX3N0YXJ0KHMsZSl9cmV0dXJuIHRoaXN9c2V0TG9vcFBvaW50cyh0LGUpe3JldHVybiB0aGlzLmxvb3BTdGFydD10LHRoaXMubG9vcEVuZD1lLHRoaXN9Z2V0IGxvb3BTdGFydCgpe3JldHVybiB0aGlzLl9sb29wU3RhcnR9c2V0IGxvb3BTdGFydCh0KXt0aGlzLl9sb29wU3RhcnQ9dCx0aGlzLmJ1ZmZlci5sb2FkZWQmJmVpKHRoaXMudG9TZWNvbmRzKHQpLDAsdGhpcy5idWZmZXIuZHVyYXRpb24pLHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChlPT57ZS5sb29wU3RhcnQ9dH0pfWdldCBsb29wRW5kKCl7cmV0dXJuIHRoaXMuX2xvb3BFbmR9c2V0IGxvb3BFbmQodCl7dGhpcy5fbG9vcEVuZD10LHRoaXMuYnVmZmVyLmxvYWRlZCYmZWkodGhpcy50b1NlY29uZHModCksMCx0aGlzLmJ1ZmZlci5kdXJhdGlvbiksdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKGU9PntlLmxvb3BFbmQ9dH0pfWdldCBidWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfXNldCBidWZmZXIodCl7dGhpcy5fYnVmZmVyLnNldCh0KX1nZXQgbG9vcCgpe3JldHVybiB0aGlzLl9sb29wfXNldCBsb29wKHQpe2lmKHRoaXMuX2xvb3AhPT10JiYodGhpcy5fbG9vcD10LHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChlPT57ZS5sb29wPXR9KSx0KSl7Y29uc3QgdD10aGlzLl9zdGF0ZS5nZXROZXh0U3RhdGUoXCJzdG9wcGVkXCIsdGhpcy5ub3coKSk7dCYmdGhpcy5fc3RhdGUuY2FuY2VsKHQudGltZSl9fWdldCBwbGF5YmFja1JhdGUoKXtyZXR1cm4gdGhpcy5fcGxheWJhY2tSYXRlfXNldCBwbGF5YmFja1JhdGUodCl7dGhpcy5fcGxheWJhY2tSYXRlPXQ7Y29uc3QgZT10aGlzLm5vdygpLHM9dGhpcy5fc3RhdGUuZ2V0TmV4dFN0YXRlKFwic3RvcHBlZFwiLGUpO3MmJnMuaW1wbGljaXRFbmQmJih0aGlzLl9zdGF0ZS5jYW5jZWwocy50aW1lKSx0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2godD0+dC5jYW5jZWxTdG9wKCkpKSx0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2gocz0+e3MucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHQsZSl9KX1nZXQgcmV2ZXJzZSgpe3JldHVybiB0aGlzLl9idWZmZXIucmV2ZXJzZX1zZXQgcmV2ZXJzZSh0KXt0aGlzLl9idWZmZXIucmV2ZXJzZT10fWdldCBsb2FkZWQoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmxvYWRlZH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2godD0+dC5kaXNwb3NlKCkpLHRoaXMuX2FjdGl2ZVNvdXJjZXMuY2xlYXIoKSx0aGlzLl9idWZmZXIuZGlzcG9zZSgpLHRoaXN9fXZpKFt3cigwKV0sYnIucHJvdG90eXBlLFwiZmFkZUluXCIsdm9pZCAwKSx2aShbd3IoMCldLGJyLnByb3RvdHlwZSxcImZhZGVPdXRcIix2b2lkIDApO2NsYXNzIFRyIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihEaShUci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ1cmxzXCIsXCJvbmxvYWRcIl0sXCJ1cmxzXCIpKSx0aGlzLm5hbWU9XCJQbGF5ZXJzXCIsdGhpcy5pbnB1dD12b2lkIDAsdGhpcy5fcGxheWVycz1uZXcgTWFwO2NvbnN0IHQ9RGkoVHIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widXJsc1wiLFwib25sb2FkXCJdLFwidXJsc1wiKTt0aGlzLl92b2x1bWU9dGhpcy5vdXRwdXQ9bmV3IEdvKHtjb250ZXh0OnRoaXMuY29udGV4dCx2b2x1bWU6dC52b2x1bWV9KSx0aGlzLnZvbHVtZT10aGlzLl92b2x1bWUudm9sdW1lLFVpKHRoaXMsXCJ2b2x1bWVcIiksdGhpcy5fYnVmZmVycz1uZXcgVm8oe3VybHM6dC51cmxzLG9ubG9hZDp0Lm9ubG9hZCxiYXNlVXJsOnQuYmFzZVVybCxvbmVycm9yOnQub25lcnJvcn0pLHRoaXMubXV0ZT10Lm11dGUsdGhpcy5fZmFkZUluPXQuZmFkZUluLHRoaXMuX2ZhZGVPdXQ9dC5mYWRlT3V0fXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKEhvLmdldERlZmF1bHRzKCkse2Jhc2VVcmw6XCJcIixmYWRlSW46MCxmYWRlT3V0OjAsbXV0ZTohMSxvbmxvYWQ6Wmksb25lcnJvcjpaaSx1cmxzOnt9LHZvbHVtZTowfSl9Z2V0IG11dGUoKXtyZXR1cm4gdGhpcy5fdm9sdW1lLm11dGV9c2V0IG11dGUodCl7dGhpcy5fdm9sdW1lLm11dGU9dH1nZXQgZmFkZUluKCl7cmV0dXJuIHRoaXMuX2ZhZGVJbn1zZXQgZmFkZUluKHQpe3RoaXMuX2ZhZGVJbj10LHRoaXMuX3BsYXllcnMuZm9yRWFjaChlPT57ZS5mYWRlSW49dH0pfWdldCBmYWRlT3V0KCl7cmV0dXJuIHRoaXMuX2ZhZGVPdXR9c2V0IGZhZGVPdXQodCl7dGhpcy5fZmFkZU91dD10LHRoaXMuX3BsYXllcnMuZm9yRWFjaChlPT57ZS5mYWRlT3V0PXR9KX1nZXQgc3RhdGUoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9wbGF5ZXJzKS5zb21lKChbdCxlXSk9Plwic3RhcnRlZFwiPT09ZS5zdGF0ZSk/XCJzdGFydGVkXCI6XCJzdG9wcGVkXCJ9aGFzKHQpe3JldHVybiB0aGlzLl9idWZmZXJzLmhhcyh0KX1wbGF5ZXIodCl7aWYodGkodGhpcy5oYXModCksYE5vIFBsYXllciB3aXRoIHRoZSBuYW1lICR7dH0gZXhpc3RzIG9uIHRoaXMgb2JqZWN0YCksIXRoaXMuX3BsYXllcnMuaGFzKHQpKXtjb25zdCBlPW5ldyBicih7Y29udGV4dDp0aGlzLmNvbnRleHQsZmFkZUluOnRoaXMuX2ZhZGVJbixmYWRlT3V0OnRoaXMuX2ZhZGVPdXQsdXJsOnRoaXMuX2J1ZmZlcnMuZ2V0KHQpfSkuY29ubmVjdCh0aGlzLm91dHB1dCk7dGhpcy5fcGxheWVycy5zZXQodCxlKX1yZXR1cm4gdGhpcy5fcGxheWVycy5nZXQodCl9Z2V0IGxvYWRlZCgpe3JldHVybiB0aGlzLl9idWZmZXJzLmxvYWRlZH1hZGQodCxlLHMpe3JldHVybiB0aSghdGhpcy5fYnVmZmVycy5oYXModCksXCJBIGJ1ZmZlciB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIG9iamVjdFwiKSx0aGlzLl9idWZmZXJzLmFkZCh0LGUscyksdGhpc31zdG9wQWxsKHQpe3JldHVybiB0aGlzLl9wbGF5ZXJzLmZvckVhY2goZT0+ZS5zdG9wKHQpKSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3ZvbHVtZS5kaXNwb3NlKCksdGhpcy52b2x1bWUuZGlzcG9zZSgpLHRoaXMuX3BsYXllcnMuZm9yRWFjaCh0PT50LmRpc3Bvc2UoKSksdGhpcy5fYnVmZmVycy5kaXNwb3NlKCksdGhpc319Y2xhc3MgU3IgZXh0ZW5kcyBIb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKFNyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInVybFwiLFwib25sb2FkXCJdKSksdGhpcy5uYW1lPVwiR3JhaW5QbGF5ZXJcIix0aGlzLl9sb29wU3RhcnQ9MCx0aGlzLl9sb29wRW5kPTAsdGhpcy5fYWN0aXZlU291cmNlcz1bXTtjb25zdCB0PURpKFNyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInVybFwiLFwib25sb2FkXCJdKTt0aGlzLmJ1ZmZlcj1uZXcgWGkoe29ubG9hZDp0Lm9ubG9hZCxvbmVycm9yOnQub25lcnJvcixyZXZlcnNlOnQucmV2ZXJzZSx1cmw6dC51cmx9KSx0aGlzLl9jbG9jaz1uZXcgcW8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LGNhbGxiYWNrOnRoaXMuX3RpY2suYmluZCh0aGlzKSxmcmVxdWVuY3k6MS90LmdyYWluU2l6ZX0pLHRoaXMuX3BsYXliYWNrUmF0ZT10LnBsYXliYWNrUmF0ZSx0aGlzLl9ncmFpblNpemU9dC5ncmFpblNpemUsdGhpcy5fb3ZlcmxhcD10Lm92ZXJsYXAsdGhpcy5kZXR1bmU9dC5kZXR1bmUsdGhpcy5vdmVybGFwPXQub3ZlcmxhcCx0aGlzLmxvb3A9dC5sb29wLHRoaXMucGxheWJhY2tSYXRlPXQucGxheWJhY2tSYXRlLHRoaXMuZ3JhaW5TaXplPXQuZ3JhaW5TaXplLHRoaXMubG9vcFN0YXJ0PXQubG9vcFN0YXJ0LHRoaXMubG9vcEVuZD10Lmxvb3BFbmQsdGhpcy5yZXZlcnNlPXQucmV2ZXJzZSx0aGlzLl9jbG9jay5vbihcInN0b3BcIix0aGlzLl9vbnN0b3AuYmluZCh0aGlzKSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oSG8uZ2V0RGVmYXVsdHMoKSx7b25sb2FkOlppLG9uZXJyb3I6Wmksb3ZlcmxhcDouMSxncmFpblNpemU6LjIscGxheWJhY2tSYXRlOjEsZGV0dW5lOjAsbG9vcDohMSxsb29wU3RhcnQ6MCxsb29wRW5kOjAscmV2ZXJzZTohMX0pfV9zdGFydCh0LGUscyl7ZT1PaShlLDApLGU9dGhpcy50b1NlY29uZHMoZSksdD10aGlzLnRvU2Vjb25kcyh0KTtjb25zdCBuPTEvdGhpcy5fY2xvY2suZnJlcXVlbmN5LmdldFZhbHVlQXRUaW1lKHQpO3RoaXMuX2Nsb2NrLnN0YXJ0KHQsZS9uKSxzJiZ0aGlzLnN0b3AodCt0aGlzLnRvU2Vjb25kcyhzKSl9cmVzdGFydCh0LGUscyl7cmV0dXJuIHN1cGVyLnJlc3RhcnQodCxlLHMpLHRoaXN9X3Jlc3RhcnQodCxlLHMpe3RoaXMuX3N0b3AodCksdGhpcy5fc3RhcnQodCxlLHMpfV9zdG9wKHQpe3RoaXMuX2Nsb2NrLnN0b3AodCl9X29uc3RvcCh0KXt0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goZT0+e2UuZmFkZU91dD0wLGUuc3RvcCh0KX0pLHRoaXMub25zdG9wKHRoaXMpfV90aWNrKHQpe2NvbnN0IGU9dGhpcy5fY2xvY2suZ2V0VGlja3NBdFRpbWUodCkscz1lKnRoaXMuX2dyYWluU2l6ZTtpZih0aGlzLmxvZyhcIm9mZnNldFwiLHMpLCF0aGlzLmxvb3AmJnM+dGhpcy5idWZmZXIuZHVyYXRpb24pcmV0dXJuIHZvaWQgdGhpcy5zdG9wKHQpO2NvbnN0IG49czx0aGlzLl9vdmVybGFwPzA6dGhpcy5fb3ZlcmxhcCxpPW5ldyAkbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdXJsOnRoaXMuYnVmZmVyLGZhZGVJbjpuLGZhZGVPdXQ6dGhpcy5fb3ZlcmxhcCxsb29wOnRoaXMubG9vcCxsb29wU3RhcnQ6dGhpcy5fbG9vcFN0YXJ0LGxvb3BFbmQ6dGhpcy5fbG9vcEVuZCxwbGF5YmFja1JhdGU6bm8odGhpcy5kZXR1bmUvMTAwKX0pLmNvbm5lY3QodGhpcy5vdXRwdXQpO2kuc3RhcnQodCx0aGlzLl9ncmFpblNpemUqZSksaS5zdG9wKHQrdGhpcy5fZ3JhaW5TaXplL3RoaXMucGxheWJhY2tSYXRlKSx0aGlzLl9hY3RpdmVTb3VyY2VzLnB1c2goaSksaS5vbmVuZGVkPSgpPT57Y29uc3QgdD10aGlzLl9hY3RpdmVTb3VyY2VzLmluZGV4T2YoaSk7LTEhPT10JiZ0aGlzLl9hY3RpdmVTb3VyY2VzLnNwbGljZSh0LDEpfX1nZXQgcGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMuX3BsYXliYWNrUmF0ZX1zZXQgcGxheWJhY2tSYXRlKHQpe2VpKHQsLjAwMSksdGhpcy5fcGxheWJhY2tSYXRlPXQsdGhpcy5ncmFpblNpemU9dGhpcy5fZ3JhaW5TaXplfWdldCBsb29wU3RhcnQoKXtyZXR1cm4gdGhpcy5fbG9vcFN0YXJ0fXNldCBsb29wU3RhcnQodCl7dGhpcy5idWZmZXIubG9hZGVkJiZlaSh0aGlzLnRvU2Vjb25kcyh0KSwwLHRoaXMuYnVmZmVyLmR1cmF0aW9uKSx0aGlzLl9sb29wU3RhcnQ9dGhpcy50b1NlY29uZHModCl9Z2V0IGxvb3BFbmQoKXtyZXR1cm4gdGhpcy5fbG9vcEVuZH1zZXQgbG9vcEVuZCh0KXt0aGlzLmJ1ZmZlci5sb2FkZWQmJmVpKHRoaXMudG9TZWNvbmRzKHQpLDAsdGhpcy5idWZmZXIuZHVyYXRpb24pLHRoaXMuX2xvb3BFbmQ9dGhpcy50b1NlY29uZHModCl9Z2V0IHJldmVyc2UoKXtyZXR1cm4gdGhpcy5idWZmZXIucmV2ZXJzZX1zZXQgcmV2ZXJzZSh0KXt0aGlzLmJ1ZmZlci5yZXZlcnNlPXR9Z2V0IGdyYWluU2l6ZSgpe3JldHVybiB0aGlzLl9ncmFpblNpemV9c2V0IGdyYWluU2l6ZSh0KXt0aGlzLl9ncmFpblNpemU9dGhpcy50b1NlY29uZHModCksdGhpcy5fY2xvY2suZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKHRoaXMuX3BsYXliYWNrUmF0ZS90aGlzLl9ncmFpblNpemUsdGhpcy5ub3coKSl9Z2V0IG92ZXJsYXAoKXtyZXR1cm4gdGhpcy5fb3ZlcmxhcH1zZXQgb3ZlcmxhcCh0KXtjb25zdCBlPXRoaXMudG9TZWNvbmRzKHQpO2VpKGUsMCksdGhpcy5fb3ZlcmxhcD1lfWdldCBsb2FkZWQoKXtyZXR1cm4gdGhpcy5idWZmZXIubG9hZGVkfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuYnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9jbG9jay5kaXNwb3NlKCksdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHQ9PnQuZGlzcG9zZSgpKSx0aGlzfX1jbGFzcyBrciBleHRlbmRzIG9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5hbWU9XCJBYnNcIix0aGlzLl9hYnM9bmV3IHJyKHtjb250ZXh0OnRoaXMuY29udGV4dCxtYXBwaW5nOnQ9Pk1hdGguYWJzKHQpPC4wMDE/MDpNYXRoLmFicyh0KX0pLHRoaXMuaW5wdXQ9dGhpcy5fYWJzLHRoaXMub3V0cHV0PXRoaXMuX2Fic31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9hYnMuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIENyIGV4dGVuZHMgb3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMubmFtZT1cIkdhaW5Ub0F1ZGlvXCIsdGhpcy5fbm9ybT1uZXcgcnIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LG1hcHBpbmc6dD0+MipNYXRoLmFicyh0KS0xfSksdGhpcy5pbnB1dD10aGlzLl9ub3JtLHRoaXMub3V0cHV0PXRoaXMuX25vcm19ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fbm9ybS5kaXNwb3NlKCksdGhpc319Y2xhc3MgQXIgZXh0ZW5kcyBvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uYW1lPVwiTmVnYXRlXCIsdGhpcy5fbXVsdGlwbHk9bmV3IGNyKHtjb250ZXh0OnRoaXMuY29udGV4dCx2YWx1ZTotMX0pLHRoaXMuaW5wdXQ9dGhpcy5fbXVsdGlwbHksdGhpcy5vdXRwdXQ9dGhpcy5fbXVsdGlwbHl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fbXVsdGlwbHkuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIERyIGV4dGVuZHMgRG97Y29uc3RydWN0b3IoKXtzdXBlcihPYmplY3QuYXNzaWduKERpKERyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInZhbHVlXCJdKSkpLHRoaXMub3ZlcnJpZGU9ITEsdGhpcy5uYW1lPVwiU3VidHJhY3RcIix0aGlzLl9zdW09bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuaW5wdXQ9dGhpcy5fc3VtLHRoaXMub3V0cHV0PXRoaXMuX3N1bSx0aGlzLl9uZWc9bmV3IEFyKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuc3VidHJhaGVuZD10aGlzLl9wYXJhbSxibyh0aGlzLl9jb25zdGFudFNvdXJjZSx0aGlzLl9uZWcsdGhpcy5fc3VtKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihEby5nZXREZWZhdWx0cygpLHt2YWx1ZTowfSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fbmVnLmRpc3Bvc2UoKSx0aGlzLl9zdW0uZGlzcG9zZSgpLHRoaXN9fWNsYXNzIE9yIGV4dGVuZHMgb3J7Y29uc3RydWN0b3IoKXtzdXBlcihPYmplY3QuYXNzaWduKERpKE9yLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSkpLHRoaXMubmFtZT1cIkdyZWF0ZXJUaGFuWmVyb1wiLHRoaXMuX3RocmVzaD10aGlzLm91dHB1dD1uZXcgcnIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGxlbmd0aDoxMjcsbWFwcGluZzp0PT50PD0wPzA6MX0pLHRoaXMuX3NjYWxlPXRoaXMuaW5wdXQ9bmV3IGNyKHtjb250ZXh0OnRoaXMuY29udGV4dCx2YWx1ZToxZTR9KSx0aGlzLl9zY2FsZS5jb25uZWN0KHRoaXMuX3RocmVzaCl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fc2NhbGUuZGlzcG9zZSgpLHRoaXMuX3RocmVzaC5kaXNwb3NlKCksdGhpc319Y2xhc3MgTXIgZXh0ZW5kcyBEb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKE9iamVjdC5hc3NpZ24oRGkoTXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widmFsdWVcIl0pKSksdGhpcy5uYW1lPVwiR3JlYXRlclRoYW5cIix0aGlzLm92ZXJyaWRlPSExO2NvbnN0IHQ9RGkoTXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widmFsdWVcIl0pO3RoaXMuX3N1YnRyYWN0PXRoaXMuaW5wdXQ9bmV3IERyKHtjb250ZXh0OnRoaXMuY29udGV4dCx2YWx1ZTp0LnZhbHVlfSksdGhpcy5fZ3R6PXRoaXMub3V0cHV0PW5ldyBPcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLmNvbXBhcmF0b3I9dGhpcy5fcGFyYW09dGhpcy5fc3VidHJhY3Quc3VidHJhaGVuZCxVaSh0aGlzLFwiY29tcGFyYXRvclwiKSx0aGlzLl9zdWJ0cmFjdC5jb25uZWN0KHRoaXMuX2d0eil9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oRG8uZ2V0RGVmYXVsdHMoKSx7dmFsdWU6MH0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2d0ei5kaXNwb3NlKCksdGhpcy5fc3VidHJhY3QuZGlzcG9zZSgpLHRoaXMuY29tcGFyYXRvci5kaXNwb3NlKCksdGhpc319Y2xhc3MgRXIgZXh0ZW5kcyBvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKE9iamVjdC5hc3NpZ24oRGkoRXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widmFsdWVcIl0pKSksdGhpcy5uYW1lPVwiUG93XCI7Y29uc3QgdD1EaShFci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2YWx1ZVwiXSk7dGhpcy5fZXhwb25lbnRTY2FsZXI9dGhpcy5pbnB1dD10aGlzLm91dHB1dD1uZXcgcnIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LG1hcHBpbmc6dGhpcy5fZXhwRnVuYyh0LnZhbHVlKSxsZW5ndGg6ODE5Mn0pLHRoaXMuX2V4cG9uZW50PXQudmFsdWV9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24ob3IuZ2V0RGVmYXVsdHMoKSx7dmFsdWU6MX0pfV9leHBGdW5jKHQpe3JldHVybiBlPT5NYXRoLnBvdyhNYXRoLmFicyhlKSx0KX1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5fZXhwb25lbnR9c2V0IHZhbHVlKHQpe3RoaXMuX2V4cG9uZW50PXQsdGhpcy5fZXhwb25lbnRTY2FsZXIuc2V0TWFwKHRoaXMuX2V4cEZ1bmModGhpcy5fZXhwb25lbnQpKX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9leHBvbmVudFNjYWxlci5kaXNwb3NlKCksdGhpc319Y2xhc3MgUnIgZXh0ZW5kcyBncntjb25zdHJ1Y3Rvcigpe3N1cGVyKE9iamVjdC5hc3NpZ24oRGkoUnIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wibWluXCIsXCJtYXhcIixcImV4cG9uZW50XCJdKSkpLHRoaXMubmFtZT1cIlNjYWxlRXhwXCI7Y29uc3QgdD1EaShSci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJtaW5cIixcIm1heFwiLFwiZXhwb25lbnRcIl0pO3RoaXMuaW5wdXQ9dGhpcy5fZXhwPW5ldyBFcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6dC5leHBvbmVudH0pLHRoaXMuX2V4cC5jb25uZWN0KHRoaXMuX211bHQpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKGdyLmdldERlZmF1bHRzKCkse2V4cG9uZW50OjF9KX1nZXQgZXhwb25lbnQoKXtyZXR1cm4gdGhpcy5fZXhwLnZhbHVlfXNldCBleHBvbmVudCh0KXt0aGlzLl9leHAudmFsdWU9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9leHAuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIHFyIGV4dGVuZHMgRG97Y29uc3RydWN0b3IoKXtzdXBlcihEaShEby5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2YWx1ZVwiLFwidW5pdHNcIl0pKSx0aGlzLm5hbWU9XCJTeW5jZWRTaWduYWxcIix0aGlzLm92ZXJyaWRlPSExO2NvbnN0IHQ9RGkoRG8uZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widmFsdWVcIixcInVuaXRzXCJdKTt0aGlzLl9sYXN0VmFsPXQudmFsdWUsdGhpcy5fc3luY2VkPXRoaXMuY29udGV4dC50cmFuc3BvcnQuc2NoZWR1bGVSZXBlYXQodGhpcy5fb25UaWNrLmJpbmQodGhpcyksXCIxaVwiKSx0aGlzLl9zeW5jZWRDYWxsYmFjaz10aGlzLl9hbmNob3JWYWx1ZS5iaW5kKHRoaXMpLHRoaXMuY29udGV4dC50cmFuc3BvcnQub24oXCJzdGFydFwiLHRoaXMuX3N5bmNlZENhbGxiYWNrKSx0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9uKFwicGF1c2VcIix0aGlzLl9zeW5jZWRDYWxsYmFjayksdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vbihcInN0b3BcIix0aGlzLl9zeW5jZWRDYWxsYmFjayksdGhpcy5fY29uc3RhbnRTb3VyY2UuZGlzY29ubmVjdCgpLHRoaXMuX2NvbnN0YW50U291cmNlLnN0b3AoMCksdGhpcy5fY29uc3RhbnRTb3VyY2U9dGhpcy5vdXRwdXQ9bmV3IEFvKHtjb250ZXh0OnRoaXMuY29udGV4dCxvZmZzZXQ6dC52YWx1ZSx1bml0czp0LnVuaXRzfSkuc3RhcnQoMCksdGhpcy5zZXRWYWx1ZUF0VGltZSh0LnZhbHVlLDApfV9vblRpY2sodCl7Y29uc3QgZT1zdXBlci5nZXRWYWx1ZUF0VGltZSh0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNlY29uZHMpO3RoaXMuX2xhc3RWYWwhPT1lJiYodGhpcy5fbGFzdFZhbD1lLHRoaXMuX2NvbnN0YW50U291cmNlLm9mZnNldC5zZXRWYWx1ZUF0VGltZShlLHQpKX1fYW5jaG9yVmFsdWUodCl7Y29uc3QgZT1zdXBlci5nZXRWYWx1ZUF0VGltZSh0aGlzLmNvbnRleHQudHJhbnNwb3J0LnNlY29uZHMpO3RoaXMuX2xhc3RWYWw9ZSx0aGlzLl9jb25zdGFudFNvdXJjZS5vZmZzZXQuY2FuY2VsQW5kSG9sZEF0VGltZSh0KSx0aGlzLl9jb25zdGFudFNvdXJjZS5vZmZzZXQuc2V0VmFsdWVBdFRpbWUoZSx0KX1nZXRWYWx1ZUF0VGltZSh0KXtjb25zdCBlPW5ldyBtbyh0aGlzLmNvbnRleHQsdCkudG9TZWNvbmRzKCk7cmV0dXJuIHN1cGVyLmdldFZhbHVlQXRUaW1lKGUpfXNldFZhbHVlQXRUaW1lKHQsZSl7Y29uc3Qgcz1uZXcgbW8odGhpcy5jb250ZXh0LGUpLnRvU2Vjb25kcygpO3JldHVybiBzdXBlci5zZXRWYWx1ZUF0VGltZSh0LHMpLHRoaXN9bGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodCxlKXtjb25zdCBzPW5ldyBtbyh0aGlzLmNvbnRleHQsZSkudG9TZWNvbmRzKCk7cmV0dXJuIHN1cGVyLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHQscyksdGhpc31leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHQsZSl7Y29uc3Qgcz1uZXcgbW8odGhpcy5jb250ZXh0LGUpLnRvU2Vjb25kcygpO3JldHVybiBzdXBlci5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHQscyksdGhpc31zZXRUYXJnZXRBdFRpbWUodCxlLHMpe2NvbnN0IG49bmV3IG1vKHRoaXMuY29udGV4dCxlKS50b1NlY29uZHMoKTtyZXR1cm4gc3VwZXIuc2V0VGFyZ2V0QXRUaW1lKHQsbixzKSx0aGlzfWNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0KXtjb25zdCBlPW5ldyBtbyh0aGlzLmNvbnRleHQsdCkudG9TZWNvbmRzKCk7cmV0dXJuIHN1cGVyLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhlKSx0aGlzfXNldFZhbHVlQ3VydmVBdFRpbWUodCxlLHMsbil7Y29uc3QgaT1uZXcgbW8odGhpcy5jb250ZXh0LGUpLnRvU2Vjb25kcygpO3JldHVybiBzPXRoaXMudG9TZWNvbmRzKHMpLHN1cGVyLnNldFZhbHVlQ3VydmVBdFRpbWUodCxpLHMsbiksdGhpc31jYW5jZWxBbmRIb2xkQXRUaW1lKHQpe2NvbnN0IGU9bmV3IG1vKHRoaXMuY29udGV4dCx0KS50b1NlY29uZHMoKTtyZXR1cm4gc3VwZXIuY2FuY2VsQW5kSG9sZEF0VGltZShlKSx0aGlzfXNldFJhbXBQb2ludCh0KXtjb25zdCBlPW5ldyBtbyh0aGlzLmNvbnRleHQsdCkudG9TZWNvbmRzKCk7cmV0dXJuIHN1cGVyLnNldFJhbXBQb2ludChlKSx0aGlzfWV4cG9uZW50aWFsUmFtcFRvKHQsZSxzKXtjb25zdCBuPW5ldyBtbyh0aGlzLmNvbnRleHQscykudG9TZWNvbmRzKCk7cmV0dXJuIHN1cGVyLmV4cG9uZW50aWFsUmFtcFRvKHQsZSxuKSx0aGlzfWxpbmVhclJhbXBUbyh0LGUscyl7Y29uc3Qgbj1uZXcgbW8odGhpcy5jb250ZXh0LHMpLnRvU2Vjb25kcygpO3JldHVybiBzdXBlci5saW5lYXJSYW1wVG8odCxlLG4pLHRoaXN9dGFyZ2V0UmFtcFRvKHQsZSxzKXtjb25zdCBuPW5ldyBtbyh0aGlzLmNvbnRleHQscykudG9TZWNvbmRzKCk7cmV0dXJuIHN1cGVyLnRhcmdldFJhbXBUbyh0LGUsbiksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmNvbnRleHQudHJhbnNwb3J0LmNsZWFyKHRoaXMuX3N5bmNlZCksdGhpcy5jb250ZXh0LnRyYW5zcG9ydC5vZmYoXCJzdGFydFwiLHRoaXMuX3N5bmNlZENhbGxiYWNrKSx0aGlzLmNvbnRleHQudHJhbnNwb3J0Lm9mZihcInBhdXNlXCIsdGhpcy5fc3luY2VkQ2FsbGJhY2spLHRoaXMuY29udGV4dC50cmFuc3BvcnQub2ZmKFwic3RvcFwiLHRoaXMuX3N5bmNlZENhbGxiYWNrKSx0aGlzLl9jb25zdGFudFNvdXJjZS5kaXNwb3NlKCksdGhpc319Y2xhc3MgRnIgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKEZyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImF0dGFja1wiLFwiZGVjYXlcIixcInN1c3RhaW5cIixcInJlbGVhc2VcIl0pKSx0aGlzLm5hbWU9XCJFbnZlbG9wZVwiLHRoaXMuX3NpZz1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOjB9KSx0aGlzLm91dHB1dD10aGlzLl9zaWcsdGhpcy5pbnB1dD12b2lkIDA7Y29uc3QgdD1EaShGci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJhdHRhY2tcIixcImRlY2F5XCIsXCJzdXN0YWluXCIsXCJyZWxlYXNlXCJdKTt0aGlzLmF0dGFjaz10LmF0dGFjayx0aGlzLmRlY2F5PXQuZGVjYXksdGhpcy5zdXN0YWluPXQuc3VzdGFpbix0aGlzLnJlbGVhc2U9dC5yZWxlYXNlLHRoaXMuYXR0YWNrQ3VydmU9dC5hdHRhY2tDdXJ2ZSx0aGlzLnJlbGVhc2VDdXJ2ZT10LnJlbGVhc2VDdXJ2ZSx0aGlzLmRlY2F5Q3VydmU9dC5kZWNheUN1cnZlfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse2F0dGFjazouMDEsYXR0YWNrQ3VydmU6XCJsaW5lYXJcIixkZWNheTouMSxkZWNheUN1cnZlOlwiZXhwb25lbnRpYWxcIixyZWxlYXNlOjEscmVsZWFzZUN1cnZlOlwiZXhwb25lbnRpYWxcIixzdXN0YWluOi41fSl9Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWVBdFRpbWUodGhpcy5ub3coKSl9X2dldEN1cnZlKHQsZSl7aWYoZmkodCkpcmV0dXJuIHQ7e2xldCBzO2ZvcihzIGluIElyKWlmKElyW3NdW2VdPT09dClyZXR1cm4gcztyZXR1cm4gdH19X3NldEN1cnZlKHQsZSxzKXtpZihmaShzKSYmUmVmbGVjdC5oYXMoSXIscykpe2NvbnN0IG49SXJbc107bGkobik/XCJfZGVjYXlDdXJ2ZVwiIT09dCYmKHRoaXNbdF09bltlXSk6dGhpc1t0XT1ufWVsc2V7aWYoIWRpKHMpfHxcIl9kZWNheUN1cnZlXCI9PT10KXRocm93IG5ldyBFcnJvcihcIkVudmVsb3BlOiBpbnZhbGlkIGN1cnZlOiBcIitzKTt0aGlzW3RdPXN9fWdldCBhdHRhY2tDdXJ2ZSgpe3JldHVybiB0aGlzLl9nZXRDdXJ2ZSh0aGlzLl9hdHRhY2tDdXJ2ZSxcIkluXCIpfXNldCBhdHRhY2tDdXJ2ZSh0KXt0aGlzLl9zZXRDdXJ2ZShcIl9hdHRhY2tDdXJ2ZVwiLFwiSW5cIix0KX1nZXQgcmVsZWFzZUN1cnZlKCl7cmV0dXJuIHRoaXMuX2dldEN1cnZlKHRoaXMuX3JlbGVhc2VDdXJ2ZSxcIk91dFwiKX1zZXQgcmVsZWFzZUN1cnZlKHQpe3RoaXMuX3NldEN1cnZlKFwiX3JlbGVhc2VDdXJ2ZVwiLFwiT3V0XCIsdCl9Z2V0IGRlY2F5Q3VydmUoKXtyZXR1cm4gdGhpcy5fZGVjYXlDdXJ2ZX1zZXQgZGVjYXlDdXJ2ZSh0KXt0aShbXCJsaW5lYXJcIixcImV4cG9uZW50aWFsXCJdLnNvbWUoZT0+ZT09PXQpLFwiSW52YWxpZCBlbnZlbG9wZSBjdXJ2ZTogXCIrdCksdGhpcy5fZGVjYXlDdXJ2ZT10fXRyaWdnZXJBdHRhY2sodCxlPTEpe3RoaXMubG9nKFwidHJpZ2dlckF0dGFja1wiLHQsZSksdD10aGlzLnRvU2Vjb25kcyh0KTtsZXQgcz10aGlzLnRvU2Vjb25kcyh0aGlzLmF0dGFjayk7Y29uc3Qgbj10aGlzLnRvU2Vjb25kcyh0aGlzLmRlY2F5KSxpPXRoaXMuZ2V0VmFsdWVBdFRpbWUodCk7aWYoaT4wKXtzPSgxLWkpLygxL3MpfWlmKHM8dGhpcy5zYW1wbGVUaW1lKXRoaXMuX3NpZy5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModCksdGhpcy5fc2lnLnNldFZhbHVlQXRUaW1lKGUsdCk7ZWxzZSBpZihcImxpbmVhclwiPT09dGhpcy5fYXR0YWNrQ3VydmUpdGhpcy5fc2lnLmxpbmVhclJhbXBUbyhlLHMsdCk7ZWxzZSBpZihcImV4cG9uZW50aWFsXCI9PT10aGlzLl9hdHRhY2tDdXJ2ZSl0aGlzLl9zaWcudGFyZ2V0UmFtcFRvKGUscyx0KTtlbHNle3RoaXMuX3NpZy5jYW5jZWxBbmRIb2xkQXRUaW1lKHQpO2xldCBuPXRoaXMuX2F0dGFja0N1cnZlO2ZvcihsZXQgdD0xO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdC0xXTw9aSYmaTw9blt0XSl7bj10aGlzLl9hdHRhY2tDdXJ2ZS5zbGljZSh0KSxuWzBdPWk7YnJlYWt9dGhpcy5fc2lnLnNldFZhbHVlQ3VydmVBdFRpbWUobix0LHMsZSl9aWYobiYmdGhpcy5zdXN0YWluPDEpe2NvbnN0IGk9ZSp0aGlzLnN1c3RhaW4sbz10K3M7dGhpcy5sb2coXCJkZWNheVwiLG8pLFwibGluZWFyXCI9PT10aGlzLl9kZWNheUN1cnZlP3RoaXMuX3NpZy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShpLG4rbyk6dGhpcy5fc2lnLmV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZShpLG8sbil9cmV0dXJuIHRoaXN9dHJpZ2dlclJlbGVhc2UodCl7dGhpcy5sb2coXCJ0cmlnZ2VyUmVsZWFzZVwiLHQpLHQ9dGhpcy50b1NlY29uZHModCk7Y29uc3QgZT10aGlzLmdldFZhbHVlQXRUaW1lKHQpO2lmKGU+MCl7Y29uc3Qgcz10aGlzLnRvU2Vjb25kcyh0aGlzLnJlbGVhc2UpO3M8dGhpcy5zYW1wbGVUaW1lP3RoaXMuX3NpZy5zZXRWYWx1ZUF0VGltZSgwLHQpOlwibGluZWFyXCI9PT10aGlzLl9yZWxlYXNlQ3VydmU/dGhpcy5fc2lnLmxpbmVhclJhbXBUbygwLHMsdCk6XCJleHBvbmVudGlhbFwiPT09dGhpcy5fcmVsZWFzZUN1cnZlP3RoaXMuX3NpZy50YXJnZXRSYW1wVG8oMCxzLHQpOih0aShkaSh0aGlzLl9yZWxlYXNlQ3VydmUpLFwicmVsZWFzZUN1cnZlIG11c3QgYmUgZWl0aGVyICdsaW5lYXInLCAnZXhwb25lbnRpYWwnIG9yIGFuIGFycmF5XCIpLHRoaXMuX3NpZy5jYW5jZWxBbmRIb2xkQXRUaW1lKHQpLHRoaXMuX3NpZy5zZXRWYWx1ZUN1cnZlQXRUaW1lKHRoaXMuX3JlbGVhc2VDdXJ2ZSx0LHMsZSkpfXJldHVybiB0aGlzfWdldFZhbHVlQXRUaW1lKHQpe3JldHVybiB0aGlzLl9zaWcuZ2V0VmFsdWVBdFRpbWUodCl9dHJpZ2dlckF0dGFja1JlbGVhc2UodCxlLHM9MSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdGhpcy50cmlnZ2VyQXR0YWNrKGUscyksdGhpcy50cmlnZ2VyUmVsZWFzZShlK3RoaXMudG9TZWNvbmRzKHQpKSx0aGlzfWNhbmNlbCh0KXtyZXR1cm4gdGhpcy5fc2lnLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aGlzLnRvU2Vjb25kcyh0KSksdGhpc31jb25uZWN0KHQsZT0wLHM9MCl7cmV0dXJuIE9vKHRoaXMsdCxlLHMpLHRoaXN9YXNBcnJheSh0PTEwMjQpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IGU9dC90aGlzLmNvbnRleHQuc2FtcGxlUmF0ZSxzPW5ldyBZaSgxLGUsdGhpcy5jb250ZXh0LnNhbXBsZVJhdGUpLG49dGhpcy50b1NlY29uZHModGhpcy5hdHRhY2spK3RoaXMudG9TZWNvbmRzKHRoaXMuZGVjYXkpLGk9bit0aGlzLnRvU2Vjb25kcyh0aGlzLnJlbGVhc2UpLG89LjEqaSxyPWkrbyxhPW5ldyB0aGlzLmNvbnN0cnVjdG9yKE9iamVjdC5hc3NpZ24odGhpcy5nZXQoKSx7YXR0YWNrOmUqdGhpcy50b1NlY29uZHModGhpcy5hdHRhY2spL3IsZGVjYXk6ZSp0aGlzLnRvU2Vjb25kcyh0aGlzLmRlY2F5KS9yLHJlbGVhc2U6ZSp0aGlzLnRvU2Vjb25kcyh0aGlzLnJlbGVhc2UpL3IsY29udGV4dDpzfSkpO2EuX3NpZy50b0Rlc3RpbmF0aW9uKCksYS50cmlnZ2VyQXR0YWNrUmVsZWFzZShlKihuK28pL3IsMCk7cmV0dXJuKHlpZWxkIHMucmVuZGVyKCkpLmdldENoYW5uZWxEYXRhKDApfSkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3NpZy5kaXNwb3NlKCksdGhpc319dmkoW3dyKDApXSxGci5wcm90b3R5cGUsXCJhdHRhY2tcIix2b2lkIDApLHZpKFt3cigwKV0sRnIucHJvdG90eXBlLFwiZGVjYXlcIix2b2lkIDApLHZpKFt4cigwLDEpXSxGci5wcm90b3R5cGUsXCJzdXN0YWluXCIsdm9pZCAwKSx2aShbd3IoMCldLEZyLnByb3RvdHlwZSxcInJlbGVhc2VcIix2b2lkIDApO2NvbnN0IElyPSgoKT0+e2xldCB0LGU7Y29uc3Qgcz1bXTtmb3IodD0wO3Q8MTI4O3QrKylzW3RdPU1hdGguc2luKHQvMTI3KihNYXRoLlBJLzIpKTtjb25zdCBuPVtdO2Zvcih0PTA7dDwxMjc7dCsrKXtlPXQvMTI3O2NvbnN0IHM9TWF0aC5zaW4oZSooMipNYXRoLlBJKSo2LjQtTWF0aC5QSS8yKSsxO25bdF09cy8xMCsuODMqZX1uWzEyN109MTtjb25zdCBpPVtdO2Zvcih0PTA7dDwxMjg7dCsrKWlbdF09TWF0aC5jZWlsKHQvMTI3KjUpLzU7Y29uc3Qgbz1bXTtmb3IodD0wO3Q8MTI4O3QrKyllPXQvMTI3LG9bdF09LjUqKDEtTWF0aC5jb3MoTWF0aC5QSSplKSk7Y29uc3Qgcj1bXTtmb3IodD0wO3Q8MTI4O3QrKyl7ZT10LzEyNztjb25zdCBzPTQqTWF0aC5wb3coZSwzKSsuMixuPU1hdGguY29zKHMqTWF0aC5QSSoyKmUpO3JbdF09TWF0aC5hYnMobiooMS1lKSl9ZnVuY3Rpb24gYSh0KXtjb25zdCBlPW5ldyBBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspZVtzXT0xLXRbc107cmV0dXJuIGV9cmV0dXJue2JvdW5jZTp7SW46YShyKSxPdXQ6cn0sY29zaW5lOntJbjpzLE91dDooYz1zLGMuc2xpY2UoMCkucmV2ZXJzZSgpKX0sZXhwb25lbnRpYWw6XCJleHBvbmVudGlhbFwiLGxpbmVhcjpcImxpbmVhclwiLHJpcHBsZTp7SW46bixPdXQ6YShuKX0sc2luZTp7SW46byxPdXQ6YShvKX0sc3RlcDp7SW46aSxPdXQ6YShpKX19O3ZhciBjfSkoKTtjbGFzcyBWciBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoVnIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpKSx0aGlzLl9zY2hlZHVsZWRFdmVudHM9W10sdGhpcy5fc3luY2VkPSExLHRoaXMuX29yaWdpbmFsX3RyaWdnZXJBdHRhY2s9dGhpcy50cmlnZ2VyQXR0YWNrLHRoaXMuX29yaWdpbmFsX3RyaWdnZXJSZWxlYXNlPXRoaXMudHJpZ2dlclJlbGVhc2U7Y29uc3QgdD1EaShWci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyk7dGhpcy5fdm9sdW1lPXRoaXMub3V0cHV0PW5ldyBHbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdm9sdW1lOnQudm9sdW1lfSksdGhpcy52b2x1bWU9dGhpcy5fdm9sdW1lLnZvbHVtZSxVaSh0aGlzLFwidm9sdW1lXCIpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse3ZvbHVtZTowfSl9c3luYygpe3JldHVybiB0aGlzLl9zeW5jU3RhdGUoKSYmKHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyQXR0YWNrXCIsMSksdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJSZWxlYXNlXCIsMCkpLHRoaXN9X3N5bmNTdGF0ZSgpe2xldCB0PSExO3JldHVybiB0aGlzLl9zeW5jZWR8fCh0aGlzLl9zeW5jZWQ9ITAsdD0hMCksdH1fc3luY01ldGhvZCh0LGUpe2NvbnN0IHM9dGhpc1tcIl9vcmlnaW5hbF9cIit0XT10aGlzW3RdO3RoaXNbdF09KC4uLnQpPT57Y29uc3Qgbj10W2VdLGk9dGhpcy5jb250ZXh0LnRyYW5zcG9ydC5zY2hlZHVsZShuPT57dFtlXT1uLHMuYXBwbHkodGhpcyx0KX0sbik7dGhpcy5fc2NoZWR1bGVkRXZlbnRzLnB1c2goaSl9fXVuc3luYygpe3JldHVybiB0aGlzLl9zY2hlZHVsZWRFdmVudHMuZm9yRWFjaCh0PT50aGlzLmNvbnRleHQudHJhbnNwb3J0LmNsZWFyKHQpKSx0aGlzLl9zY2hlZHVsZWRFdmVudHM9W10sdGhpcy5fc3luY2VkJiYodGhpcy5fc3luY2VkPSExLHRoaXMudHJpZ2dlckF0dGFjaz10aGlzLl9vcmlnaW5hbF90cmlnZ2VyQXR0YWNrLHRoaXMudHJpZ2dlclJlbGVhc2U9dGhpcy5fb3JpZ2luYWxfdHJpZ2dlclJlbGVhc2UpLHRoaXN9dHJpZ2dlckF0dGFja1JlbGVhc2UodCxlLHMsbil7Y29uc3QgaT10aGlzLnRvU2Vjb25kcyhzKSxvPXRoaXMudG9TZWNvbmRzKGUpO3JldHVybiB0aGlzLnRyaWdnZXJBdHRhY2sodCxpLG4pLHRoaXMudHJpZ2dlclJlbGVhc2UoaStvKSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3ZvbHVtZS5kaXNwb3NlKCksdGhpcy51bnN5bmMoKSx0aGlzLl9zY2hlZHVsZWRFdmVudHM9W10sdGhpc319Y2xhc3MgTnIgZXh0ZW5kcyBWcntjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKE5yLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSk7Y29uc3QgdD1EaShOci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyk7dGhpcy5wb3J0YW1lbnRvPXQucG9ydGFtZW50byx0aGlzLm9uc2lsZW5jZT10Lm9uc2lsZW5jZX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihWci5nZXREZWZhdWx0cygpLHtkZXR1bmU6MCxvbnNpbGVuY2U6WmkscG9ydGFtZW50bzowfSl9dHJpZ2dlckF0dGFjayh0LGUscz0xKXt0aGlzLmxvZyhcInRyaWdnZXJBdHRhY2tcIix0LGUscyk7Y29uc3Qgbj10aGlzLnRvU2Vjb25kcyhlKTtyZXR1cm4gdGhpcy5fdHJpZ2dlckVudmVsb3BlQXR0YWNrKG4scyksdGhpcy5zZXROb3RlKHQsbiksdGhpc310cmlnZ2VyUmVsZWFzZSh0KXt0aGlzLmxvZyhcInRyaWdnZXJSZWxlYXNlXCIsdCk7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTtyZXR1cm4gdGhpcy5fdHJpZ2dlckVudmVsb3BlUmVsZWFzZShlKSx0aGlzfXNldE5vdGUodCxlKXtjb25zdCBzPXRoaXMudG9TZWNvbmRzKGUpLG49dCBpbnN0YW5jZW9mIGxvP3QudG9GcmVxdWVuY3koKTp0O2lmKHRoaXMucG9ydGFtZW50bz4wJiZ0aGlzLmdldExldmVsQXRUaW1lKHMpPi4wNSl7Y29uc3QgdD10aGlzLnRvU2Vjb25kcyh0aGlzLnBvcnRhbWVudG8pO3RoaXMuZnJlcXVlbmN5LmV4cG9uZW50aWFsUmFtcFRvKG4sdCxzKX1lbHNlIHRoaXMuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKG4scyk7cmV0dXJuIHRoaXN9fXZpKFt3cigwKV0sTnIucHJvdG90eXBlLFwicG9ydGFtZW50b1wiLHZvaWQgMCk7Y2xhc3MgUHIgZXh0ZW5kcyBGcntjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKFByLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImF0dGFja1wiLFwiZGVjYXlcIixcInN1c3RhaW5cIixcInJlbGVhc2VcIl0pKSx0aGlzLm5hbWU9XCJBbXBsaXR1ZGVFbnZlbG9wZVwiLHRoaXMuX2dhaW5Ob2RlPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsZ2FpbjowfSksdGhpcy5vdXRwdXQ9dGhpcy5fZ2Fpbk5vZGUsdGhpcy5pbnB1dD10aGlzLl9nYWluTm9kZSx0aGlzLl9zaWcuY29ubmVjdCh0aGlzLl9nYWluTm9kZS5nYWluKSx0aGlzLm91dHB1dD10aGlzLl9nYWluTm9kZSx0aGlzLmlucHV0PXRoaXMuX2dhaW5Ob2RlfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2dhaW5Ob2RlLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBqciBleHRlbmRzIE5ye2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoanIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpKSx0aGlzLm5hbWU9XCJTeW50aFwiO2NvbnN0IHQ9RGkoanIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpO3RoaXMub3NjaWxsYXRvcj1uZXcgX3IoT2JqZWN0LmFzc2lnbih7Y29udGV4dDp0aGlzLmNvbnRleHQsZGV0dW5lOnQuZGV0dW5lLG9uc3RvcDooKT0+dGhpcy5vbnNpbGVuY2UodGhpcyl9LHQub3NjaWxsYXRvcikpLHRoaXMuZnJlcXVlbmN5PXRoaXMub3NjaWxsYXRvci5mcmVxdWVuY3ksdGhpcy5kZXR1bmU9dGhpcy5vc2NpbGxhdG9yLmRldHVuZSx0aGlzLmVudmVsb3BlPW5ldyBQcihPYmplY3QuYXNzaWduKHtjb250ZXh0OnRoaXMuY29udGV4dH0sdC5lbnZlbG9wZSkpLHRoaXMub3NjaWxsYXRvci5jaGFpbih0aGlzLmVudmVsb3BlLHRoaXMub3V0cHV0KSxVaSh0aGlzLFtcIm9zY2lsbGF0b3JcIixcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCIsXCJlbnZlbG9wZVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oTnIuZ2V0RGVmYXVsdHMoKSx7ZW52ZWxvcGU6T2JqZWN0LmFzc2lnbihNaShGci5nZXREZWZhdWx0cygpLE9iamVjdC5rZXlzKHdvLmdldERlZmF1bHRzKCkpKSx7YXR0YWNrOi4wMDUsZGVjYXk6LjEscmVsZWFzZToxLHN1c3RhaW46LjN9KSxvc2NpbGxhdG9yOk9iamVjdC5hc3NpZ24oTWkoX3IuZ2V0RGVmYXVsdHMoKSxbLi4uT2JqZWN0LmtleXMoSG8uZ2V0RGVmYXVsdHMoKSksXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSkse3R5cGU6XCJ0cmlhbmdsZVwifSl9KX1fdHJpZ2dlckVudmVsb3BlQXR0YWNrKHQsZSl7aWYodGhpcy5lbnZlbG9wZS50cmlnZ2VyQXR0YWNrKHQsZSksdGhpcy5vc2NpbGxhdG9yLnN0YXJ0KHQpLDA9PT10aGlzLmVudmVsb3BlLnN1c3RhaW4pe2NvbnN0IGU9dGhpcy50b1NlY29uZHModGhpcy5lbnZlbG9wZS5hdHRhY2spLHM9dGhpcy50b1NlY29uZHModGhpcy5lbnZlbG9wZS5kZWNheSk7dGhpcy5vc2NpbGxhdG9yLnN0b3AodCtlK3MpfX1fdHJpZ2dlckVudmVsb3BlUmVsZWFzZSh0KXt0aGlzLmVudmVsb3BlLnRyaWdnZXJSZWxlYXNlKHQpLHRoaXMub3NjaWxsYXRvci5zdG9wKHQrdGhpcy50b1NlY29uZHModGhpcy5lbnZlbG9wZS5yZWxlYXNlKSl9Z2V0TGV2ZWxBdFRpbWUodCl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy5lbnZlbG9wZS5nZXRWYWx1ZUF0VGltZSh0KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLm9zY2lsbGF0b3IuZGlzcG9zZSgpLHRoaXMuZW52ZWxvcGUuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIExyIGV4dGVuZHMgTnJ7Y29uc3RydWN0b3IoKXtzdXBlcihEaShMci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpLHRoaXMubmFtZT1cIk1vZHVsYXRpb25TeW50aFwiO2NvbnN0IHQ9RGkoTHIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpO3RoaXMuX2NhcnJpZXI9bmV3IGpyKHtjb250ZXh0OnRoaXMuY29udGV4dCxvc2NpbGxhdG9yOnQub3NjaWxsYXRvcixlbnZlbG9wZTp0LmVudmVsb3BlLG9uc2lsZW5jZTooKT0+dGhpcy5vbnNpbGVuY2UodGhpcyksdm9sdW1lOi0xMH0pLHRoaXMuX21vZHVsYXRvcj1uZXcganIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LG9zY2lsbGF0b3I6dC5tb2R1bGF0aW9uLGVudmVsb3BlOnQubW9kdWxhdGlvbkVudmVsb3BlLHZvbHVtZTotMTB9KSx0aGlzLm9zY2lsbGF0b3I9dGhpcy5fY2Fycmllci5vc2NpbGxhdG9yLHRoaXMuZW52ZWxvcGU9dGhpcy5fY2Fycmllci5lbnZlbG9wZSx0aGlzLm1vZHVsYXRpb249dGhpcy5fbW9kdWxhdG9yLm9zY2lsbGF0b3IsdGhpcy5tb2R1bGF0aW9uRW52ZWxvcGU9dGhpcy5fbW9kdWxhdG9yLmVudmVsb3BlLHRoaXMuZnJlcXVlbmN5PW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJmcmVxdWVuY3lcIn0pLHRoaXMuZGV0dW5lPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6dC5kZXR1bmUsdW5pdHM6XCJjZW50c1wifSksdGhpcy5oYXJtb25pY2l0eT1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQuaGFybW9uaWNpdHksbWluVmFsdWU6MH0pLHRoaXMuX21vZHVsYXRpb25Ob2RlPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsZ2FpbjowfSksVWkodGhpcyxbXCJmcmVxdWVuY3lcIixcImhhcm1vbmljaXR5XCIsXCJvc2NpbGxhdG9yXCIsXCJlbnZlbG9wZVwiLFwibW9kdWxhdGlvblwiLFwibW9kdWxhdGlvbkVudmVsb3BlXCIsXCJkZXR1bmVcIl0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKE5yLmdldERlZmF1bHRzKCkse2hhcm1vbmljaXR5OjMsb3NjaWxsYXRvcjpPYmplY3QuYXNzaWduKE1pKF9yLmdldERlZmF1bHRzKCksWy4uLk9iamVjdC5rZXlzKEhvLmdldERlZmF1bHRzKCkpLFwiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIl0pLHt0eXBlOlwic2luZVwifSksZW52ZWxvcGU6T2JqZWN0LmFzc2lnbihNaShGci5nZXREZWZhdWx0cygpLE9iamVjdC5rZXlzKHdvLmdldERlZmF1bHRzKCkpKSx7YXR0YWNrOi4wMSxkZWNheTouMDEsc3VzdGFpbjoxLHJlbGVhc2U6LjV9KSxtb2R1bGF0aW9uOk9iamVjdC5hc3NpZ24oTWkoX3IuZ2V0RGVmYXVsdHMoKSxbLi4uT2JqZWN0LmtleXMoSG8uZ2V0RGVmYXVsdHMoKSksXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSkse3R5cGU6XCJzcXVhcmVcIn0pLG1vZHVsYXRpb25FbnZlbG9wZTpPYmplY3QuYXNzaWduKE1pKEZyLmdldERlZmF1bHRzKCksT2JqZWN0LmtleXMod28uZ2V0RGVmYXVsdHMoKSkpLHthdHRhY2s6LjUsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX0pfSl9X3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0LGUpe3RoaXMuX2NhcnJpZXIuX3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0LGUpLHRoaXMuX21vZHVsYXRvci5fdHJpZ2dlckVudmVsb3BlQXR0YWNrKHQsZSl9X3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCksdGhpcy5fbW9kdWxhdG9yLl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlKHQpLHRoaXN9Z2V0TGV2ZWxBdFRpbWUodCl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy5lbnZlbG9wZS5nZXRWYWx1ZUF0VGltZSh0KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9jYXJyaWVyLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0b3IuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmRldHVuZS5kaXNwb3NlKCksdGhpcy5oYXJtb25pY2l0eS5kaXNwb3NlKCksdGhpcy5fbW9kdWxhdGlvbk5vZGUuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIHpyIGV4dGVuZHMgTHJ7Y29uc3RydWN0b3IoKXtzdXBlcihEaSh6ci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpLHRoaXMubmFtZT1cIkFNU3ludGhcIix0aGlzLl9tb2R1bGF0aW9uU2NhbGU9bmV3IGFyKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuZnJlcXVlbmN5LmNvbm5lY3QodGhpcy5fY2Fycmllci5mcmVxdWVuY3kpLHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMuaGFybW9uaWNpdHksdGhpcy5fbW9kdWxhdG9yLmZyZXF1ZW5jeSksdGhpcy5kZXR1bmUuZmFuKHRoaXMuX2NhcnJpZXIuZGV0dW5lLHRoaXMuX21vZHVsYXRvci5kZXR1bmUpLHRoaXMuX21vZHVsYXRvci5jaGFpbih0aGlzLl9tb2R1bGF0aW9uU2NhbGUsdGhpcy5fbW9kdWxhdGlvbk5vZGUuZ2FpbiksdGhpcy5fY2Fycmllci5jaGFpbih0aGlzLl9tb2R1bGF0aW9uTm9kZSx0aGlzLm91dHB1dCl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fbW9kdWxhdGlvblNjYWxlLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBCciBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoQnIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCJdKSksdGhpcy5uYW1lPVwiQmlxdWFkRmlsdGVyXCI7Y29uc3QgdD1EaShCci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIl0pO3RoaXMuX2ZpbHRlcj10aGlzLmNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCksdGhpcy5pbnB1dD10aGlzLm91dHB1dD10aGlzLl9maWx0ZXIsdGhpcy5RPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJudW1iZXJcIix2YWx1ZTp0LlEscGFyYW06dGhpcy5fZmlsdGVyLlF9KSx0aGlzLmZyZXF1ZW5jeT1uZXcgeG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwiZnJlcXVlbmN5XCIsdmFsdWU6dC5mcmVxdWVuY3kscGFyYW06dGhpcy5fZmlsdGVyLmZyZXF1ZW5jeX0pLHRoaXMuZGV0dW5lPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJjZW50c1wiLHZhbHVlOnQuZGV0dW5lLHBhcmFtOnRoaXMuX2ZpbHRlci5kZXR1bmV9KSx0aGlzLmdhaW49bmV3IHhvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcImRlY2liZWxzXCIsY29udmVydDohMSx2YWx1ZTp0LmdhaW4scGFyYW06dGhpcy5fZmlsdGVyLmdhaW59KSx0aGlzLnR5cGU9dC50eXBlfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse1E6MSx0eXBlOlwibG93cGFzc1wiLGZyZXF1ZW5jeTozNTAsZGV0dW5lOjAsZ2FpbjowfSl9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fZmlsdGVyLnR5cGV9c2V0IHR5cGUodCl7dGkoLTEhPT1bXCJsb3dwYXNzXCIsXCJoaWdocGFzc1wiLFwiYmFuZHBhc3NcIixcImxvd3NoZWxmXCIsXCJoaWdoc2hlbGZcIixcIm5vdGNoXCIsXCJhbGxwYXNzXCIsXCJwZWFraW5nXCJdLmluZGV4T2YodCksXCJJbnZhbGlkIGZpbHRlciB0eXBlOiBcIit0KSx0aGlzLl9maWx0ZXIudHlwZT10fWdldEZyZXF1ZW5jeVJlc3BvbnNlKHQ9MTI4KXtjb25zdCBlPW5ldyBGbG9hdDMyQXJyYXkodCk7Zm9yKGxldCBzPTA7czx0O3MrKyl7Y29uc3Qgbj0xOTk4MCpNYXRoLnBvdyhzL3QsMikrMjA7ZVtzXT1ufWNvbnN0IHM9bmV3IEZsb2F0MzJBcnJheSh0KSxuPW5ldyBGbG9hdDMyQXJyYXkodCksaT10aGlzLmNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7cmV0dXJuIGkudHlwZT10aGlzLnR5cGUsaS5RLnZhbHVlPXRoaXMuUS52YWx1ZSxpLmZyZXF1ZW5jeS52YWx1ZT10aGlzLmZyZXF1ZW5jeS52YWx1ZSxpLmdhaW4udmFsdWU9dGhpcy5nYWluLnZhbHVlLGkuZ2V0RnJlcXVlbmN5UmVzcG9uc2UoZSxzLG4pLHN9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZmlsdGVyLmRpc2Nvbm5lY3QoKSx0aGlzLlEuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmdhaW4uZGlzcG9zZSgpLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBXciBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoV3IuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCIsXCJyb2xsb2ZmXCJdKSksdGhpcy5uYW1lPVwiRmlsdGVyXCIsdGhpcy5pbnB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5vdXRwdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX2ZpbHRlcnM9W107Y29uc3QgdD1EaShXci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIixcInJvbGxvZmZcIl0pO3RoaXMuX2ZpbHRlcnM9W10sdGhpcy5RPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJwb3NpdGl2ZVwiLHZhbHVlOnQuUX0pLHRoaXMuZnJlcXVlbmN5PW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJmcmVxdWVuY3lcIix2YWx1ZTp0LmZyZXF1ZW5jeX0pLHRoaXMuZGV0dW5lPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJjZW50c1wiLHZhbHVlOnQuZGV0dW5lfSksdGhpcy5nYWluPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJkZWNpYmVsc1wiLGNvbnZlcnQ6ITEsdmFsdWU6dC5nYWlufSksdGhpcy5fdHlwZT10LnR5cGUsdGhpcy5yb2xsb2ZmPXQucm9sbG9mZixVaSh0aGlzLFtcImRldHVuZVwiLFwiZnJlcXVlbmN5XCIsXCJnYWluXCIsXCJRXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHtROjEsZGV0dW5lOjAsZnJlcXVlbmN5OjM1MCxnYWluOjAscm9sbG9mZjotMTIsdHlwZTpcImxvd3Bhc3NcIn0pfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9c2V0IHR5cGUodCl7dGkoLTEhPT1bXCJsb3dwYXNzXCIsXCJoaWdocGFzc1wiLFwiYmFuZHBhc3NcIixcImxvd3NoZWxmXCIsXCJoaWdoc2hlbGZcIixcIm5vdGNoXCIsXCJhbGxwYXNzXCIsXCJwZWFraW5nXCJdLmluZGV4T2YodCksXCJJbnZhbGlkIGZpbHRlciB0eXBlOiBcIit0KSx0aGlzLl90eXBlPXQsdGhpcy5fZmlsdGVycy5mb3JFYWNoKGU9PmUudHlwZT10KX1nZXQgcm9sbG9mZigpe3JldHVybiB0aGlzLl9yb2xsb2ZmfXNldCByb2xsb2ZmKHQpe2NvbnN0IGU9dWkodCk/dDpwYXJzZUludCh0LDEwKSxzPVstMTIsLTI0LC00OCwtOTZdO2xldCBuPXMuaW5kZXhPZihlKTt0aSgtMSE9PW4sXCJyb2xsb2ZmIGNhbiBvbmx5IGJlIFwiK3Muam9pbihcIiwgXCIpKSxuKz0xLHRoaXMuX3JvbGxvZmY9ZSx0aGlzLmlucHV0LmRpc2Nvbm5lY3QoKSx0aGlzLl9maWx0ZXJzLmZvckVhY2godD0+dC5kaXNjb25uZWN0KCkpLHRoaXMuX2ZpbHRlcnM9bmV3IEFycmF5KG4pO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IGU9bmV3IEJyKHtjb250ZXh0OnRoaXMuY29udGV4dH0pO2UudHlwZT10aGlzLl90eXBlLHRoaXMuZnJlcXVlbmN5LmNvbm5lY3QoZS5mcmVxdWVuY3kpLHRoaXMuZGV0dW5lLmNvbm5lY3QoZS5kZXR1bmUpLHRoaXMuUS5jb25uZWN0KGUuUSksdGhpcy5nYWluLmNvbm5lY3QoZS5nYWluKSx0aGlzLl9maWx0ZXJzW3RdPWV9dGhpcy5faW50ZXJuYWxDaGFubmVscz10aGlzLl9maWx0ZXJzLGJvKHRoaXMuaW5wdXQsLi4udGhpcy5faW50ZXJuYWxDaGFubmVscyx0aGlzLm91dHB1dCl9Z2V0RnJlcXVlbmN5UmVzcG9uc2UodD0xMjgpe2NvbnN0IGU9bmV3IEJyKHtmcmVxdWVuY3k6dGhpcy5mcmVxdWVuY3kudmFsdWUsZ2Fpbjp0aGlzLmdhaW4udmFsdWUsUTp0aGlzLlEudmFsdWUsdHlwZTp0aGlzLl90eXBlLGRldHVuZTp0aGlzLmRldHVuZS52YWx1ZX0pLHM9bmV3IEZsb2F0MzJBcnJheSh0KS5tYXAoKCk9PjEpO3JldHVybiB0aGlzLl9maWx0ZXJzLmZvckVhY2goKCk9PntlLmdldEZyZXF1ZW5jeVJlc3BvbnNlKHQpLmZvckVhY2goKHQsZSk9PnNbZV0qPXQpfSksZS5kaXNwb3NlKCksc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9maWx0ZXJzLmZvckVhY2godD0+e3QuZGlzcG9zZSgpfSksUWkodGhpcyxbXCJkZXR1bmVcIixcImZyZXF1ZW5jeVwiLFwiZ2FpblwiLFwiUVwiXSksdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuUS5kaXNwb3NlKCksdGhpcy5kZXR1bmUuZGlzcG9zZSgpLHRoaXMuZ2Fpbi5kaXNwb3NlKCksdGhpc319Y2xhc3MgR3IgZXh0ZW5kcyBGcntjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKEdyLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImF0dGFja1wiLFwiZGVjYXlcIixcInN1c3RhaW5cIixcInJlbGVhc2VcIl0pKSx0aGlzLm5hbWU9XCJGcmVxdWVuY3lFbnZlbG9wZVwiO2NvbnN0IHQ9RGkoR3IuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiYXR0YWNrXCIsXCJkZWNheVwiLFwic3VzdGFpblwiLFwicmVsZWFzZVwiXSk7dGhpcy5fb2N0YXZlcz10Lm9jdGF2ZXMsdGhpcy5fYmFzZUZyZXF1ZW5jeT10aGlzLnRvRnJlcXVlbmN5KHQuYmFzZUZyZXF1ZW5jeSksdGhpcy5fZXhwb25lbnQ9dGhpcy5pbnB1dD1uZXcgRXIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQuZXhwb25lbnR9KSx0aGlzLl9zY2FsZT10aGlzLm91dHB1dD1uZXcgZ3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LG1pbjp0aGlzLl9iYXNlRnJlcXVlbmN5LG1heDp0aGlzLl9iYXNlRnJlcXVlbmN5Kk1hdGgucG93KDIsdGhpcy5fb2N0YXZlcyl9KSx0aGlzLl9zaWcuY2hhaW4odGhpcy5fZXhwb25lbnQsdGhpcy5fc2NhbGUpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKEZyLmdldERlZmF1bHRzKCkse2Jhc2VGcmVxdWVuY3k6MjAwLGV4cG9uZW50OjEsb2N0YXZlczo0fSl9Z2V0IGJhc2VGcmVxdWVuY3koKXtyZXR1cm4gdGhpcy5fYmFzZUZyZXF1ZW5jeX1zZXQgYmFzZUZyZXF1ZW5jeSh0KXtjb25zdCBlPXRoaXMudG9GcmVxdWVuY3kodCk7ZWkoZSwwKSx0aGlzLl9iYXNlRnJlcXVlbmN5PWUsdGhpcy5fc2NhbGUubWluPXRoaXMuX2Jhc2VGcmVxdWVuY3ksdGhpcy5vY3RhdmVzPXRoaXMuX29jdGF2ZXN9Z2V0IG9jdGF2ZXMoKXtyZXR1cm4gdGhpcy5fb2N0YXZlc31zZXQgb2N0YXZlcyh0KXt0aGlzLl9vY3RhdmVzPXQsdGhpcy5fc2NhbGUubWF4PXRoaXMuX2Jhc2VGcmVxdWVuY3kqTWF0aC5wb3coMix0KX1nZXQgZXhwb25lbnQoKXtyZXR1cm4gdGhpcy5fZXhwb25lbnQudmFsdWV9c2V0IGV4cG9uZW50KHQpe3RoaXMuX2V4cG9uZW50LnZhbHVlPXR9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZXhwb25lbnQuZGlzcG9zZSgpLHRoaXMuX3NjYWxlLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBVciBleHRlbmRzIE5ye2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoVXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpKSx0aGlzLm5hbWU9XCJNb25vU3ludGhcIjtjb25zdCB0PURpKFVyLmdldERlZmF1bHRzKCksYXJndW1lbnRzKTt0aGlzLm9zY2lsbGF0b3I9bmV3IF9yKE9iamVjdC5hc3NpZ24odC5vc2NpbGxhdG9yLHtjb250ZXh0OnRoaXMuY29udGV4dCxkZXR1bmU6dC5kZXR1bmUsb25zdG9wOigpPT50aGlzLm9uc2lsZW5jZSh0aGlzKX0pKSx0aGlzLmZyZXF1ZW5jeT10aGlzLm9zY2lsbGF0b3IuZnJlcXVlbmN5LHRoaXMuZGV0dW5lPXRoaXMub3NjaWxsYXRvci5kZXR1bmUsdGhpcy5maWx0ZXI9bmV3IFdyKE9iamVjdC5hc3NpZ24odC5maWx0ZXIse2NvbnRleHQ6dGhpcy5jb250ZXh0fSkpLHRoaXMuZmlsdGVyRW52ZWxvcGU9bmV3IEdyKE9iamVjdC5hc3NpZ24odC5maWx0ZXJFbnZlbG9wZSx7Y29udGV4dDp0aGlzLmNvbnRleHR9KSksdGhpcy5lbnZlbG9wZT1uZXcgUHIoT2JqZWN0LmFzc2lnbih0LmVudmVsb3BlLHtjb250ZXh0OnRoaXMuY29udGV4dH0pKSx0aGlzLm9zY2lsbGF0b3IuY2hhaW4odGhpcy5maWx0ZXIsdGhpcy5lbnZlbG9wZSx0aGlzLm91dHB1dCksdGhpcy5maWx0ZXJFbnZlbG9wZS5jb25uZWN0KHRoaXMuZmlsdGVyLmZyZXF1ZW5jeSksVWkodGhpcyxbXCJvc2NpbGxhdG9yXCIsXCJmcmVxdWVuY3lcIixcImRldHVuZVwiLFwiZmlsdGVyXCIsXCJmaWx0ZXJFbnZlbG9wZVwiLFwiZW52ZWxvcGVcIl0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKE5yLmdldERlZmF1bHRzKCkse2VudmVsb3BlOk9iamVjdC5hc3NpZ24oTWkoRnIuZ2V0RGVmYXVsdHMoKSxPYmplY3Qua2V5cyh3by5nZXREZWZhdWx0cygpKSkse2F0dGFjazouMDA1LGRlY2F5Oi4xLHJlbGVhc2U6MSxzdXN0YWluOi45fSksZmlsdGVyOk9iamVjdC5hc3NpZ24oTWkoV3IuZ2V0RGVmYXVsdHMoKSxPYmplY3Qua2V5cyh3by5nZXREZWZhdWx0cygpKSkse1E6MSxyb2xsb2ZmOi0xMix0eXBlOlwibG93cGFzc1wifSksZmlsdGVyRW52ZWxvcGU6T2JqZWN0LmFzc2lnbihNaShHci5nZXREZWZhdWx0cygpLE9iamVjdC5rZXlzKHdvLmdldERlZmF1bHRzKCkpKSx7YXR0YWNrOi42LGJhc2VGcmVxdWVuY3k6MjAwLGRlY2F5Oi4yLGV4cG9uZW50OjIsb2N0YXZlczozLHJlbGVhc2U6MixzdXN0YWluOi41fSksb3NjaWxsYXRvcjpPYmplY3QuYXNzaWduKE1pKF9yLmdldERlZmF1bHRzKCksT2JqZWN0LmtleXMoSG8uZ2V0RGVmYXVsdHMoKSkpLHt0eXBlOlwic2F3dG9vdGhcIn0pfSl9X3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0LGU9MSl7aWYodGhpcy5lbnZlbG9wZS50cmlnZ2VyQXR0YWNrKHQsZSksdGhpcy5maWx0ZXJFbnZlbG9wZS50cmlnZ2VyQXR0YWNrKHQpLHRoaXMub3NjaWxsYXRvci5zdGFydCh0KSwwPT09dGhpcy5lbnZlbG9wZS5zdXN0YWluKXtjb25zdCBlPXRoaXMudG9TZWNvbmRzKHRoaXMuZW52ZWxvcGUuYXR0YWNrKSxzPXRoaXMudG9TZWNvbmRzKHRoaXMuZW52ZWxvcGUuZGVjYXkpO3RoaXMub3NjaWxsYXRvci5zdG9wKHQrZStzKX19X3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCl7dGhpcy5lbnZlbG9wZS50cmlnZ2VyUmVsZWFzZSh0KSx0aGlzLmZpbHRlckVudmVsb3BlLnRyaWdnZXJSZWxlYXNlKHQpLHRoaXMub3NjaWxsYXRvci5zdG9wKHQrdGhpcy50b1NlY29uZHModGhpcy5lbnZlbG9wZS5yZWxlYXNlKSl9Z2V0TGV2ZWxBdFRpbWUodCl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy5lbnZlbG9wZS5nZXRWYWx1ZUF0VGltZSh0KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLm9zY2lsbGF0b3IuZGlzcG9zZSgpLHRoaXMuZW52ZWxvcGUuZGlzcG9zZSgpLHRoaXMuZmlsdGVyRW52ZWxvcGUuZGlzcG9zZSgpLHRoaXMuZmlsdGVyLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBRciBleHRlbmRzIE5ye2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoUXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpKSx0aGlzLm5hbWU9XCJEdW9TeW50aFwiO2NvbnN0IHQ9RGkoUXIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpO3RoaXMudm9pY2UwPW5ldyBVcihPYmplY3QuYXNzaWduKHQudm9pY2UwLHtjb250ZXh0OnRoaXMuY29udGV4dCxvbnNpbGVuY2U6KCk9PnRoaXMub25zaWxlbmNlKHRoaXMpfSkpLHRoaXMudm9pY2UxPW5ldyBVcihPYmplY3QuYXNzaWduKHQudm9pY2UxLHtjb250ZXh0OnRoaXMuY29udGV4dH0pKSx0aGlzLmhhcm1vbmljaXR5PW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJwb3NpdGl2ZVwiLHZhbHVlOnQuaGFybW9uaWNpdHl9KSx0aGlzLl92aWJyYXRvPW5ldyB5cih7ZnJlcXVlbmN5OnQudmlicmF0b1JhdGUsY29udGV4dDp0aGlzLmNvbnRleHQsbWluOi01MCxtYXg6NTB9KSx0aGlzLl92aWJyYXRvLnN0YXJ0KCksdGhpcy52aWJyYXRvUmF0ZT10aGlzLl92aWJyYXRvLmZyZXF1ZW5jeSx0aGlzLl92aWJyYXRvR2Fpbj1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwibm9ybWFsUmFuZ2VcIixnYWluOnQudmlicmF0b0Ftb3VudH0pLHRoaXMudmlicmF0b0Ftb3VudD10aGlzLl92aWJyYXRvR2Fpbi5nYWluLHRoaXMuZnJlcXVlbmN5PW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJmcmVxdWVuY3lcIix2YWx1ZTo0NDB9KSx0aGlzLmRldHVuZT1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwiY2VudHNcIix2YWx1ZTp0LmRldHVuZX0pLHRoaXMuZnJlcXVlbmN5LmNvbm5lY3QodGhpcy52b2ljZTAuZnJlcXVlbmN5KSx0aGlzLmZyZXF1ZW5jeS5jaGFpbih0aGlzLmhhcm1vbmljaXR5LHRoaXMudm9pY2UxLmZyZXF1ZW5jeSksdGhpcy5fdmlicmF0by5jb25uZWN0KHRoaXMuX3ZpYnJhdG9HYWluKSx0aGlzLl92aWJyYXRvR2Fpbi5mYW4odGhpcy52b2ljZTAuZGV0dW5lLHRoaXMudm9pY2UxLmRldHVuZSksdGhpcy5kZXR1bmUuZmFuKHRoaXMudm9pY2UwLmRldHVuZSx0aGlzLnZvaWNlMS5kZXR1bmUpLHRoaXMudm9pY2UwLmNvbm5lY3QodGhpcy5vdXRwdXQpLHRoaXMudm9pY2UxLmNvbm5lY3QodGhpcy5vdXRwdXQpLFVpKHRoaXMsW1widm9pY2UwXCIsXCJ2b2ljZTFcIixcImZyZXF1ZW5jeVwiLFwidmlicmF0b0Ftb3VudFwiLFwidmlicmF0b1JhdGVcIl0pfWdldExldmVsQXRUaW1lKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMudm9pY2UwLmVudmVsb3BlLmdldFZhbHVlQXRUaW1lKHQpK3RoaXMudm9pY2UxLmVudmVsb3BlLmdldFZhbHVlQXRUaW1lKHQpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBBaShOci5nZXREZWZhdWx0cygpLHt2aWJyYXRvQW1vdW50Oi41LHZpYnJhdG9SYXRlOjUsaGFybW9uaWNpdHk6MS41LHZvaWNlMDpBaShNaShVci5nZXREZWZhdWx0cygpLE9iamVjdC5rZXlzKE5yLmdldERlZmF1bHRzKCkpKSx7ZmlsdGVyRW52ZWxvcGU6e2F0dGFjazouMDEsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX0sZW52ZWxvcGU6e2F0dGFjazouMDEsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX19KSx2b2ljZTE6QWkoTWkoVXIuZ2V0RGVmYXVsdHMoKSxPYmplY3Qua2V5cyhOci5nZXREZWZhdWx0cygpKSkse2ZpbHRlckVudmVsb3BlOnthdHRhY2s6LjAxLGRlY2F5OjAsc3VzdGFpbjoxLHJlbGVhc2U6LjV9LGVudmVsb3BlOnthdHRhY2s6LjAxLGRlY2F5OjAsc3VzdGFpbjoxLHJlbGVhc2U6LjV9fSl9KX1fdHJpZ2dlckVudmVsb3BlQXR0YWNrKHQsZSl7dGhpcy52b2ljZTAuX3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0LGUpLHRoaXMudm9pY2UxLl90cmlnZ2VyRW52ZWxvcGVBdHRhY2sodCxlKX1fdHJpZ2dlckVudmVsb3BlUmVsZWFzZSh0KXtyZXR1cm4gdGhpcy52b2ljZTAuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCksdGhpcy52b2ljZTEuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLnZvaWNlMC5kaXNwb3NlKCksdGhpcy52b2ljZTEuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmRldHVuZS5kaXNwb3NlKCksdGhpcy5fdmlicmF0by5kaXNwb3NlKCksdGhpcy52aWJyYXRvUmF0ZS5kaXNwb3NlKCksdGhpcy5fdmlicmF0b0dhaW4uZGlzcG9zZSgpLHRoaXMuaGFybW9uaWNpdHkuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIFpyIGV4dGVuZHMgTHJ7Y29uc3RydWN0b3IoKXtzdXBlcihEaShaci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpLHRoaXMubmFtZT1cIkZNU3ludGhcIjtjb25zdCB0PURpKFpyLmdldERlZmF1bHRzKCksYXJndW1lbnRzKTt0aGlzLm1vZHVsYXRpb25JbmRleD1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQubW9kdWxhdGlvbkluZGV4fSksdGhpcy5mcmVxdWVuY3kuY29ubmVjdCh0aGlzLl9jYXJyaWVyLmZyZXF1ZW5jeSksdGhpcy5mcmVxdWVuY3kuY2hhaW4odGhpcy5oYXJtb25pY2l0eSx0aGlzLl9tb2R1bGF0b3IuZnJlcXVlbmN5KSx0aGlzLmZyZXF1ZW5jeS5jaGFpbih0aGlzLm1vZHVsYXRpb25JbmRleCx0aGlzLl9tb2R1bGF0aW9uTm9kZSksdGhpcy5kZXR1bmUuZmFuKHRoaXMuX2NhcnJpZXIuZGV0dW5lLHRoaXMuX21vZHVsYXRvci5kZXR1bmUpLHRoaXMuX21vZHVsYXRvci5jb25uZWN0KHRoaXMuX21vZHVsYXRpb25Ob2RlLmdhaW4pLHRoaXMuX21vZHVsYXRpb25Ob2RlLmNvbm5lY3QodGhpcy5fY2Fycmllci5mcmVxdWVuY3kpLHRoaXMuX2NhcnJpZXIuY29ubmVjdCh0aGlzLm91dHB1dCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oTHIuZ2V0RGVmYXVsdHMoKSx7bW9kdWxhdGlvbkluZGV4OjEwfSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5tb2R1bGF0aW9uSW5kZXguZGlzcG9zZSgpLHRoaXN9fWNvbnN0IFhyPVsxLDEuNDgzLDEuOTMyLDIuNTQ2LDIuNjMsMy44OTddO2NsYXNzIFlyIGV4dGVuZHMgTnJ7Y29uc3RydWN0b3IoKXtzdXBlcihEaShZci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpLHRoaXMubmFtZT1cIk1ldGFsU3ludGhcIix0aGlzLl9vc2NpbGxhdG9ycz1bXSx0aGlzLl9mcmVxTXVsdGlwbGllcnM9W107Y29uc3QgdD1EaShZci5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyk7dGhpcy5kZXR1bmU9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcImNlbnRzXCIsdmFsdWU6dC5kZXR1bmV9KSx0aGlzLmZyZXF1ZW5jeT1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwiZnJlcXVlbmN5XCJ9KSx0aGlzLl9hbXBsaXR1ZGU9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOjB9KS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9oaWdocGFzcz1uZXcgV3Ioe1E6MCxjb250ZXh0OnRoaXMuY29udGV4dCx0eXBlOlwiaGlnaHBhc3NcIn0pLmNvbm5lY3QodGhpcy5fYW1wbGl0dWRlKTtmb3IobGV0IGU9MDtlPFhyLmxlbmd0aDtlKyspe2NvbnN0IHM9bmV3IHVyKHtjb250ZXh0OnRoaXMuY29udGV4dCxoYXJtb25pY2l0eTp0Lmhhcm1vbmljaXR5LG1vZHVsYXRpb25JbmRleDp0Lm1vZHVsYXRpb25JbmRleCxtb2R1bGF0aW9uVHlwZTpcInNxdWFyZVwiLG9uc3RvcDowPT09ZT8oKT0+dGhpcy5vbnNpbGVuY2UodGhpcyk6WmksdHlwZTpcInNxdWFyZVwifSk7cy5jb25uZWN0KHRoaXMuX2hpZ2hwYXNzKSx0aGlzLl9vc2NpbGxhdG9yc1tlXT1zO2NvbnN0IG49bmV3IGNyKHtjb250ZXh0OnRoaXMuY29udGV4dCx2YWx1ZTpYcltlXX0pO3RoaXMuX2ZyZXFNdWx0aXBsaWVyc1tlXT1uLHRoaXMuZnJlcXVlbmN5LmNoYWluKG4scy5mcmVxdWVuY3kpLHRoaXMuZGV0dW5lLmNvbm5lY3Qocy5kZXR1bmUpfXRoaXMuX2ZpbHRlckZyZXFTY2FsZXI9bmV3IGdyKHtjb250ZXh0OnRoaXMuY29udGV4dCxtYXg6N2UzLG1pbjp0aGlzLnRvRnJlcXVlbmN5KHQucmVzb25hbmNlKX0pLHRoaXMuZW52ZWxvcGU9bmV3IEZyKHthdHRhY2s6dC5lbnZlbG9wZS5hdHRhY2ssYXR0YWNrQ3VydmU6XCJsaW5lYXJcIixjb250ZXh0OnRoaXMuY29udGV4dCxkZWNheTp0LmVudmVsb3BlLmRlY2F5LHJlbGVhc2U6dC5lbnZlbG9wZS5yZWxlYXNlLHN1c3RhaW46MH0pLHRoaXMuZW52ZWxvcGUuY2hhaW4odGhpcy5fZmlsdGVyRnJlcVNjYWxlcix0aGlzLl9oaWdocGFzcy5mcmVxdWVuY3kpLHRoaXMuZW52ZWxvcGUuY29ubmVjdCh0aGlzLl9hbXBsaXR1ZGUuZ2FpbiksdGhpcy5fb2N0YXZlcz10Lm9jdGF2ZXMsdGhpcy5vY3RhdmVzPXQub2N0YXZlc31zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gQWkoTnIuZ2V0RGVmYXVsdHMoKSx7ZW52ZWxvcGU6T2JqZWN0LmFzc2lnbihNaShGci5nZXREZWZhdWx0cygpLE9iamVjdC5rZXlzKHdvLmdldERlZmF1bHRzKCkpKSx7YXR0YWNrOi4wMDEsZGVjYXk6MS40LHJlbGVhc2U6LjJ9KSxoYXJtb25pY2l0eTo1LjEsbW9kdWxhdGlvbkluZGV4OjMyLG9jdGF2ZXM6MS41LHJlc29uYW5jZTo0ZTN9KX1fdHJpZ2dlckVudmVsb3BlQXR0YWNrKHQsZT0xKXtyZXR1cm4gdGhpcy5lbnZlbG9wZS50cmlnZ2VyQXR0YWNrKHQsZSksdGhpcy5fb3NjaWxsYXRvcnMuZm9yRWFjaChlPT5lLnN0YXJ0KHQpKSwwPT09dGhpcy5lbnZlbG9wZS5zdXN0YWluJiZ0aGlzLl9vc2NpbGxhdG9ycy5mb3JFYWNoKGU9PntlLnN0b3AodCt0aGlzLnRvU2Vjb25kcyh0aGlzLmVudmVsb3BlLmF0dGFjaykrdGhpcy50b1NlY29uZHModGhpcy5lbnZlbG9wZS5kZWNheSkpfSksdGhpc31fdHJpZ2dlckVudmVsb3BlUmVsZWFzZSh0KXtyZXR1cm4gdGhpcy5lbnZlbG9wZS50cmlnZ2VyUmVsZWFzZSh0KSx0aGlzLl9vc2NpbGxhdG9ycy5mb3JFYWNoKGU9PmUuc3RvcCh0K3RoaXMudG9TZWNvbmRzKHRoaXMuZW52ZWxvcGUucmVsZWFzZSkpKSx0aGlzfWdldExldmVsQXRUaW1lKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuZW52ZWxvcGUuZ2V0VmFsdWVBdFRpbWUodCl9Z2V0IG1vZHVsYXRpb25JbmRleCgpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5tb2R1bGF0aW9uSW5kZXgudmFsdWV9c2V0IG1vZHVsYXRpb25JbmRleCh0KXt0aGlzLl9vc2NpbGxhdG9ycy5mb3JFYWNoKGU9PmUubW9kdWxhdGlvbkluZGV4LnZhbHVlPXQpfWdldCBoYXJtb25pY2l0eSgpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5oYXJtb25pY2l0eS52YWx1ZX1zZXQgaGFybW9uaWNpdHkodCl7dGhpcy5fb3NjaWxsYXRvcnMuZm9yRWFjaChlPT5lLmhhcm1vbmljaXR5LnZhbHVlPXQpfWdldCByZXNvbmFuY2UoKXtyZXR1cm4gdGhpcy5fZmlsdGVyRnJlcVNjYWxlci5taW59c2V0IHJlc29uYW5jZSh0KXt0aGlzLl9maWx0ZXJGcmVxU2NhbGVyLm1pbj10aGlzLnRvRnJlcXVlbmN5KHQpLHRoaXMub2N0YXZlcz10aGlzLl9vY3RhdmVzfWdldCBvY3RhdmVzKCl7cmV0dXJuIHRoaXMuX29jdGF2ZXN9c2V0IG9jdGF2ZXModCl7dGhpcy5fb2N0YXZlcz10LHRoaXMuX2ZpbHRlckZyZXFTY2FsZXIubWF4PXRoaXMuX2ZpbHRlckZyZXFTY2FsZXIubWluKk1hdGgucG93KDIsdCl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fb3NjaWxsYXRvcnMuZm9yRWFjaCh0PT50LmRpc3Bvc2UoKSksdGhpcy5fZnJlcU11bHRpcGxpZXJzLmZvckVhY2godD0+dC5kaXNwb3NlKCkpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmRldHVuZS5kaXNwb3NlKCksdGhpcy5fZmlsdGVyRnJlcVNjYWxlci5kaXNwb3NlKCksdGhpcy5fYW1wbGl0dWRlLmRpc3Bvc2UoKSx0aGlzLmVudmVsb3BlLmRpc3Bvc2UoKSx0aGlzLl9oaWdocGFzcy5kaXNwb3NlKCksdGhpc319Y2xhc3MgSHIgZXh0ZW5kcyBqcntjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKEhyLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSksdGhpcy5uYW1lPVwiTWVtYnJhbmVTeW50aFwiLHRoaXMucG9ydGFtZW50bz0wO2NvbnN0IHQ9RGkoSHIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpO3RoaXMucGl0Y2hEZWNheT10LnBpdGNoRGVjYXksdGhpcy5vY3RhdmVzPXQub2N0YXZlcyxVaSh0aGlzLFtcIm9zY2lsbGF0b3JcIixcImVudmVsb3BlXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gQWkoTnIuZ2V0RGVmYXVsdHMoKSxqci5nZXREZWZhdWx0cygpLHtlbnZlbG9wZTp7YXR0YWNrOi4wMDEsYXR0YWNrQ3VydmU6XCJleHBvbmVudGlhbFwiLGRlY2F5Oi40LHJlbGVhc2U6MS40LHN1c3RhaW46LjAxfSxvY3RhdmVzOjEwLG9zY2lsbGF0b3I6e3R5cGU6XCJzaW5lXCJ9LHBpdGNoRGVjYXk6LjA1fSl9c2V0Tm90ZSh0LGUpe2NvbnN0IHM9dGhpcy50b1NlY29uZHMoZSksbj10aGlzLnRvRnJlcXVlbmN5KHQgaW5zdGFuY2VvZiBsbz90LnRvRnJlcXVlbmN5KCk6dCksaT1uKnRoaXMub2N0YXZlcztyZXR1cm4gdGhpcy5vc2NpbGxhdG9yLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZShpLHMpLHRoaXMub3NjaWxsYXRvci5mcmVxdWVuY3kuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShuLHMrdGhpcy50b1NlY29uZHModGhpcy5waXRjaERlY2F5KSksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzfX12aShbeHIoMCldLEhyLnByb3RvdHlwZSxcIm9jdGF2ZXNcIix2b2lkIDApLHZpKFt3cigwKV0sSHIucHJvdG90eXBlLFwicGl0Y2hEZWNheVwiLHZvaWQgMCk7Y2xhc3MgJHIgZXh0ZW5kcyBWcntjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKCRyLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSksdGhpcy5uYW1lPVwiTm9pc2VTeW50aFwiO2NvbnN0IHQ9RGkoJHIuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpO3RoaXMubm9pc2U9bmV3IEpvKE9iamVjdC5hc3NpZ24oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSx0Lm5vaXNlKSksdGhpcy5lbnZlbG9wZT1uZXcgUHIoT2JqZWN0LmFzc2lnbih7Y29udGV4dDp0aGlzLmNvbnRleHR9LHQuZW52ZWxvcGUpKSx0aGlzLm5vaXNlLmNoYWluKHRoaXMuZW52ZWxvcGUsdGhpcy5vdXRwdXQpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKFZyLmdldERlZmF1bHRzKCkse2VudmVsb3BlOk9iamVjdC5hc3NpZ24oTWkoRnIuZ2V0RGVmYXVsdHMoKSxPYmplY3Qua2V5cyh3by5nZXREZWZhdWx0cygpKSkse2RlY2F5Oi4xLHN1c3RhaW46MH0pLG5vaXNlOk9iamVjdC5hc3NpZ24oTWkoSm8uZ2V0RGVmYXVsdHMoKSxPYmplY3Qua2V5cyhIby5nZXREZWZhdWx0cygpKSkse3R5cGU6XCJ3aGl0ZVwifSl9KX10cmlnZ2VyQXR0YWNrKHQsZT0xKXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLmVudmVsb3BlLnRyaWdnZXJBdHRhY2sodCxlKSx0aGlzLm5vaXNlLnN0YXJ0KHQpLDA9PT10aGlzLmVudmVsb3BlLnN1c3RhaW4mJnRoaXMubm9pc2Uuc3RvcCh0K3RoaXMudG9TZWNvbmRzKHRoaXMuZW52ZWxvcGUuYXR0YWNrKSt0aGlzLnRvU2Vjb25kcyh0aGlzLmVudmVsb3BlLmRlY2F5KSksdGhpc310cmlnZ2VyUmVsZWFzZSh0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLmVudmVsb3BlLnRyaWdnZXJSZWxlYXNlKHQpLHRoaXMubm9pc2Uuc3RvcCh0K3RoaXMudG9TZWNvbmRzKHRoaXMuZW52ZWxvcGUucmVsZWFzZSkpLHRoaXN9c3luYygpe3JldHVybiB0aGlzLl9zeW5jU3RhdGUoKSYmKHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyQXR0YWNrXCIsMCksdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJSZWxlYXNlXCIsMCkpLHRoaXN9dHJpZ2dlckF0dGFja1JlbGVhc2UodCxlLHM9MSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLnRyaWdnZXJBdHRhY2soZSxzKSx0aGlzLnRyaWdnZXJSZWxlYXNlKGUrdCksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLm5vaXNlLmRpc3Bvc2UoKSx0aGlzLmVudmVsb3BlLmRpc3Bvc2UoKSx0aGlzfX1jb25zdCBKcj1uZXcgU2V0O2Z1bmN0aW9uIEtyKHQpe0pyLmFkZCh0KX1mdW5jdGlvbiB0YSh0LGUpe2NvbnN0IHM9YHJlZ2lzdGVyUHJvY2Vzc29yKFwiJHt0fVwiLCAke2V9KWA7SnIuYWRkKHMpfWNsYXNzIGVhIGV4dGVuZHMgd297Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5uYW1lPVwiVG9uZUF1ZGlvV29ya2xldFwiLHRoaXMud29ya2xldE9wdGlvbnM9e30sdGhpcy5vbnByb2Nlc3NvcmVycm9yPVppO2NvbnN0IGU9VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbQXJyYXkuZnJvbShKcikuam9pbihcIlxcblwiKV0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pKSxzPXRoaXMuX2F1ZGlvV29ya2xldE5hbWUoKTt0aGlzLl9kdW1teUdhaW49dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLl9kdW1teVBhcmFtPXRoaXMuX2R1bW15R2Fpbi5nYWluLHRoaXMuY29udGV4dC5hZGRBdWRpb1dvcmtsZXRNb2R1bGUoZSxzKS50aGVuKCgpPT57dGhpcy5kaXNwb3NlZHx8KHRoaXMuX3dvcmtsZXQ9dGhpcy5jb250ZXh0LmNyZWF0ZUF1ZGlvV29ya2xldE5vZGUocyx0aGlzLndvcmtsZXRPcHRpb25zKSx0aGlzLl93b3JrbGV0Lm9ucHJvY2Vzc29yZXJyb3I9dGhpcy5vbnByb2Nlc3NvcmVycm9yLmJpbmQodGhpcyksdGhpcy5vblJlYWR5KHRoaXMuX3dvcmtsZXQpKX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2R1bW15R2Fpbi5kaXNjb25uZWN0KCksdGhpcy5fd29ya2xldCYmKHRoaXMuX3dvcmtsZXQucG9ydC5wb3N0TWVzc2FnZShcImRpc3Bvc2VcIiksdGhpcy5fd29ya2xldC5kaXNjb25uZWN0KCkpLHRoaXN9fUtyKCdcXG5cXHQvKipcXG5cXHQgKiBUaGUgYmFzZSBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgZm9yIHVzZSBpbiBUb25lLmpzLiBXb3JrcyB3aXRoIHRoZSBbW1RvbmVBdWRpb1dvcmtsZXRdXS4gXFxuXFx0ICovXFxuXFx0Y2xhc3MgVG9uZUF1ZGlvV29ya2xldFByb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7XFxuXFxuXFx0XFx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xcblxcdFxcdFxcdFxcblxcdFxcdFxcdHN1cGVyKG9wdGlvbnMpO1xcblxcdFxcdFxcdC8qKlxcblxcdFxcdFxcdCAqIElmIHRoZSBwcm9jZXNzb3Igd2FzIGRpc3Bvc2VkIG9yIG5vdC4gS2VlcCBhbGl2ZSB1bnRpbCBpdFxcJ3MgZGlzcG9zZWQuXFxuXFx0XFx0XFx0ICovXFxuXFx0XFx0XFx0dGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xcblxcdFxcdCAgIFxcdC8qKiBcXG5cXHRcXHRcXHQgKiBUaGUgbnVtYmVyIG9mIHNhbXBsZXMgaW4gdGhlIHByb2Nlc3NpbmcgYmxvY2tcXG5cXHRcXHRcXHQgKi9cXG5cXHRcXHRcXHR0aGlzLmJsb2NrU2l6ZSA9IDEyODtcXG5cXHRcXHRcXHQvKipcXG5cXHRcXHRcXHQgKiB0aGUgc2FtcGxlIHJhdGVcXG5cXHRcXHRcXHQgKi9cXG5cXHRcXHRcXHR0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xcblxcblxcdFxcdFxcdHRoaXMucG9ydC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcXG5cXHRcXHRcXHRcXHQvLyB3aGVuIGl0IHJlY2VpdmVzIGEgZGlzcG9zZSBcXG5cXHRcXHRcXHRcXHRpZiAoZXZlbnQuZGF0YSA9PT0gXCJkaXNwb3NlXCIpIHtcXG5cXHRcXHRcXHRcXHRcXHR0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fTtcXG5cXHRcXHR9XFxuXFx0fVxcbicpO0tyKFwiXFxuXFx0LyoqXFxuXFx0ICogQWJzdHJhY3QgY2xhc3MgZm9yIGEgc2luZ2xlIGlucHV0L291dHB1dCBwcm9jZXNzb3IuIFxcblxcdCAqIGhhcyBhICdnZW5lcmF0ZScgZnVuY3Rpb24gd2hpY2ggcHJvY2Vzc2VzIG9uZSBzYW1wbGUgYXQgYSB0aW1lXFxuXFx0ICovXFxuXFx0Y2xhc3MgU2luZ2xlSU9Qcm9jZXNzb3IgZXh0ZW5kcyBUb25lQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcXG5cXG5cXHRcXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XFxuXFx0XFx0XFx0c3VwZXIoT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7XFxuXFx0XFx0XFx0XFx0bnVtYmVyT2ZJbnB1dHM6IDEsXFxuXFx0XFx0XFx0XFx0bnVtYmVyT2ZPdXRwdXRzOiAxXFxuXFx0XFx0XFx0fSkpO1xcblxcdFxcdFxcdC8qKlxcblxcdFxcdFxcdCAqIEhvbGRzIHRoZSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIgYW5kIGEgc2luZ2xlIHZhbHVlIG9mIHRoYXRcXG5cXHRcXHRcXHQgKiBwYXJhbWV0ZXIgYXQgdGhlIGN1cnJlbnQgc2FtcGxlXFxuXFx0XFx0XFx0ICogQHR5cGUgeyBbbmFtZTogc3RyaW5nXTogbnVtYmVyIH1cXG5cXHRcXHRcXHQgKi9cXG5cXHRcXHRcXHR0aGlzLnBhcmFtcyA9IHt9XFxuXFx0XFx0fVxcblxcblxcdFxcdC8qKlxcblxcdFxcdCAqIEdlbmVyYXRlIGFuIG91dHB1dCBzYW1wbGUgZnJvbSB0aGUgaW5wdXQgc2FtcGxlIGFuZCBwYXJhbWV0ZXJzXFxuXFx0XFx0ICogQGFic3RyYWN0XFxuXFx0XFx0ICogQHBhcmFtIGlucHV0IG51bWJlclxcblxcdFxcdCAqIEBwYXJhbSBjaGFubmVsIG51bWJlclxcblxcdFxcdCAqIEBwYXJhbSBwYXJhbWV0ZXJzIHsgW25hbWU6IHN0cmluZ106IG51bWJlciB9XFxuXFx0XFx0ICogQHJldHVybnMgbnVtYmVyXFxuXFx0XFx0ICovXFxuXFx0XFx0Z2VuZXJhdGUoKXt9XFxuXFxuXFx0XFx0LyoqXFxuXFx0XFx0ICogVXBkYXRlIHRoZSBwcml2YXRlIHBhcmFtcyBvYmplY3Qgd2l0aCB0aGUgXFxuXFx0XFx0ICogdmFsdWVzIG9mIHRoZSBwYXJhbWV0ZXJzIGF0IHRoZSBnaXZlbiBpbmRleFxcblxcdFxcdCAqIEBwYXJhbSBwYXJhbWV0ZXJzIHsgW25hbWU6IHN0cmluZ106IEZsb2F0MzJBcnJheSB9LFxcblxcdFxcdCAqIEBwYXJhbSBpbmRleCBudW1iZXJcXG5cXHRcXHQgKi9cXG5cXHRcXHR1cGRhdGVQYXJhbXMocGFyYW1ldGVycywgaW5kZXgpIHtcXG5cXHRcXHRcXHRmb3IgKGNvbnN0IHBhcmFtTmFtZSBpbiBwYXJhbWV0ZXJzKSB7XFxuXFx0XFx0XFx0XFx0Y29uc3QgcGFyYW0gPSBwYXJhbWV0ZXJzW3BhcmFtTmFtZV07XFxuXFx0XFx0XFx0XFx0aWYgKHBhcmFtLmxlbmd0aCA+IDEpIHtcXG5cXHRcXHRcXHRcXHRcXHR0aGlzLnBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1ldGVyc1twYXJhbU5hbWVdW2luZGV4XTtcXG5cXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdFxcdHRoaXMucGFyYW1zW3BhcmFtTmFtZV0gPSBwYXJhbWV0ZXJzW3BhcmFtTmFtZV1bMF07XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0LyoqXFxuXFx0XFx0ICogUHJvY2VzcyBhIHNpbmdsZSBmcmFtZSBvZiB0aGUgYXVkaW9cXG5cXHRcXHQgKiBAcGFyYW0gaW5wdXRzIEZsb2F0MzJBcnJheVtdW11cXG5cXHRcXHQgKiBAcGFyYW0gb3V0cHV0cyBGbG9hdDMyQXJyYXlbXVtdXFxuXFx0XFx0ICovXFxuXFx0XFx0cHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHtcXG5cXHRcXHRcXHRjb25zdCBpbnB1dCA9IGlucHV0c1swXTtcXG5cXHRcXHRcXHRjb25zdCBvdXRwdXQgPSBvdXRwdXRzWzBdO1xcblxcdFxcdFxcdC8vIGdldCB0aGUgcGFyYW1ldGVyIHZhbHVlc1xcblxcdFxcdFxcdGNvbnN0IGNoYW5uZWxDb3VudCA9IE1hdGgubWF4KGlucHV0ICYmIGlucHV0Lmxlbmd0aCB8fCAwLCBvdXRwdXQubGVuZ3RoKTtcXG5cXHRcXHRcXHRmb3IgKGxldCBzYW1wbGUgPSAwOyBzYW1wbGUgPCB0aGlzLmJsb2NrU2l6ZTsgc2FtcGxlKyspIHtcXG5cXHRcXHRcXHRcXHR0aGlzLnVwZGF0ZVBhcmFtcyhwYXJhbWV0ZXJzLCBzYW1wbGUpO1xcblxcdFxcdFxcdFxcdGZvciAobGV0IGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbENvdW50OyBjaGFubmVsKyspIHtcXG5cXHRcXHRcXHRcXHRcXHRjb25zdCBpbnB1dFNhbXBsZSA9IGlucHV0ICYmIGlucHV0Lmxlbmd0aCA/IGlucHV0W2NoYW5uZWxdW3NhbXBsZV0gOiAwO1xcblxcdFxcdFxcdFxcdFxcdG91dHB1dFtjaGFubmVsXVtzYW1wbGVdID0gdGhpcy5nZW5lcmF0ZShpbnB1dFNhbXBsZSwgY2hhbm5lbCwgdGhpcy5wYXJhbXMpO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0cmV0dXJuICF0aGlzLmRpc3Bvc2VkO1xcblxcdFxcdH1cXG5cXHR9O1xcblwiKTtLcihcIlxcblxcdC8qKlxcblxcdCAqIEEgbXVsdGljaGFubmVsIGJ1ZmZlciBmb3IgdXNlIHdpdGhpbiBhbiBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgYXMgYSBkZWxheSBsaW5lXFxuXFx0ICovXFxuXFx0Y2xhc3MgRGVsYXlMaW5lIHtcXG5cXHRcXHRcXG5cXHRcXHRjb25zdHJ1Y3RvcihzaXplLCBjaGFubmVscykge1xcblxcdFxcdFxcdHRoaXMuYnVmZmVyID0gW107XFxuXFx0XFx0XFx0dGhpcy53cml0ZUhlYWQgPSBbXVxcblxcdFxcdFxcdHRoaXMuc2l6ZSA9IHNpemU7XFxuXFxuXFx0XFx0XFx0Ly8gY3JlYXRlIHRoZSBlbXB0eSBjaGFubmVsc1xcblxcdFxcdFxcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbHM7IGkrKykge1xcblxcdFxcdFxcdFxcdHRoaXMuYnVmZmVyW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnNpemUpO1xcblxcdFxcdFxcdFxcdHRoaXMud3JpdGVIZWFkW2ldID0gMDtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdC8qKlxcblxcdFxcdCAqIFB1c2ggYSB2YWx1ZSBvbnRvIHRoZSBlbmRcXG5cXHRcXHQgKiBAcGFyYW0gY2hhbm5lbCBudW1iZXJcXG5cXHRcXHQgKiBAcGFyYW0gdmFsdWUgbnVtYmVyXFxuXFx0XFx0ICovXFxuXFx0XFx0cHVzaChjaGFubmVsLCB2YWx1ZSkge1xcblxcdFxcdFxcdHRoaXMud3JpdGVIZWFkW2NoYW5uZWxdICs9IDE7XFxuXFx0XFx0XFx0aWYgKHRoaXMud3JpdGVIZWFkW2NoYW5uZWxdID4gdGhpcy5zaXplKSB7XFxuXFx0XFx0XFx0XFx0dGhpcy53cml0ZUhlYWRbY2hhbm5lbF0gPSAwO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHR0aGlzLmJ1ZmZlcltjaGFubmVsXVt0aGlzLndyaXRlSGVhZFtjaGFubmVsXV0gPSB2YWx1ZTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0LyoqXFxuXFx0XFx0ICogR2V0IHRoZSByZWNvcmRlZCB2YWx1ZSBvZiB0aGUgY2hhbm5lbCBnaXZlbiB0aGUgZGVsYXlcXG5cXHRcXHQgKiBAcGFyYW0gY2hhbm5lbCBudW1iZXJcXG5cXHRcXHQgKiBAcGFyYW0gZGVsYXkgbnVtYmVyIGRlbGF5IHNhbXBsZXNcXG5cXHRcXHQgKi9cXG5cXHRcXHRnZXQoY2hhbm5lbCwgZGVsYXkpIHtcXG5cXHRcXHRcXHRsZXQgcmVhZEhlYWQgPSB0aGlzLndyaXRlSGVhZFtjaGFubmVsXSAtIE1hdGguZmxvb3IoZGVsYXkpO1xcblxcdFxcdFxcdGlmIChyZWFkSGVhZCA8IDApIHtcXG5cXHRcXHRcXHRcXHRyZWFkSGVhZCArPSB0aGlzLnNpemU7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiB0aGlzLmJ1ZmZlcltjaGFubmVsXVtyZWFkSGVhZF07XFxuXFx0XFx0fVxcblxcdH1cXG5cIik7dGEoXCJmZWVkYmFjay1jb21iLWZpbHRlclwiLCdcXG5cXHRjbGFzcyBGZWVkYmFja0NvbWJGaWx0ZXJXb3JrbGV0IGV4dGVuZHMgU2luZ2xlSU9Qcm9jZXNzb3Ige1xcblxcblxcdFxcdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcXG5cXHRcXHRcXHRzdXBlcihvcHRpb25zKTtcXG5cXHRcXHRcXHR0aGlzLmRlbGF5TGluZSA9IG5ldyBEZWxheUxpbmUodGhpcy5zYW1wbGVSYXRlLCBvcHRpb25zLmNoYW5uZWxDb3VudCB8fCAyKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHtcXG5cXHRcXHRcXHRyZXR1cm4gW3tcXG5cXHRcXHRcXHRcXHRuYW1lOiBcImRlbGF5VGltZVwiLFxcblxcdFxcdFxcdFxcdGRlZmF1bHRWYWx1ZTogMC4xLFxcblxcdFxcdFxcdFxcdG1pblZhbHVlOiAwLFxcblxcdFxcdFxcdFxcdG1heFZhbHVlOiAxLFxcblxcdFxcdFxcdFxcdGF1dG9tYXRpb25SYXRlOiBcImstcmF0ZVwiXFxuXFx0XFx0XFx0fSwge1xcblxcdFxcdFxcdFxcdG5hbWU6IFwiZmVlZGJhY2tcIixcXG5cXHRcXHRcXHRcXHRkZWZhdWx0VmFsdWU6IDAuNSxcXG5cXHRcXHRcXHRcXHRtaW5WYWx1ZTogMCxcXG5cXHRcXHRcXHRcXHRtYXhWYWx1ZTogMC45OTk5LFxcblxcdFxcdFxcdFxcdGF1dG9tYXRpb25SYXRlOiBcImstcmF0ZVwiXFxuXFx0XFx0XFx0fV07XFxuXFx0XFx0fVxcblxcblxcdFxcdGdlbmVyYXRlKGlucHV0LCBjaGFubmVsLCBwYXJhbWV0ZXJzKSB7XFxuXFx0XFx0XFx0Y29uc3QgZGVsYXllZFNhbXBsZSA9IHRoaXMuZGVsYXlMaW5lLmdldChjaGFubmVsLCBwYXJhbWV0ZXJzLmRlbGF5VGltZSAqIHRoaXMuc2FtcGxlUmF0ZSk7XFxuXFx0XFx0XFx0dGhpcy5kZWxheUxpbmUucHVzaChjaGFubmVsLCBpbnB1dCArIGRlbGF5ZWRTYW1wbGUgKiBwYXJhbWV0ZXJzLmZlZWRiYWNrKTtcXG5cXHRcXHRcXHRyZXR1cm4gZGVsYXllZFNhbXBsZTtcXG5cXHRcXHR9XFxuXFx0fVxcbicpO2NsYXNzIHNhIGV4dGVuZHMgZWF7Y29uc3RydWN0b3IoKXtzdXBlcihEaShzYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJkZWxheVRpbWVcIixcInJlc29uYW5jZVwiXSkpLHRoaXMubmFtZT1cIkZlZWRiYWNrQ29tYkZpbHRlclwiO2NvbnN0IHQ9RGkoc2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZGVsYXlUaW1lXCIsXCJyZXNvbmFuY2VcIl0pO3RoaXMuaW5wdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMub3V0cHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLmRlbGF5VGltZT1uZXcgeG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQuZGVsYXlUaW1lLHVuaXRzOlwidGltZVwiLG1pblZhbHVlOjAsbWF4VmFsdWU6MSxwYXJhbTp0aGlzLl9kdW1teVBhcmFtLHN3YXBwYWJsZTohMH0pLHRoaXMucmVzb25hbmNlPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6dC5yZXNvbmFuY2UsdW5pdHM6XCJub3JtYWxSYW5nZVwiLHBhcmFtOnRoaXMuX2R1bW15UGFyYW0sc3dhcHBhYmxlOiEwfSksVWkodGhpcyxbXCJyZXNvbmFuY2VcIixcImRlbGF5VGltZVwiXSl9X2F1ZGlvV29ya2xldE5hbWUoKXtyZXR1cm5cImZlZWRiYWNrLWNvbWItZmlsdGVyXCJ9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7ZGVsYXlUaW1lOi4xLHJlc29uYW5jZTouNX0pfW9uUmVhZHkodCl7Ym8odGhpcy5pbnB1dCx0LHRoaXMub3V0cHV0KTtjb25zdCBlPXQucGFyYW1ldGVycy5nZXQoXCJkZWxheVRpbWVcIik7dGhpcy5kZWxheVRpbWUuc2V0UGFyYW0oZSk7Y29uc3Qgcz10LnBhcmFtZXRlcnMuZ2V0KFwiZmVlZGJhY2tcIik7dGhpcy5yZXNvbmFuY2Uuc2V0UGFyYW0ocyl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5pbnB1dC5kaXNwb3NlKCksdGhpcy5vdXRwdXQuZGlzcG9zZSgpLHRoaXMuZGVsYXlUaW1lLmRpc3Bvc2UoKSx0aGlzLnJlc29uYW5jZS5kaXNwb3NlKCksdGhpc319Y2xhc3MgbmEgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKG5hLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwidHlwZVwiXSkpLHRoaXMubmFtZT1cIk9uZVBvbGVGaWx0ZXJcIjtjb25zdCB0PURpKG5hLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwidHlwZVwiXSk7dGhpcy5fZnJlcXVlbmN5PXQuZnJlcXVlbmN5LHRoaXMuX3R5cGU9dC50eXBlLHRoaXMuaW5wdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMub3V0cHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9jcmVhdGVGaWx0ZXIoKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHtmcmVxdWVuY3k6ODgwLHR5cGU6XCJsb3dwYXNzXCJ9KX1fY3JlYXRlRmlsdGVyKCl7Y29uc3QgdD10aGlzLl9maWx0ZXIsZT10aGlzLnRvRnJlcXVlbmN5KHRoaXMuX2ZyZXF1ZW5jeSkscz0xLygyKk1hdGguUEkqZSk7aWYoXCJsb3dwYXNzXCI9PT10aGlzLl90eXBlKXtjb25zdCB0PTEvKHMqdGhpcy5jb250ZXh0LnNhbXBsZVJhdGUpLGU9dC0xO3RoaXMuX2ZpbHRlcj10aGlzLmNvbnRleHQuY3JlYXRlSUlSRmlsdGVyKFt0LDBdLFsxLGVdKX1lbHNle2NvbnN0IHQ9MS8ocyp0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZSktMTt0aGlzLl9maWx0ZXI9dGhpcy5jb250ZXh0LmNyZWF0ZUlJUkZpbHRlcihbMSwtMV0sWzEsdF0pfXRoaXMuaW5wdXQuY2hhaW4odGhpcy5fZmlsdGVyLHRoaXMub3V0cHV0KSx0JiZ0aGlzLmNvbnRleHQuc2V0VGltZW91dCgoKT0+e3RoaXMuZGlzcG9zZWR8fCh0aGlzLmlucHV0LmRpc2Nvbm5lY3QodCksdC5kaXNjb25uZWN0KCkpfSx0aGlzLmJsb2NrVGltZSl9Z2V0IGZyZXF1ZW5jeSgpe3JldHVybiB0aGlzLl9mcmVxdWVuY3l9c2V0IGZyZXF1ZW5jeSh0KXt0aGlzLl9mcmVxdWVuY3k9dCx0aGlzLl9jcmVhdGVGaWx0ZXIoKX1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl90eXBlfXNldCB0eXBlKHQpe3RoaXMuX3R5cGU9dCx0aGlzLl9jcmVhdGVGaWx0ZXIoKX1nZXRGcmVxdWVuY3lSZXNwb25zZSh0PTEyOCl7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KHQpO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IG49MTk5ODAqTWF0aC5wb3cocy90LDIpKzIwO2Vbc109bn1jb25zdCBzPW5ldyBGbG9hdDMyQXJyYXkodCksbj1uZXcgRmxvYXQzMkFycmF5KHQpO3JldHVybiB0aGlzLl9maWx0ZXIuZ2V0RnJlcXVlbmN5UmVzcG9uc2UoZSxzLG4pLHN9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5pbnB1dC5kaXNwb3NlKCksdGhpcy5vdXRwdXQuZGlzcG9zZSgpLHRoaXMuX2ZpbHRlci5kaXNjb25uZWN0KCksdGhpc319Y2xhc3MgaWEgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGlhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImRlbGF5VGltZVwiLFwicmVzb25hbmNlXCIsXCJkYW1wZW5pbmdcIl0pKSx0aGlzLm5hbWU9XCJMb3dwYXNzQ29tYkZpbHRlclwiO2NvbnN0IHQ9RGkoaWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZGVsYXlUaW1lXCIsXCJyZXNvbmFuY2VcIixcImRhbXBlbmluZ1wiXSk7dGhpcy5fY29tYkZpbHRlcj10aGlzLm91dHB1dD1uZXcgc2Eoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGRlbGF5VGltZTp0LmRlbGF5VGltZSxyZXNvbmFuY2U6dC5yZXNvbmFuY2V9KSx0aGlzLmRlbGF5VGltZT10aGlzLl9jb21iRmlsdGVyLmRlbGF5VGltZSx0aGlzLnJlc29uYW5jZT10aGlzLl9jb21iRmlsdGVyLnJlc29uYW5jZSx0aGlzLl9sb3dwYXNzPXRoaXMuaW5wdXQ9bmV3IG5hKHtjb250ZXh0OnRoaXMuY29udGV4dCxmcmVxdWVuY3k6dC5kYW1wZW5pbmcsdHlwZTpcImxvd3Bhc3NcIn0pLHRoaXMuX2xvd3Bhc3MuY29ubmVjdCh0aGlzLl9jb21iRmlsdGVyKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHtkYW1wZW5pbmc6M2UzLGRlbGF5VGltZTouMSxyZXNvbmFuY2U6LjV9KX1nZXQgZGFtcGVuaW5nKCl7cmV0dXJuIHRoaXMuX2xvd3Bhc3MuZnJlcXVlbmN5fXNldCBkYW1wZW5pbmcodCl7dGhpcy5fbG93cGFzcy5mcmVxdWVuY3k9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9jb21iRmlsdGVyLmRpc3Bvc2UoKSx0aGlzLl9sb3dwYXNzLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBvYSBleHRlbmRzIFZye2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkob2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpKSx0aGlzLm5hbWU9XCJQbHVja1N5bnRoXCI7Y29uc3QgdD1EaShvYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyk7dGhpcy5fbm9pc2U9bmV3IEpvKHtjb250ZXh0OnRoaXMuY29udGV4dCx0eXBlOlwicGlua1wifSksdGhpcy5hdHRhY2tOb2lzZT10LmF0dGFja05vaXNlLHRoaXMuX2xmY2Y9bmV3IGlhKHtjb250ZXh0OnRoaXMuY29udGV4dCxkYW1wZW5pbmc6dC5kYW1wZW5pbmcscmVzb25hbmNlOnQucmVzb25hbmNlfSksdGhpcy5yZXNvbmFuY2U9dC5yZXNvbmFuY2UsdGhpcy5yZWxlYXNlPXQucmVsZWFzZSx0aGlzLl9ub2lzZS5jb25uZWN0KHRoaXMuX2xmY2YpLHRoaXMuX2xmY2YuY29ubmVjdCh0aGlzLm91dHB1dCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIEFpKFZyLmdldERlZmF1bHRzKCkse2F0dGFja05vaXNlOjEsZGFtcGVuaW5nOjRlMyxyZXNvbmFuY2U6LjcscmVsZWFzZToxfSl9Z2V0IGRhbXBlbmluZygpe3JldHVybiB0aGlzLl9sZmNmLmRhbXBlbmluZ31zZXQgZGFtcGVuaW5nKHQpe3RoaXMuX2xmY2YuZGFtcGVuaW5nPXR9dHJpZ2dlckF0dGFjayh0LGUpe2NvbnN0IHM9dGhpcy50b0ZyZXF1ZW5jeSh0KTtlPXRoaXMudG9TZWNvbmRzKGUpO2NvbnN0IG49MS9zO3JldHVybiB0aGlzLl9sZmNmLmRlbGF5VGltZS5zZXRWYWx1ZUF0VGltZShuLGUpLHRoaXMuX25vaXNlLnN0YXJ0KGUpLHRoaXMuX25vaXNlLnN0b3AoZStuKnRoaXMuYXR0YWNrTm9pc2UpLHRoaXMuX2xmY2YucmVzb25hbmNlLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhlKSx0aGlzLl9sZmNmLnJlc29uYW5jZS5zZXRWYWx1ZUF0VGltZSh0aGlzLnJlc29uYW5jZSxlKSx0aGlzfXRyaWdnZXJSZWxlYXNlKHQpe3JldHVybiB0aGlzLl9sZmNmLnJlc29uYW5jZS5saW5lYXJSYW1wVG8oMCx0aGlzLnJlbGVhc2UsdCksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9ub2lzZS5kaXNwb3NlKCksdGhpcy5fbGZjZi5kaXNwb3NlKCksdGhpc319Y2xhc3MgcmEgZXh0ZW5kcyBWcntjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKHJhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInZvaWNlXCIsXCJvcHRpb25zXCJdKSksdGhpcy5uYW1lPVwiUG9seVN5bnRoXCIsdGhpcy5fYXZhaWxhYmxlVm9pY2VzPVtdLHRoaXMuX2FjdGl2ZVZvaWNlcz1bXSx0aGlzLl92b2ljZXM9W10sdGhpcy5fZ2NUaW1lb3V0PS0xLHRoaXMuX2F2ZXJhZ2VBY3RpdmVWb2ljZXM9MDtjb25zdCB0PURpKHJhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInZvaWNlXCIsXCJvcHRpb25zXCJdKTt0aSghdWkodC52b2ljZSksXCJERVBSRUNBVEVEOiBUaGUgcG9seXBob255IGNvdW50IGlzIG5vIGxvbmdlciB0aGUgZmlyc3QgYXJndW1lbnQuXCIpO2NvbnN0IGU9dC52b2ljZS5nZXREZWZhdWx0cygpO3RoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKGUsdC5vcHRpb25zKSx0aGlzLnZvaWNlPXQudm9pY2UsdGhpcy5tYXhQb2x5cGhvbnk9dC5tYXhQb2x5cGhvbnksdGhpcy5fZHVtbXlWb2ljZT10aGlzLl9nZXROZXh0QXZhaWxhYmxlVm9pY2UoKTtjb25zdCBzPXRoaXMuX3ZvaWNlcy5pbmRleE9mKHRoaXMuX2R1bW15Vm9pY2UpO3RoaXMuX3ZvaWNlcy5zcGxpY2UocywxKSx0aGlzLl9nY1RpbWVvdXQ9dGhpcy5jb250ZXh0LnNldEludGVydmFsKHRoaXMuX2NvbGxlY3RHYXJiYWdlLmJpbmQodGhpcyksMSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oVnIuZ2V0RGVmYXVsdHMoKSx7bWF4UG9seXBob255OjMyLG9wdGlvbnM6e30sdm9pY2U6anJ9KX1nZXQgYWN0aXZlVm9pY2VzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVZvaWNlcy5sZW5ndGh9X21ha2VWb2ljZUF2YWlsYWJsZSh0KXt0aGlzLl9hdmFpbGFibGVWb2ljZXMucHVzaCh0KTtjb25zdCBlPXRoaXMuX2FjdGl2ZVZvaWNlcy5maW5kSW5kZXgoZT0+ZS52b2ljZT09PXQpO3RoaXMuX2FjdGl2ZVZvaWNlcy5zcGxpY2UoZSwxKX1fZ2V0TmV4dEF2YWlsYWJsZVZvaWNlKCl7aWYodGhpcy5fYXZhaWxhYmxlVm9pY2VzLmxlbmd0aClyZXR1cm4gdGhpcy5fYXZhaWxhYmxlVm9pY2VzLnNoaWZ0KCk7aWYodGhpcy5fdm9pY2VzLmxlbmd0aDx0aGlzLm1heFBvbHlwaG9ueSl7Y29uc3QgdD1uZXcgdGhpcy52b2ljZShPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucyx7Y29udGV4dDp0aGlzLmNvbnRleHQsb25zaWxlbmNlOnRoaXMuX21ha2VWb2ljZUF2YWlsYWJsZS5iaW5kKHRoaXMpfSkpO3JldHVybiB0LmNvbm5lY3QodGhpcy5vdXRwdXQpLHRoaXMuX3ZvaWNlcy5wdXNoKHQpLHR9cmkoXCJNYXggcG9seXBob255IGV4Y2VlZGVkLiBOb3RlIGRyb3BwZWQuXCIpfV9jb2xsZWN0R2FyYmFnZSgpe2lmKHRoaXMuX2F2ZXJhZ2VBY3RpdmVWb2ljZXM9TWF0aC5tYXgoLjk1KnRoaXMuX2F2ZXJhZ2VBY3RpdmVWb2ljZXMsdGhpcy5hY3RpdmVWb2ljZXMpLHRoaXMuX2F2YWlsYWJsZVZvaWNlcy5sZW5ndGgmJnRoaXMuX3ZvaWNlcy5sZW5ndGg+TWF0aC5jZWlsKHRoaXMuX2F2ZXJhZ2VBY3RpdmVWb2ljZXMrMSkpe2NvbnN0IHQ9dGhpcy5fYXZhaWxhYmxlVm9pY2VzLnNoaWZ0KCksZT10aGlzLl92b2ljZXMuaW5kZXhPZih0KTt0aGlzLl92b2ljZXMuc3BsaWNlKGUsMSksdGhpcy5jb250ZXh0LmlzT2ZmbGluZXx8dC5kaXNwb3NlKCl9fV90cmlnZ2VyQXR0YWNrKHQsZSxzKXt0LmZvckVhY2godD0+e2NvbnN0IG49bmV3IE5vKHRoaXMuY29udGV4dCx0KS50b01pZGkoKSxpPXRoaXMuX2dldE5leHRBdmFpbGFibGVWb2ljZSgpO2kmJihpLnRyaWdnZXJBdHRhY2sodCxlLHMpLHRoaXMuX2FjdGl2ZVZvaWNlcy5wdXNoKHttaWRpOm4sdm9pY2U6aSxyZWxlYXNlZDohMX0pLHRoaXMubG9nKFwidHJpZ2dlckF0dGFja1wiLHQsZSkpfSl9X3RyaWdnZXJSZWxlYXNlKHQsZSl7dC5mb3JFYWNoKHQ9Pntjb25zdCBzPW5ldyBObyh0aGlzLmNvbnRleHQsdCkudG9NaWRpKCksbj10aGlzLl9hY3RpdmVWb2ljZXMuZmluZCgoe21pZGk6dCxyZWxlYXNlZDplfSk9PnQ9PT1zJiYhZSk7biYmKG4udm9pY2UudHJpZ2dlclJlbGVhc2UoZSksbi5yZWxlYXNlZD0hMCx0aGlzLmxvZyhcInRyaWdnZXJSZWxlYXNlXCIsdCxlKSl9KX1fc2NoZWR1bGVFdmVudCh0LGUscyxuKXt0aSghdGhpcy5kaXNwb3NlZCxcIlN5bnRoIHdhcyBhbHJlYWR5IGRpc3Bvc2VkXCIpLHM8PXRoaXMubm93KCk/XCJhdHRhY2tcIj09PXQ/dGhpcy5fdHJpZ2dlckF0dGFjayhlLHMsbik6dGhpcy5fdHJpZ2dlclJlbGVhc2UoZSxzKTp0aGlzLmNvbnRleHQuc2V0VGltZW91dCgoKT0+e3RoaXMuX3NjaGVkdWxlRXZlbnQodCxlLHMsbil9LHMtdGhpcy5ub3coKSl9dHJpZ2dlckF0dGFjayh0LGUscyl7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtjb25zdCBuPXRoaXMudG9TZWNvbmRzKGUpO3JldHVybiB0aGlzLl9zY2hlZHVsZUV2ZW50KFwiYXR0YWNrXCIsdCxuLHMpLHRoaXN9dHJpZ2dlclJlbGVhc2UodCxlKXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IHM9dGhpcy50b1NlY29uZHMoZSk7cmV0dXJuIHRoaXMuX3NjaGVkdWxlRXZlbnQoXCJyZWxlYXNlXCIsdCxzKSx0aGlzfXRyaWdnZXJBdHRhY2tSZWxlYXNlKHQsZSxzLG4pe2NvbnN0IGk9dGhpcy50b1NlY29uZHMocyk7aWYodGhpcy50cmlnZ2VyQXR0YWNrKHQsaSxuKSxkaShlKSl7dGkoZGkodCksXCJJZiB0aGUgZHVyYXRpb24gaXMgYW4gYXJyYXksIHRoZSBub3RlcyBtdXN0IGFsc28gYmUgYW4gYXJyYXlcIiksdD10O2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXtjb25zdCBuPWVbTWF0aC5taW4ocyxlLmxlbmd0aC0xKV0sbz10aGlzLnRvU2Vjb25kcyhuKTt0aShvPjAsXCJUaGUgZHVyYXRpb24gbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiKSx0aGlzLnRyaWdnZXJSZWxlYXNlKHRbc10saStvKX19ZWxzZXtjb25zdCBzPXRoaXMudG9TZWNvbmRzKGUpO3RpKHM+MCxcIlRoZSBkdXJhdGlvbiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpLHRoaXMudHJpZ2dlclJlbGVhc2UodCxpK3MpfXJldHVybiB0aGlzfXN5bmMoKXtyZXR1cm4gdGhpcy5fc3luY1N0YXRlKCkmJih0aGlzLl9zeW5jTWV0aG9kKFwidHJpZ2dlckF0dGFja1wiLDEpLHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyUmVsZWFzZVwiLDEpKSx0aGlzfXNldCh0KXtjb25zdCBlPU1pKHQsW1wib25zaWxlbmNlXCIsXCJjb250ZXh0XCJdKTtyZXR1cm4gdGhpcy5vcHRpb25zPUFpKHRoaXMub3B0aW9ucyxlKSx0aGlzLl92b2ljZXMuZm9yRWFjaCh0PT50LnNldChlKSksdGhpcy5fZHVtbXlWb2ljZS5zZXQoZSksdGhpc31nZXQoKXtyZXR1cm4gdGhpcy5fZHVtbXlWb2ljZS5nZXQoKX1yZWxlYXNlQWxsKHQpe2NvbnN0IGU9dGhpcy50b1NlY29uZHModCk7cmV0dXJuIHRoaXMuX2FjdGl2ZVZvaWNlcy5mb3JFYWNoKCh7dm9pY2U6dH0pPT57dC50cmlnZ2VyUmVsZWFzZShlKX0pLHRoaXN9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZHVtbXlWb2ljZS5kaXNwb3NlKCksdGhpcy5fdm9pY2VzLmZvckVhY2godD0+dC5kaXNwb3NlKCkpLHRoaXMuX2FjdGl2ZVZvaWNlcz1bXSx0aGlzLl9hdmFpbGFibGVWb2ljZXM9W10sdGhpcy5jb250ZXh0LmNsZWFySW50ZXJ2YWwodGhpcy5fZ2NUaW1lb3V0KSx0aGlzfX1jbGFzcyBhYSBleHRlbmRzIFZye2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoYWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widXJsc1wiLFwib25sb2FkXCIsXCJiYXNlVXJsXCJdLFwidXJsc1wiKSksdGhpcy5uYW1lPVwiU2FtcGxlclwiLHRoaXMuX2FjdGl2ZVNvdXJjZXM9bmV3IE1hcDtjb25zdCB0PURpKGFhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInVybHNcIixcIm9ubG9hZFwiLFwiYmFzZVVybFwiXSxcInVybHNcIiksZT17fTtPYmplY3Qua2V5cyh0LnVybHMpLmZvckVhY2gocz0+e2NvbnN0IG49cGFyc2VJbnQocywxMCk7aWYodGkoX2kocyl8fHVpKG4pJiZpc0Zpbml0ZShuKSxcInVybCBrZXkgaXMgbmVpdGhlciBhIG5vdGUgb3IgbWlkaSBwaXRjaDogXCIrcyksX2kocykpe2NvbnN0IG49bmV3IGxvKHRoaXMuY29udGV4dCxzKS50b01pZGkoKTtlW25dPXQudXJsc1tzXX1lbHNlIHVpKG4pJiZpc0Zpbml0ZShuKSYmKGVbbl09dC51cmxzW25dKX0pLHRoaXMuX2J1ZmZlcnM9bmV3IFZvKHt1cmxzOmUsb25sb2FkOnQub25sb2FkLGJhc2VVcmw6dC5iYXNlVXJsLG9uZXJyb3I6dC5vbmVycm9yfSksdGhpcy5hdHRhY2s9dC5hdHRhY2ssdGhpcy5yZWxlYXNlPXQucmVsZWFzZSx0aGlzLmN1cnZlPXQuY3VydmUsdGhpcy5fYnVmZmVycy5sb2FkZWQmJlByb21pc2UucmVzb2x2ZSgpLnRoZW4odC5vbmxvYWQpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKFZyLmdldERlZmF1bHRzKCkse2F0dGFjazowLGJhc2VVcmw6XCJcIixjdXJ2ZTpcImV4cG9uZW50aWFsXCIsb25sb2FkOlppLG9uZXJyb3I6WmkscmVsZWFzZTouMSx1cmxzOnt9fSl9X2ZpbmRDbG9zZXN0KHQpe2xldCBlPTA7Zm9yKDtlPDk2Oyl7aWYodGhpcy5fYnVmZmVycy5oYXModCtlKSlyZXR1cm4tZTtpZih0aGlzLl9idWZmZXJzLmhhcyh0LWUpKXJldHVybiBlO2UrK310aHJvdyBuZXcgRXJyb3IoXCJObyBhdmFpbGFibGUgYnVmZmVycyBmb3Igbm90ZTogXCIrdCl9dHJpZ2dlckF0dGFjayh0LGUscz0xKXtyZXR1cm4gdGhpcy5sb2coXCJ0cmlnZ2VyQXR0YWNrXCIsdCxlLHMpLEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdC5mb3JFYWNoKHQ9Pntjb25zdCBuPXJvKG5ldyBsbyh0aGlzLmNvbnRleHQsdCkudG9GcmVxdWVuY3koKSksaT1NYXRoLnJvdW5kKG4pLG89bi1pLHI9dGhpcy5fZmluZENsb3Nlc3QoaSksYT1pLXIsYz10aGlzLl9idWZmZXJzLmdldChhKSxoPW5vKHIrbyksdT1uZXcgJG8oe3VybDpjLGNvbnRleHQ6dGhpcy5jb250ZXh0LGN1cnZlOnRoaXMuY3VydmUsZmFkZUluOnRoaXMuYXR0YWNrLGZhZGVPdXQ6dGhpcy5yZWxlYXNlLHBsYXliYWNrUmF0ZTpofSkuY29ubmVjdCh0aGlzLm91dHB1dCk7dS5zdGFydChlLDAsYy5kdXJhdGlvbi9oLHMpLGRpKHRoaXMuX2FjdGl2ZVNvdXJjZXMuZ2V0KGkpKXx8dGhpcy5fYWN0aXZlU291cmNlcy5zZXQoaSxbXSksdGhpcy5fYWN0aXZlU291cmNlcy5nZXQoaSkucHVzaCh1KSx1Lm9uZW5kZWQ9KCk9PntpZih0aGlzLl9hY3RpdmVTb3VyY2VzJiZ0aGlzLl9hY3RpdmVTb3VyY2VzLmhhcyhpKSl7Y29uc3QgdD10aGlzLl9hY3RpdmVTb3VyY2VzLmdldChpKSxlPXQuaW5kZXhPZih1KTstMSE9PWUmJnQuc3BsaWNlKGUsMSl9fX0pLHRoaXN9dHJpZ2dlclJlbGVhc2UodCxlKXtyZXR1cm4gdGhpcy5sb2coXCJ0cmlnZ2VyUmVsZWFzZVwiLHQsZSksQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSx0LmZvckVhY2godD0+e2NvbnN0IHM9bmV3IGxvKHRoaXMuY29udGV4dCx0KS50b01pZGkoKTtpZih0aGlzLl9hY3RpdmVTb3VyY2VzLmhhcyhzKSYmdGhpcy5fYWN0aXZlU291cmNlcy5nZXQocykubGVuZ3RoKXtjb25zdCB0PXRoaXMuX2FjdGl2ZVNvdXJjZXMuZ2V0KHMpO2U9dGhpcy50b1NlY29uZHMoZSksdC5mb3JFYWNoKHQ9Pnt0LnN0b3AoZSl9KSx0aGlzLl9hY3RpdmVTb3VyY2VzLnNldChzLFtdKX19KSx0aGlzfXJlbGVhc2VBbGwodCl7Y29uc3QgZT10aGlzLnRvU2Vjb25kcyh0KTtyZXR1cm4gdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKHQ9Pntmb3IoO3QubGVuZ3RoOyl7dC5zaGlmdCgpLnN0b3AoZSl9fSksdGhpc31zeW5jKCl7cmV0dXJuIHRoaXMuX3N5bmNTdGF0ZSgpJiYodGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJBdHRhY2tcIiwxKSx0aGlzLl9zeW5jTWV0aG9kKFwidHJpZ2dlclJlbGVhc2VcIiwxKSksdGhpc310cmlnZ2VyQXR0YWNrUmVsZWFzZSh0LGUscyxuPTEpe2NvbnN0IGk9dGhpcy50b1NlY29uZHMocyk7cmV0dXJuIHRoaXMudHJpZ2dlckF0dGFjayh0LGksbiksZGkoZSk/KHRpKGRpKHQpLFwibm90ZXMgbXVzdCBiZSBhbiBhcnJheSB3aGVuIGR1cmF0aW9uIGlzIGFycmF5XCIpLHQuZm9yRWFjaCgodCxzKT0+e2NvbnN0IG49ZVtNYXRoLm1pbihzLGUubGVuZ3RoLTEpXTt0aGlzLnRyaWdnZXJSZWxlYXNlKHQsaSt0aGlzLnRvU2Vjb25kcyhuKSl9KSk6dGhpcy50cmlnZ2VyUmVsZWFzZSh0LGkrdGhpcy50b1NlY29uZHMoZSkpLHRoaXN9YWRkKHQsZSxzKXtpZih0aShfaSh0KXx8aXNGaW5pdGUodCksXCJub3RlIG11c3QgYmUgYSBwaXRjaCBvciBtaWRpOiBcIit0KSxfaSh0KSl7Y29uc3Qgbj1uZXcgbG8odGhpcy5jb250ZXh0LHQpLnRvTWlkaSgpO3RoaXMuX2J1ZmZlcnMuYWRkKG4sZSxzKX1lbHNlIHRoaXMuX2J1ZmZlcnMuYWRkKHQsZSxzKTtyZXR1cm4gdGhpc31nZXQgbG9hZGVkKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnMubG9hZGVkfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2J1ZmZlcnMuZGlzcG9zZSgpLHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaCh0PT57dC5mb3JFYWNoKHQ9PnQuZGlzcG9zZSgpKX0pLHRoaXMuX2FjdGl2ZVNvdXJjZXMuY2xlYXIoKSx0aGlzfX12aShbd3IoMCldLGFhLnByb3RvdHlwZSxcImF0dGFja1wiLHZvaWQgMCksdmkoW3dyKDApXSxhYS5wcm90b3R5cGUsXCJyZWxlYXNlXCIsdm9pZCAwKTtjbGFzcyBjYSBleHRlbmRzIHZve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoY2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcInZhbHVlXCJdKSksdGhpcy5uYW1lPVwiVG9uZUV2ZW50XCIsdGhpcy5fc3RhdGU9bmV3IHlvKFwic3RvcHBlZFwiKSx0aGlzLl9zdGFydE9mZnNldD0wO2NvbnN0IHQ9RGkoY2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcInZhbHVlXCJdKTt0aGlzLl9sb29wPXQubG9vcCx0aGlzLmNhbGxiYWNrPXQuY2FsbGJhY2ssdGhpcy52YWx1ZT10LnZhbHVlLHRoaXMuX2xvb3BTdGFydD10aGlzLnRvVGlja3ModC5sb29wU3RhcnQpLHRoaXMuX2xvb3BFbmQ9dGhpcy50b1RpY2tzKHQubG9vcEVuZCksdGhpcy5fcGxheWJhY2tSYXRlPXQucGxheWJhY2tSYXRlLHRoaXMuX3Byb2JhYmlsaXR5PXQucHJvYmFiaWxpdHksdGhpcy5faHVtYW5pemU9dC5odW1hbml6ZSx0aGlzLm11dGU9dC5tdXRlLHRoaXMuX3BsYXliYWNrUmF0ZT10LnBsYXliYWNrUmF0ZSx0aGlzLl9zdGF0ZS5pbmNyZWFzaW5nPSEwLHRoaXMuX3Jlc2NoZWR1bGVFdmVudHMoKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih2by5nZXREZWZhdWx0cygpLHtjYWxsYmFjazpaaSxodW1hbml6ZTohMSxsb29wOiExLGxvb3BFbmQ6XCIxbVwiLGxvb3BTdGFydDowLG11dGU6ITEscGxheWJhY2tSYXRlOjEscHJvYmFiaWxpdHk6MSx2YWx1ZTpudWxsfSl9X3Jlc2NoZWR1bGVFdmVudHModD0tMSl7dGhpcy5fc3RhdGUuZm9yRWFjaEZyb20odCx0PT57bGV0IGU7aWYoXCJzdGFydGVkXCI9PT10LnN0YXRlKXstMSE9PXQuaWQmJnRoaXMuY29udGV4dC50cmFuc3BvcnQuY2xlYXIodC5pZCk7Y29uc3Qgcz10LnRpbWUrTWF0aC5yb3VuZCh0aGlzLnN0YXJ0T2Zmc2V0L3RoaXMuX3BsYXliYWNrUmF0ZSk7aWYoITA9PT10aGlzLl9sb29wfHx1aSh0aGlzLl9sb29wKSYmdGhpcy5fbG9vcD4xKXtlPTEvMCx1aSh0aGlzLl9sb29wKSYmKGU9dGhpcy5fbG9vcCp0aGlzLl9nZXRMb29wRHVyYXRpb24oKSk7Y29uc3Qgbj10aGlzLl9zdGF0ZS5nZXRBZnRlcihzKTtudWxsIT09biYmKGU9TWF0aC5taW4oZSxuLnRpbWUtcykpLGUhPT0xLzAmJih0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZShcInN0b3BwZWRcIixzK2UrMSx7aWQ6LTF9KSxlPW5ldyBqbyh0aGlzLmNvbnRleHQsZSkpO2NvbnN0IGk9bmV3IGpvKHRoaXMuY29udGV4dCx0aGlzLl9nZXRMb29wRHVyYXRpb24oKSk7dC5pZD10aGlzLmNvbnRleHQudHJhbnNwb3J0LnNjaGVkdWxlUmVwZWF0KHRoaXMuX3RpY2suYmluZCh0aGlzKSxpLG5ldyBqbyh0aGlzLmNvbnRleHQscyksZSl9ZWxzZSB0LmlkPXRoaXMuY29udGV4dC50cmFuc3BvcnQuc2NoZWR1bGUodGhpcy5fdGljay5iaW5kKHRoaXMpLG5ldyBqbyh0aGlzLmNvbnRleHQscykpfX0pfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aGlzLmNvbnRleHQudHJhbnNwb3J0LnRpY2tzKX1nZXQgc3RhcnRPZmZzZXQoKXtyZXR1cm4gdGhpcy5fc3RhcnRPZmZzZXR9c2V0IHN0YXJ0T2Zmc2V0KHQpe3RoaXMuX3N0YXJ0T2Zmc2V0PXR9Z2V0IHByb2JhYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3Byb2JhYmlsaXR5fXNldCBwcm9iYWJpbGl0eSh0KXt0aGlzLl9wcm9iYWJpbGl0eT10fWdldCBodW1hbml6ZSgpe3JldHVybiB0aGlzLl9odW1hbml6ZX1zZXQgaHVtYW5pemUodCl7dGhpcy5faHVtYW5pemU9dH1zdGFydCh0KXtjb25zdCBlPXRoaXMudG9UaWNrcyh0KTtyZXR1cm5cInN0b3BwZWRcIj09PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGUpJiYodGhpcy5fc3RhdGUuYWRkKHtpZDotMSxzdGF0ZTpcInN0YXJ0ZWRcIix0aW1lOmV9KSx0aGlzLl9yZXNjaGVkdWxlRXZlbnRzKGUpKSx0aGlzfXN0b3AodCl7dGhpcy5jYW5jZWwodCk7Y29uc3QgZT10aGlzLnRvVGlja3ModCk7aWYoXCJzdGFydGVkXCI9PT10aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShlKSl7dGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUoXCJzdG9wcGVkXCIsZSx7aWQ6LTF9KTtjb25zdCB0PXRoaXMuX3N0YXRlLmdldEJlZm9yZShlKTtsZXQgcz1lO251bGwhPT10JiYocz10LnRpbWUpLHRoaXMuX3Jlc2NoZWR1bGVFdmVudHMocyl9cmV0dXJuIHRoaXN9Y2FuY2VsKHQpe3Q9T2kodCwtMS8wKTtjb25zdCBlPXRoaXMudG9UaWNrcyh0KTtyZXR1cm4gdGhpcy5fc3RhdGUuZm9yRWFjaEZyb20oZSx0PT57dGhpcy5jb250ZXh0LnRyYW5zcG9ydC5jbGVhcih0LmlkKX0pLHRoaXMuX3N0YXRlLmNhbmNlbChlKSx0aGlzfV90aWNrKHQpe2NvbnN0IGU9dGhpcy5jb250ZXh0LnRyYW5zcG9ydC5nZXRUaWNrc0F0VGltZSh0KTtpZighdGhpcy5tdXRlJiZcInN0YXJ0ZWRcIj09PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGUpKXtpZih0aGlzLnByb2JhYmlsaXR5PDEmJk1hdGgucmFuZG9tKCk+dGhpcy5wcm9iYWJpbGl0eSlyZXR1cm47aWYodGhpcy5odW1hbml6ZSl7bGV0IGU9LjAyO3BpKHRoaXMuaHVtYW5pemUpfHwoZT10aGlzLnRvU2Vjb25kcyh0aGlzLmh1bWFuaXplKSksdCs9KDIqTWF0aC5yYW5kb20oKS0xKSplfXRoaXMuY2FsbGJhY2sodCx0aGlzLnZhbHVlKX19X2dldExvb3BEdXJhdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKCh0aGlzLl9sb29wRW5kLXRoaXMuX2xvb3BTdGFydCkvdGhpcy5fcGxheWJhY2tSYXRlKX1nZXQgbG9vcCgpe3JldHVybiB0aGlzLl9sb29wfXNldCBsb29wKHQpe3RoaXMuX2xvb3A9dCx0aGlzLl9yZXNjaGVkdWxlRXZlbnRzKCl9Z2V0IHBsYXliYWNrUmF0ZSgpe3JldHVybiB0aGlzLl9wbGF5YmFja1JhdGV9c2V0IHBsYXliYWNrUmF0ZSh0KXt0aGlzLl9wbGF5YmFja1JhdGU9dCx0aGlzLl9yZXNjaGVkdWxlRXZlbnRzKCl9Z2V0IGxvb3BFbmQoKXtyZXR1cm4gbmV3IGpvKHRoaXMuY29udGV4dCx0aGlzLl9sb29wRW5kKS50b1NlY29uZHMoKX1zZXQgbG9vcEVuZCh0KXt0aGlzLl9sb29wRW5kPXRoaXMudG9UaWNrcyh0KSx0aGlzLl9sb29wJiZ0aGlzLl9yZXNjaGVkdWxlRXZlbnRzKCl9Z2V0IGxvb3BTdGFydCgpe3JldHVybiBuZXcgam8odGhpcy5jb250ZXh0LHRoaXMuX2xvb3BTdGFydCkudG9TZWNvbmRzKCl9c2V0IGxvb3BTdGFydCh0KXt0aGlzLl9sb29wU3RhcnQ9dGhpcy50b1RpY2tzKHQpLHRoaXMuX2xvb3AmJnRoaXMuX3Jlc2NoZWR1bGVFdmVudHMoKX1nZXQgcHJvZ3Jlc3MoKXtpZih0aGlzLl9sb29wKXtjb25zdCB0PXRoaXMuY29udGV4dC50cmFuc3BvcnQudGlja3MsZT10aGlzLl9zdGF0ZS5nZXQodCk7aWYobnVsbCE9PWUmJlwic3RhcnRlZFwiPT09ZS5zdGF0ZSl7Y29uc3Qgcz10aGlzLl9nZXRMb29wRHVyYXRpb24oKTtyZXR1cm4odC1lLnRpbWUpJXMvc31yZXR1cm4gMH1yZXR1cm4gMH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmNhbmNlbCgpLHRoaXMuX3N0YXRlLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBoYSBleHRlbmRzIHZve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoaGEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImludGVydmFsXCJdKSksdGhpcy5uYW1lPVwiTG9vcFwiO2NvbnN0IHQ9RGkoaGEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImludGVydmFsXCJdKTt0aGlzLl9ldmVudD1uZXcgY2Eoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGNhbGxiYWNrOnRoaXMuX3RpY2suYmluZCh0aGlzKSxsb29wOiEwLGxvb3BFbmQ6dC5pbnRlcnZhbCxwbGF5YmFja1JhdGU6dC5wbGF5YmFja1JhdGUscHJvYmFiaWxpdHk6dC5wcm9iYWJpbGl0eX0pLHRoaXMuY2FsbGJhY2s9dC5jYWxsYmFjayx0aGlzLml0ZXJhdGlvbnM9dC5pdGVyYXRpb25zfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHZvLmdldERlZmF1bHRzKCkse2ludGVydmFsOlwiNG5cIixjYWxsYmFjazpaaSxwbGF5YmFja1JhdGU6MSxpdGVyYXRpb25zOjEvMCxwcm9iYWJpbGl0eToxLG11dGU6ITEsaHVtYW5pemU6ITF9KX1zdGFydCh0KXtyZXR1cm4gdGhpcy5fZXZlbnQuc3RhcnQodCksdGhpc31zdG9wKHQpe3JldHVybiB0aGlzLl9ldmVudC5zdG9wKHQpLHRoaXN9Y2FuY2VsKHQpe3JldHVybiB0aGlzLl9ldmVudC5jYW5jZWwodCksdGhpc31fdGljayh0KXt0aGlzLmNhbGxiYWNrKHQpfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9ldmVudC5zdGF0ZX1nZXQgcHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy5fZXZlbnQucHJvZ3Jlc3N9Z2V0IGludGVydmFsKCl7cmV0dXJuIHRoaXMuX2V2ZW50Lmxvb3BFbmR9c2V0IGludGVydmFsKHQpe3RoaXMuX2V2ZW50Lmxvb3BFbmQ9dH1nZXQgcGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMuX2V2ZW50LnBsYXliYWNrUmF0ZX1zZXQgcGxheWJhY2tSYXRlKHQpe3RoaXMuX2V2ZW50LnBsYXliYWNrUmF0ZT10fWdldCBodW1hbml6ZSgpe3JldHVybiB0aGlzLl9ldmVudC5odW1hbml6ZX1zZXQgaHVtYW5pemUodCl7dGhpcy5fZXZlbnQuaHVtYW5pemU9dH1nZXQgcHJvYmFiaWxpdHkoKXtyZXR1cm4gdGhpcy5fZXZlbnQucHJvYmFiaWxpdHl9c2V0IHByb2JhYmlsaXR5KHQpe3RoaXMuX2V2ZW50LnByb2JhYmlsaXR5PXR9Z2V0IG11dGUoKXtyZXR1cm4gdGhpcy5fZXZlbnQubXV0ZX1zZXQgbXV0ZSh0KXt0aGlzLl9ldmVudC5tdXRlPXR9Z2V0IGl0ZXJhdGlvbnMoKXtyZXR1cm4hMD09PXRoaXMuX2V2ZW50Lmxvb3A/MS8wOnRoaXMuX2V2ZW50Lmxvb3B9c2V0IGl0ZXJhdGlvbnModCl7dGhpcy5fZXZlbnQubG9vcD10PT09MS8wfHx0fWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2V2ZW50LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyB1YSBleHRlbmRzIGNhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkodWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImV2ZW50c1wiXSkpLHRoaXMubmFtZT1cIlBhcnRcIix0aGlzLl9zdGF0ZT1uZXcgeW8oXCJzdG9wcGVkXCIpLHRoaXMuX2V2ZW50cz1uZXcgU2V0O2NvbnN0IHQ9RGkodWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImV2ZW50c1wiXSk7dGhpcy5fc3RhdGUuaW5jcmVhc2luZz0hMCx0LmV2ZW50cy5mb3JFYWNoKHQ9PntkaSh0KT90aGlzLmFkZCh0WzBdLHRbMV0pOnRoaXMuYWRkKHQpfSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oY2EuZ2V0RGVmYXVsdHMoKSx7ZXZlbnRzOltdfSl9c3RhcnQodCxlKXtjb25zdCBzPXRoaXMudG9UaWNrcyh0KTtpZihcInN0YXJ0ZWRcIiE9PXRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHMpKXtlPU9pKGUsdGhpcy5fbG9vcD90aGlzLl9sb29wU3RhcnQ6MCksZT10aGlzLl9sb29wP09pKGUsdGhpcy5fbG9vcFN0YXJ0KTpPaShlLDApO2NvbnN0IHQ9dGhpcy50b1RpY2tzKGUpO3RoaXMuX3N0YXRlLmFkZCh7aWQ6LTEsb2Zmc2V0OnQsc3RhdGU6XCJzdGFydGVkXCIsdGltZTpzfSksdGhpcy5fZm9yRWFjaChlPT57dGhpcy5fc3RhcnROb3RlKGUscyx0KX0pfXJldHVybiB0aGlzfV9zdGFydE5vdGUodCxlLHMpe2UtPXMsdGhpcy5fbG9vcD90LnN0YXJ0T2Zmc2V0Pj10aGlzLl9sb29wU3RhcnQmJnQuc3RhcnRPZmZzZXQ8dGhpcy5fbG9vcEVuZD8odC5zdGFydE9mZnNldDxzJiYoZSs9dGhpcy5fZ2V0TG9vcER1cmF0aW9uKCkpLHQuc3RhcnQobmV3IGpvKHRoaXMuY29udGV4dCxlKSkpOnQuc3RhcnRPZmZzZXQ8dGhpcy5fbG9vcFN0YXJ0JiZ0LnN0YXJ0T2Zmc2V0Pj1zJiYodC5sb29wPSExLHQuc3RhcnQobmV3IGpvKHRoaXMuY29udGV4dCxlKSkpOnQuc3RhcnRPZmZzZXQ+PXMmJnQuc3RhcnQobmV3IGpvKHRoaXMuY29udGV4dCxlKSl9Z2V0IHN0YXJ0T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3N0YXJ0T2Zmc2V0fXNldCBzdGFydE9mZnNldCh0KXt0aGlzLl9zdGFydE9mZnNldD10LHRoaXMuX2ZvckVhY2godD0+e3Quc3RhcnRPZmZzZXQrPXRoaXMuX3N0YXJ0T2Zmc2V0fSl9c3RvcCh0KXtjb25zdCBlPXRoaXMudG9UaWNrcyh0KTtyZXR1cm4gdGhpcy5fc3RhdGUuY2FuY2VsKGUpLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKFwic3RvcHBlZFwiLGUpLHRoaXMuX2ZvckVhY2goZT0+e2Uuc3RvcCh0KX0pLHRoaXN9YXQodCxlKXtjb25zdCBzPW5ldyBtbyh0aGlzLmNvbnRleHQsdCkudG9UaWNrcygpLG49bmV3IGpvKHRoaXMuY29udGV4dCwxKS50b1NlY29uZHMoKSxpPXRoaXMuX2V2ZW50cy52YWx1ZXMoKTtsZXQgbz1pLm5leHQoKTtmb3IoOyFvLmRvbmU7KXtjb25zdCB0PW8udmFsdWU7aWYoTWF0aC5hYnMocy10LnN0YXJ0T2Zmc2V0KTxuKXJldHVybiBjaShlKSYmKHQudmFsdWU9ZSksdDtvPWkubmV4dCgpfXJldHVybiBjaShlKT8odGhpcy5hZGQodCxlKSx0aGlzLmF0KHQpKTpudWxsfWFkZCh0LGUpe3QgaW5zdGFuY2VvZiBPYmplY3QmJlJlZmxlY3QuaGFzKHQsXCJ0aW1lXCIpJiYodD0oZT10KS50aW1lKTtjb25zdCBzPXRoaXMudG9UaWNrcyh0KTtsZXQgbjtyZXR1cm4gZSBpbnN0YW5jZW9mIGNhPyhuPWUsbi5jYWxsYmFjaz10aGlzLl90aWNrLmJpbmQodGhpcykpOm49bmV3IGNhKHtjYWxsYmFjazp0aGlzLl90aWNrLmJpbmQodGhpcyksY29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6ZX0pLG4uc3RhcnRPZmZzZXQ9cyxuLnNldCh7aHVtYW5pemU6dGhpcy5odW1hbml6ZSxsb29wOnRoaXMubG9vcCxsb29wRW5kOnRoaXMubG9vcEVuZCxsb29wU3RhcnQ6dGhpcy5sb29wU3RhcnQscGxheWJhY2tSYXRlOnRoaXMucGxheWJhY2tSYXRlLHByb2JhYmlsaXR5OnRoaXMucHJvYmFiaWxpdHl9KSx0aGlzLl9ldmVudHMuYWRkKG4pLHRoaXMuX3Jlc3RhcnRFdmVudChuKSx0aGlzfV9yZXN0YXJ0RXZlbnQodCl7dGhpcy5fc3RhdGUuZm9yRWFjaChlPT57XCJzdGFydGVkXCI9PT1lLnN0YXRlP3RoaXMuX3N0YXJ0Tm90ZSh0LGUudGltZSxlLm9mZnNldCk6dC5zdG9wKG5ldyBqbyh0aGlzLmNvbnRleHQsZS50aW1lKSl9KX1yZW1vdmUodCxlKXtyZXR1cm4gbGkodCkmJnQuaGFzT3duUHJvcGVydHkoXCJ0aW1lXCIpJiYodD0oZT10KS50aW1lKSx0PXRoaXMudG9UaWNrcyh0KSx0aGlzLl9ldmVudHMuZm9yRWFjaChzPT57cy5zdGFydE9mZnNldD09PXQmJihhaShlKXx8Y2koZSkmJnMudmFsdWU9PT1lKSYmKHRoaXMuX2V2ZW50cy5kZWxldGUocykscy5kaXNwb3NlKCkpfSksdGhpc31jbGVhcigpe3JldHVybiB0aGlzLl9mb3JFYWNoKHQ9PnQuZGlzcG9zZSgpKSx0aGlzLl9ldmVudHMuY2xlYXIoKSx0aGlzfWNhbmNlbCh0KXtyZXR1cm4gdGhpcy5fZm9yRWFjaChlPT5lLmNhbmNlbCh0KSksdGhpcy5fc3RhdGUuY2FuY2VsKHRoaXMudG9UaWNrcyh0KSksdGhpc31fZm9yRWFjaCh0KXtyZXR1cm4gdGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMuZm9yRWFjaChlPT57ZSBpbnN0YW5jZW9mIHVhP2UuX2ZvckVhY2godCk6dChlKX0pLHRoaXN9X3NldEFsbCh0LGUpe3RoaXMuX2ZvckVhY2gocz0+e3NbdF09ZX0pfV90aWNrKHQsZSl7dGhpcy5tdXRlfHx0aGlzLmNhbGxiYWNrKHQsZSl9X3Rlc3RMb29wQm91bmRyaWVzKHQpe3RoaXMuX2xvb3AmJih0LnN0YXJ0T2Zmc2V0PHRoaXMuX2xvb3BTdGFydHx8dC5zdGFydE9mZnNldD49dGhpcy5fbG9vcEVuZCk/dC5jYW5jZWwoMCk6XCJzdG9wcGVkXCI9PT10LnN0YXRlJiZ0aGlzLl9yZXN0YXJ0RXZlbnQodCl9Z2V0IHByb2JhYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3Byb2JhYmlsaXR5fXNldCBwcm9iYWJpbGl0eSh0KXt0aGlzLl9wcm9iYWJpbGl0eT10LHRoaXMuX3NldEFsbChcInByb2JhYmlsaXR5XCIsdCl9Z2V0IGh1bWFuaXplKCl7cmV0dXJuIHRoaXMuX2h1bWFuaXplfXNldCBodW1hbml6ZSh0KXt0aGlzLl9odW1hbml6ZT10LHRoaXMuX3NldEFsbChcImh1bWFuaXplXCIsdCl9Z2V0IGxvb3AoKXtyZXR1cm4gdGhpcy5fbG9vcH1zZXQgbG9vcCh0KXt0aGlzLl9sb29wPXQsdGhpcy5fZm9yRWFjaChlPT57ZS5sb29wU3RhcnQ9dGhpcy5sb29wU3RhcnQsZS5sb29wRW5kPXRoaXMubG9vcEVuZCxlLmxvb3A9dCx0aGlzLl90ZXN0TG9vcEJvdW5kcmllcyhlKX0pfWdldCBsb29wRW5kKCl7cmV0dXJuIG5ldyBqbyh0aGlzLmNvbnRleHQsdGhpcy5fbG9vcEVuZCkudG9TZWNvbmRzKCl9c2V0IGxvb3BFbmQodCl7dGhpcy5fbG9vcEVuZD10aGlzLnRvVGlja3ModCksdGhpcy5fbG9vcCYmdGhpcy5fZm9yRWFjaChlPT57ZS5sb29wRW5kPXQsdGhpcy5fdGVzdExvb3BCb3VuZHJpZXMoZSl9KX1nZXQgbG9vcFN0YXJ0KCl7cmV0dXJuIG5ldyBqbyh0aGlzLmNvbnRleHQsdGhpcy5fbG9vcFN0YXJ0KS50b1NlY29uZHMoKX1zZXQgbG9vcFN0YXJ0KHQpe3RoaXMuX2xvb3BTdGFydD10aGlzLnRvVGlja3ModCksdGhpcy5fbG9vcCYmdGhpcy5fZm9yRWFjaCh0PT57dC5sb29wU3RhcnQ9dGhpcy5sb29wU3RhcnQsdGhpcy5fdGVzdExvb3BCb3VuZHJpZXModCl9KX1nZXQgcGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMuX3BsYXliYWNrUmF0ZX1zZXQgcGxheWJhY2tSYXRlKHQpe3RoaXMuX3BsYXliYWNrUmF0ZT10LHRoaXMuX3NldEFsbChcInBsYXliYWNrUmF0ZVwiLHQpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fZXZlbnRzLnNpemV9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5jbGVhcigpLHRoaXN9fWZ1bmN0aW9uKmxhKHQpe2xldCBlPTA7Zm9yKDtlPHQubGVuZ3RoOyllPWZhKGUsdCkseWllbGQgdFtlXSxlKyt9ZnVuY3Rpb24qcGEodCl7bGV0IGU9dC5sZW5ndGgtMTtmb3IoO2U+PTA7KWU9ZmEoZSx0KSx5aWVsZCB0W2VdLGUtLX1mdW5jdGlvbipkYSh0LGUpe2Zvcig7Oyl5aWVsZCplKHQpfWZ1bmN0aW9uIGZhKHQsZSl7cmV0dXJuIFZpKHQsMCxlLmxlbmd0aC0xKX1mdW5jdGlvbipfYSh0LGUpe2xldCBzPWU/MDp0Lmxlbmd0aC0xO2Zvcig7OylzPWZhKHMsdCkseWllbGQgdFtzXSxlPyhzKysscz49dC5sZW5ndGgtMSYmKGU9ITEpKToocy0tLHM8PTAmJihlPSEwKSl9ZnVuY3Rpb24qbWEodCl7bGV0IGU9MCxzPTA7Zm9yKDtlPHQubGVuZ3RoOyllPWZhKGUsdCkseWllbGQgdFtlXSxzKyssZSs9cyUyPzI6LTF9ZnVuY3Rpb24qZ2EodCl7bGV0IGU9dC5sZW5ndGgtMSxzPTA7Zm9yKDtlPj0wOyllPWZhKGUsdCkseWllbGQgdFtlXSxzKyssZSs9cyUyPy0yOjF9ZnVuY3Rpb24qdmEodCl7Y29uc3QgZT1bXTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyllLnB1c2gocyk7Zm9yKDtlLmxlbmd0aD4wOyl7Y29uc3Qgcz1mYShlLnNwbGljZShNYXRoLmZsb29yKGUubGVuZ3RoKk1hdGgucmFuZG9tKCkpLDEpWzBdLHQpO3lpZWxkIHRbc119fWZ1bmN0aW9uKnlhKHQsZT1cInVwXCIscz0wKXtzd2l0Y2godGkodC5sZW5ndGg+MCxcIlRoZSBhcnJheSBtdXN0IGhhdmUgbW9yZSB0aGFuIG9uZSB2YWx1ZSBpbiBpdFwiKSxlKXtjYXNlXCJ1cFwiOnlpZWxkKmRhKHQsbGEpO2Nhc2VcImRvd25cIjp5aWVsZCpkYSh0LHBhKTtjYXNlXCJ1cERvd25cIjp5aWVsZCpfYSh0LCEwKTtjYXNlXCJkb3duVXBcIjp5aWVsZCpfYSh0LCExKTtjYXNlXCJhbHRlcm5hdGVVcFwiOnlpZWxkKmRhKHQsbWEpO2Nhc2VcImFsdGVybmF0ZURvd25cIjp5aWVsZCpkYSh0LGdhKTtjYXNlXCJyYW5kb21cIjp5aWVsZCpmdW5jdGlvbioodCl7Zm9yKDs7KXtjb25zdCBlPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCk7eWllbGQgdFtlXX19KHQpO2Nhc2VcInJhbmRvbU9uY2VcIjp5aWVsZCpkYSh0LHZhKTtjYXNlXCJyYW5kb21XYWxrXCI6eWllbGQqZnVuY3Rpb24qKHQpe2xldCBlPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCk7Zm9yKDs7KTA9PT1lP2UrKzplPT09dC5sZW5ndGgtMXx8TWF0aC5yYW5kb20oKTwuNT9lLS06ZSsrLHlpZWxkIHRbZV19KHQpfX1jbGFzcyB4YSBleHRlbmRzIGhhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoeGEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcInZhbHVlc1wiLFwicGF0dGVyblwiXSkpLHRoaXMubmFtZT1cIlBhdHRlcm5cIjtjb25zdCB0PURpKHhhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImNhbGxiYWNrXCIsXCJ2YWx1ZXNcIixcInBhdHRlcm5cIl0pO3RoaXMuY2FsbGJhY2s9dC5jYWxsYmFjayx0aGlzLl92YWx1ZXM9dC52YWx1ZXMsdGhpcy5fcGF0dGVybj15YSh0LnZhbHVlcyx0LnBhdHRlcm4pLHRoaXMuX3R5cGU9dC5wYXR0ZXJufXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKGhhLmdldERlZmF1bHRzKCkse3BhdHRlcm46XCJ1cFwiLHZhbHVlczpbXSxjYWxsYmFjazpaaX0pfV90aWNrKHQpe2NvbnN0IGU9dGhpcy5fcGF0dGVybi5uZXh0KCk7dGhpcy5fdmFsdWU9ZS52YWx1ZSx0aGlzLmNhbGxiYWNrKHQsdGhpcy5fdmFsdWUpfWdldCB2YWx1ZXMoKXtyZXR1cm4gdGhpcy5fdmFsdWVzfXNldCB2YWx1ZXModCl7dGhpcy5fdmFsdWVzPXQsdGhpcy5wYXR0ZXJuPXRoaXMuX3R5cGV9Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfWdldCBwYXR0ZXJuKCl7cmV0dXJuIHRoaXMuX3R5cGV9c2V0IHBhdHRlcm4odCl7dGhpcy5fdHlwZT10LHRoaXMuX3BhdHRlcm49eWEodGhpcy5fdmFsdWVzLHRoaXMuX3R5cGUpfX1jbGFzcyB3YSBleHRlbmRzIGNhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkod2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImV2ZW50c1wiLFwic3ViZGl2aXNpb25cIl0pKSx0aGlzLm5hbWU9XCJTZXF1ZW5jZVwiLHRoaXMuX3BhcnQ9bmV3IHVhKHtjYWxsYmFjazp0aGlzLl9zZXFDYWxsYmFjay5iaW5kKHRoaXMpLGNvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5fZXZlbnRzPVtdLHRoaXMuX2V2ZW50c0FycmF5PVtdO2NvbnN0IHQ9RGkod2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImV2ZW50c1wiLFwic3ViZGl2aXNpb25cIl0pO3RoaXMuX3N1YmRpdmlzaW9uPXRoaXMudG9UaWNrcyh0LnN1YmRpdmlzaW9uKSx0aGlzLmV2ZW50cz10LmV2ZW50cyx0aGlzLmxvb3A9dC5sb29wLHRoaXMubG9vcFN0YXJ0PXQubG9vcFN0YXJ0LHRoaXMubG9vcEVuZD10Lmxvb3BFbmQsdGhpcy5wbGF5YmFja1JhdGU9dC5wbGF5YmFja1JhdGUsdGhpcy5wcm9iYWJpbGl0eT10LnByb2JhYmlsaXR5LHRoaXMuaHVtYW5pemU9dC5odW1hbml6ZSx0aGlzLm11dGU9dC5tdXRlLHRoaXMucGxheWJhY2tSYXRlPXQucGxheWJhY2tSYXRlfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKE1pKGNhLmdldERlZmF1bHRzKCksW1widmFsdWVcIl0pLHtldmVudHM6W10sbG9vcDohMCxsb29wRW5kOjAsbG9vcFN0YXJ0OjAsc3ViZGl2aXNpb246XCI4blwifSl9X3NlcUNhbGxiYWNrKHQsZSl7bnVsbCE9PWUmJnRoaXMuY2FsbGJhY2sodCxlKX1nZXQgZXZlbnRzKCl7cmV0dXJuIHRoaXMuX2V2ZW50c31zZXQgZXZlbnRzKHQpe3RoaXMuY2xlYXIoKSx0aGlzLl9ldmVudHNBcnJheT10LHRoaXMuX2V2ZW50cz10aGlzLl9jcmVhdGVTZXF1ZW5jZSh0aGlzLl9ldmVudHNBcnJheSksdGhpcy5fZXZlbnRzVXBkYXRlZCgpfXN0YXJ0KHQsZSl7cmV0dXJuIHRoaXMuX3BhcnQuc3RhcnQodCxlP3RoaXMuX2luZGV4VGltZShlKTplKSx0aGlzfXN0b3AodCl7cmV0dXJuIHRoaXMuX3BhcnQuc3RvcCh0KSx0aGlzfWdldCBzdWJkaXZpc2lvbigpe3JldHVybiBuZXcgam8odGhpcy5jb250ZXh0LHRoaXMuX3N1YmRpdmlzaW9uKS50b1NlY29uZHMoKX1fY3JlYXRlU2VxdWVuY2UodCl7cmV0dXJuIG5ldyBQcm94eSh0LHtnZXQ6KHQsZSk9PnRbZV0sc2V0Oih0LGUscyk9PihmaShlKSYmaXNGaW5pdGUocGFyc2VJbnQoZSwxMCkpJiZkaShzKT90W2VdPXRoaXMuX2NyZWF0ZVNlcXVlbmNlKHMpOnRbZV09cyx0aGlzLl9ldmVudHNVcGRhdGVkKCksITApfSl9X2V2ZW50c1VwZGF0ZWQoKXt0aGlzLl9wYXJ0LmNsZWFyKCksdGhpcy5fcmVzY2hlZHVsZVNlcXVlbmNlKHRoaXMuX2V2ZW50c0FycmF5LHRoaXMuX3N1YmRpdmlzaW9uLHRoaXMuc3RhcnRPZmZzZXQpLHRoaXMubG9vcEVuZD10aGlzLmxvb3BFbmR9X3Jlc2NoZWR1bGVTZXF1ZW5jZSh0LGUscyl7dC5mb3JFYWNoKCh0LG4pPT57Y29uc3QgaT1uKmUrcztpZihkaSh0KSl0aGlzLl9yZXNjaGVkdWxlU2VxdWVuY2UodCxlL3QubGVuZ3RoLGkpO2Vsc2V7Y29uc3QgZT1uZXcgam8odGhpcy5jb250ZXh0LGksXCJpXCIpLnRvU2Vjb25kcygpO3RoaXMuX3BhcnQuYWRkKGUsdCl9fSl9X2luZGV4VGltZSh0KXtyZXR1cm4gbmV3IGpvKHRoaXMuY29udGV4dCx0KnRoaXMuX3N1YmRpdmlzaW9uK3RoaXMuc3RhcnRPZmZzZXQpLnRvU2Vjb25kcygpfWNsZWFyKCl7cmV0dXJuIHRoaXMuX3BhcnQuY2xlYXIoKSx0aGlzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3BhcnQuZGlzcG9zZSgpLHRoaXN9Z2V0IGxvb3AoKXtyZXR1cm4gdGhpcy5fcGFydC5sb29wfXNldCBsb29wKHQpe3RoaXMuX3BhcnQubG9vcD10fWdldCBsb29wU3RhcnQoKXtyZXR1cm4gdGhpcy5fbG9vcFN0YXJ0fXNldCBsb29wU3RhcnQodCl7dGhpcy5fbG9vcFN0YXJ0PXQsdGhpcy5fcGFydC5sb29wU3RhcnQ9dGhpcy5faW5kZXhUaW1lKHQpfWdldCBsb29wRW5kKCl7cmV0dXJuIHRoaXMuX2xvb3BFbmR9c2V0IGxvb3BFbmQodCl7dGhpcy5fbG9vcEVuZD10LHRoaXMuX3BhcnQubG9vcEVuZD0wPT09dD90aGlzLl9pbmRleFRpbWUodGhpcy5fZXZlbnRzQXJyYXkubGVuZ3RoKTp0aGlzLl9pbmRleFRpbWUodCl9Z2V0IHN0YXJ0T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3BhcnQuc3RhcnRPZmZzZXR9c2V0IHN0YXJ0T2Zmc2V0KHQpe3RoaXMuX3BhcnQuc3RhcnRPZmZzZXQ9dH1nZXQgcGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMuX3BhcnQucGxheWJhY2tSYXRlfXNldCBwbGF5YmFja1JhdGUodCl7dGhpcy5fcGFydC5wbGF5YmFja1JhdGU9dH1nZXQgcHJvYmFiaWxpdHkoKXtyZXR1cm4gdGhpcy5fcGFydC5wcm9iYWJpbGl0eX1zZXQgcHJvYmFiaWxpdHkodCl7dGhpcy5fcGFydC5wcm9iYWJpbGl0eT10fWdldCBwcm9ncmVzcygpe3JldHVybiB0aGlzLl9wYXJ0LnByb2dyZXNzfWdldCBodW1hbml6ZSgpe3JldHVybiB0aGlzLl9wYXJ0Lmh1bWFuaXplfXNldCBodW1hbml6ZSh0KXt0aGlzLl9wYXJ0Lmh1bWFuaXplPXR9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9wYXJ0Lmxlbmd0aH19Y2xhc3MgYmEgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKE9iamVjdC5hc3NpZ24oRGkoYmEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZmFkZVwiXSkpKSx0aGlzLm5hbWU9XCJDcm9zc0ZhZGVcIix0aGlzLl9wYW5uZXI9dGhpcy5jb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpLHRoaXMuX3NwbGl0PXRoaXMuY29udGV4dC5jcmVhdGVDaGFubmVsU3BsaXR0ZXIoMiksdGhpcy5fZzJhPW5ldyBDcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLmE9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOjB9KSx0aGlzLmI9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOjB9KSx0aGlzLm91dHB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5faW50ZXJuYWxDaGFubmVscz1bdGhpcy5hLHRoaXMuYl07Y29uc3QgdD1EaShiYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmYWRlXCJdKTt0aGlzLmZhZGU9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcIm5vcm1hbFJhbmdlXCIsdmFsdWU6dC5mYWRlfSksVWkodGhpcyxcImZhZGVcIiksdGhpcy5jb250ZXh0LmdldENvbnN0YW50KDEpLmNvbm5lY3QodGhpcy5fcGFubmVyKSx0aGlzLl9wYW5uZXIuY29ubmVjdCh0aGlzLl9zcGxpdCksdGhpcy5fcGFubmVyLmNoYW5uZWxDb3VudD0xLHRoaXMuX3Bhbm5lci5jaGFubmVsQ291bnRNb2RlPVwiZXhwbGljaXRcIixUbyh0aGlzLl9zcGxpdCx0aGlzLmEuZ2FpbiwwKSxUbyh0aGlzLl9zcGxpdCx0aGlzLmIuZ2FpbiwxKSx0aGlzLmZhZGUuY2hhaW4odGhpcy5fZzJhLHRoaXMuX3Bhbm5lci5wYW4pLHRoaXMuYS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLmIuY29ubmVjdCh0aGlzLm91dHB1dCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7ZmFkZTouNX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuYS5kaXNwb3NlKCksdGhpcy5iLmRpc3Bvc2UoKSx0aGlzLm91dHB1dC5kaXNwb3NlKCksdGhpcy5mYWRlLmRpc3Bvc2UoKSx0aGlzLl9nMmEuZGlzcG9zZSgpLHRoaXMuX3Bhbm5lci5kaXNjb25uZWN0KCksdGhpcy5fc3BsaXQuZGlzY29ubmVjdCgpLHRoaXN9fWNsYXNzIFRhIGV4dGVuZHMgd297Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5uYW1lPVwiRWZmZWN0XCIsdGhpcy5fZHJ5V2V0PW5ldyBiYSh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLndldD10aGlzLl9kcnlXZXQuZmFkZSx0aGlzLmVmZmVjdFNlbmQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuZWZmZWN0UmV0dXJuPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLmlucHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLm91dHB1dD10aGlzLl9kcnlXZXQsdGhpcy5pbnB1dC5mYW4odGhpcy5fZHJ5V2V0LmEsdGhpcy5lZmZlY3RTZW5kKSx0aGlzLmVmZmVjdFJldHVybi5jb25uZWN0KHRoaXMuX2RyeVdldC5iKSx0aGlzLndldC5zZXRWYWx1ZUF0VGltZSh0LndldCwwKSx0aGlzLl9pbnRlcm5hbENoYW5uZWxzPVt0aGlzLmVmZmVjdFJldHVybix0aGlzLmVmZmVjdFNlbmRdLFVpKHRoaXMsXCJ3ZXRcIil9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7d2V0OjF9KX1jb25uZWN0RWZmZWN0KHQpe3JldHVybiB0aGlzLl9pbnRlcm5hbENoYW5uZWxzLnB1c2godCksdGhpcy5lZmZlY3RTZW5kLmNoYWluKHQsdGhpcy5lZmZlY3RSZXR1cm4pLHRoaXN9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZHJ5V2V0LmRpc3Bvc2UoKSx0aGlzLmVmZmVjdFNlbmQuZGlzcG9zZSgpLHRoaXMuZWZmZWN0UmV0dXJuLmRpc3Bvc2UoKSx0aGlzLndldC5kaXNwb3NlKCksdGhpc319Y2xhc3MgU2EgZXh0ZW5kcyBUYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm5hbWU9XCJMRk9FZmZlY3RcIix0aGlzLl9sZm89bmV3IHlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxmcmVxdWVuY3k6dC5mcmVxdWVuY3ksYW1wbGl0dWRlOnQuZGVwdGh9KSx0aGlzLmRlcHRoPXRoaXMuX2xmby5hbXBsaXR1ZGUsdGhpcy5mcmVxdWVuY3k9dGhpcy5fbGZvLmZyZXF1ZW5jeSx0aGlzLnR5cGU9dC50eXBlLFVpKHRoaXMsW1wiZnJlcXVlbmN5XCIsXCJkZXB0aFwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oVGEuZ2V0RGVmYXVsdHMoKSx7ZnJlcXVlbmN5OjEsdHlwZTpcInNpbmVcIixkZXB0aDoxfSl9c3RhcnQodCl7cmV0dXJuIHRoaXMuX2xmby5zdGFydCh0KSx0aGlzfXN0b3AodCl7cmV0dXJuIHRoaXMuX2xmby5zdG9wKHQpLHRoaXN9c3luYygpe3JldHVybiB0aGlzLl9sZm8uc3luYygpLHRoaXN9dW5zeW5jKCl7cmV0dXJuIHRoaXMuX2xmby51bnN5bmMoKSx0aGlzfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX2xmby50eXBlfXNldCB0eXBlKHQpe3RoaXMuX2xmby50eXBlPXR9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fbGZvLmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5kZXB0aC5kaXNwb3NlKCksdGhpc319Y2xhc3Mga2EgZXh0ZW5kcyBTYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGthLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwiYmFzZUZyZXF1ZW5jeVwiLFwib2N0YXZlc1wiXSkpLHRoaXMubmFtZT1cIkF1dG9GaWx0ZXJcIjtjb25zdCB0PURpKGthLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwiYmFzZUZyZXF1ZW5jeVwiLFwib2N0YXZlc1wiXSk7dGhpcy5maWx0ZXI9bmV3IFdyKE9iamVjdC5hc3NpZ24odC5maWx0ZXIse2NvbnRleHQ6dGhpcy5jb250ZXh0fSkpLHRoaXMuY29ubmVjdEVmZmVjdCh0aGlzLmZpbHRlciksdGhpcy5fbGZvLmNvbm5lY3QodGhpcy5maWx0ZXIuZnJlcXVlbmN5KSx0aGlzLm9jdGF2ZXM9dC5vY3RhdmVzLHRoaXMuYmFzZUZyZXF1ZW5jeT10LmJhc2VGcmVxdWVuY3l9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oU2EuZ2V0RGVmYXVsdHMoKSx7YmFzZUZyZXF1ZW5jeToyMDAsb2N0YXZlczoyLjYsZmlsdGVyOnt0eXBlOlwibG93cGFzc1wiLHJvbGxvZmY6LTEyLFE6MX19KX1nZXQgYmFzZUZyZXF1ZW5jeSgpe3JldHVybiB0aGlzLl9sZm8ubWlufXNldCBiYXNlRnJlcXVlbmN5KHQpe3RoaXMuX2xmby5taW49dGhpcy50b0ZyZXF1ZW5jeSh0KSx0aGlzLm9jdGF2ZXM9dGhpcy5fb2N0YXZlc31nZXQgb2N0YXZlcygpe3JldHVybiB0aGlzLl9vY3RhdmVzfXNldCBvY3RhdmVzKHQpe3RoaXMuX29jdGF2ZXM9dCx0aGlzLl9sZm8ubWF4PXRoaXMuX2xmby5taW4qTWF0aC5wb3coMix0KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmZpbHRlci5kaXNwb3NlKCksdGhpc319Y2xhc3MgQ2EgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKE9iamVjdC5hc3NpZ24oRGkoQ2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wicGFuXCJdKSkpLHRoaXMubmFtZT1cIlBhbm5lclwiLHRoaXMuX3Bhbm5lcj10aGlzLmNvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyKCksdGhpcy5pbnB1dD10aGlzLl9wYW5uZXIsdGhpcy5vdXRwdXQ9dGhpcy5fcGFubmVyO2NvbnN0IHQ9RGkoQ2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wicGFuXCJdKTt0aGlzLnBhbj1uZXcgeG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHBhcmFtOnRoaXMuX3Bhbm5lci5wYW4sdmFsdWU6dC5wYW4sbWluVmFsdWU6LTEsbWF4VmFsdWU6MX0pLHRoaXMuX3Bhbm5lci5jaGFubmVsQ291bnQ9dC5jaGFubmVsQ291bnQsdGhpcy5fcGFubmVyLmNoYW5uZWxDb3VudE1vZGU9XCJleHBsaWNpdFwiLFVpKHRoaXMsXCJwYW5cIil9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7cGFuOjAsY2hhbm5lbENvdW50OjF9KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9wYW5uZXIuZGlzY29ubmVjdCgpLHRoaXMucGFuLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBBYSBleHRlbmRzIFNhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoQWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCJdKSksdGhpcy5uYW1lPVwiQXV0b1Bhbm5lclwiO2NvbnN0IHQ9RGkoQWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCJdKTt0aGlzLl9wYW5uZXI9bmV3IENhKHtjb250ZXh0OnRoaXMuY29udGV4dCxjaGFubmVsQ291bnQ6dC5jaGFubmVsQ291bnR9KSx0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fcGFubmVyKSx0aGlzLl9sZm8uY29ubmVjdCh0aGlzLl9wYW5uZXIucGFuKSx0aGlzLl9sZm8ubWluPS0xLHRoaXMuX2xmby5tYXg9MX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihTYS5nZXREZWZhdWx0cygpLHtjaGFubmVsQ291bnQ6MX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3Bhbm5lci5kaXNwb3NlKCksdGhpc319Y2xhc3MgRGEgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKERhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInNtb290aGluZ1wiXSkpLHRoaXMubmFtZT1cIkZvbGxvd2VyXCI7Y29uc3QgdD1EaShEYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJzbW9vdGhpbmdcIl0pO3RoaXMuX2Ficz10aGlzLmlucHV0PW5ldyBrcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9sb3dwYXNzPXRoaXMub3V0cHV0PW5ldyBuYSh7Y29udGV4dDp0aGlzLmNvbnRleHQsZnJlcXVlbmN5OjEvdGhpcy50b1NlY29uZHModC5zbW9vdGhpbmcpLHR5cGU6XCJsb3dwYXNzXCJ9KSx0aGlzLl9hYnMuY29ubmVjdCh0aGlzLl9sb3dwYXNzKSx0aGlzLl9zbW9vdGhpbmc9dC5zbW9vdGhpbmd9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7c21vb3RoaW5nOi4wNX0pfWdldCBzbW9vdGhpbmcoKXtyZXR1cm4gdGhpcy5fc21vb3RoaW5nfXNldCBzbW9vdGhpbmcodCl7dGhpcy5fc21vb3RoaW5nPXQsdGhpcy5fbG93cGFzcy5mcmVxdWVuY3k9MS90aGlzLnRvU2Vjb25kcyh0aGlzLnNtb290aGluZyl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fYWJzLmRpc3Bvc2UoKSx0aGlzLl9sb3dwYXNzLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBPYSBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoT2EuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiYmFzZUZyZXF1ZW5jeVwiLFwib2N0YXZlc1wiLFwic2Vuc2l0aXZpdHlcIl0pKSx0aGlzLm5hbWU9XCJBdXRvV2FoXCI7Y29uc3QgdD1EaShPYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJiYXNlRnJlcXVlbmN5XCIsXCJvY3RhdmVzXCIsXCJzZW5zaXRpdml0eVwiXSk7dGhpcy5fZm9sbG93ZXI9bmV3IERhKHtjb250ZXh0OnRoaXMuY29udGV4dCxzbW9vdGhpbmc6dC5mb2xsb3dlcn0pLHRoaXMuX3N3ZWVwUmFuZ2U9bmV3IFJyKHtjb250ZXh0OnRoaXMuY29udGV4dCxtaW46MCxtYXg6MSxleHBvbmVudDouNX0pLHRoaXMuX2Jhc2VGcmVxdWVuY3k9dGhpcy50b0ZyZXF1ZW5jeSh0LmJhc2VGcmVxdWVuY3kpLHRoaXMuX29jdGF2ZXM9dC5vY3RhdmVzLHRoaXMuX2lucHV0Qm9vc3Q9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX2JhbmRwYXNzPW5ldyBXcih7Y29udGV4dDp0aGlzLmNvbnRleHQscm9sbG9mZjotNDgsZnJlcXVlbmN5OjAsUTp0LlF9KSx0aGlzLl9wZWFraW5nPW5ldyBXcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdHlwZTpcInBlYWtpbmdcIn0pLHRoaXMuX3BlYWtpbmcuZ2Fpbi52YWx1ZT10LmdhaW4sdGhpcy5nYWluPXRoaXMuX3BlYWtpbmcuZ2Fpbix0aGlzLlE9dGhpcy5fYmFuZHBhc3MuUSx0aGlzLmVmZmVjdFNlbmQuY2hhaW4odGhpcy5faW5wdXRCb29zdCx0aGlzLl9mb2xsb3dlcix0aGlzLl9zd2VlcFJhbmdlKSx0aGlzLl9zd2VlcFJhbmdlLmNvbm5lY3QodGhpcy5fYmFuZHBhc3MuZnJlcXVlbmN5KSx0aGlzLl9zd2VlcFJhbmdlLmNvbm5lY3QodGhpcy5fcGVha2luZy5mcmVxdWVuY3kpLHRoaXMuZWZmZWN0U2VuZC5jaGFpbih0aGlzLl9iYW5kcGFzcyx0aGlzLl9wZWFraW5nLHRoaXMuZWZmZWN0UmV0dXJuKSx0aGlzLl9zZXRTd2VlcFJhbmdlKCksdGhpcy5zZW5zaXRpdml0eT10LnNlbnNpdGl2aXR5LFVpKHRoaXMsW1wiZ2FpblwiLFwiUVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oVGEuZ2V0RGVmYXVsdHMoKSx7YmFzZUZyZXF1ZW5jeToxMDAsb2N0YXZlczo2LHNlbnNpdGl2aXR5OjAsUToyLGdhaW46Mixmb2xsb3dlcjouMn0pfWdldCBvY3RhdmVzKCl7cmV0dXJuIHRoaXMuX29jdGF2ZXN9c2V0IG9jdGF2ZXModCl7dGhpcy5fb2N0YXZlcz10LHRoaXMuX3NldFN3ZWVwUmFuZ2UoKX1nZXQgZm9sbG93ZXIoKXtyZXR1cm4gdGhpcy5fZm9sbG93ZXIuc21vb3RoaW5nfXNldCBmb2xsb3dlcih0KXt0aGlzLl9mb2xsb3dlci5zbW9vdGhpbmc9dH1nZXQgYmFzZUZyZXF1ZW5jeSgpe3JldHVybiB0aGlzLl9iYXNlRnJlcXVlbmN5fXNldCBiYXNlRnJlcXVlbmN5KHQpe3RoaXMuX2Jhc2VGcmVxdWVuY3k9dGhpcy50b0ZyZXF1ZW5jeSh0KSx0aGlzLl9zZXRTd2VlcFJhbmdlKCl9Z2V0IHNlbnNpdGl2aXR5KCl7cmV0dXJuIHNvKDEvdGhpcy5faW5wdXRCb29zdC5nYWluLnZhbHVlKX1zZXQgc2Vuc2l0aXZpdHkodCl7dGhpcy5faW5wdXRCb29zdC5nYWluLnZhbHVlPTEvZW8odCl9X3NldFN3ZWVwUmFuZ2UoKXt0aGlzLl9zd2VlcFJhbmdlLm1pbj10aGlzLl9iYXNlRnJlcXVlbmN5LHRoaXMuX3N3ZWVwUmFuZ2UubWF4PU1hdGgubWluKHRoaXMuX2Jhc2VGcmVxdWVuY3kqTWF0aC5wb3coMix0aGlzLl9vY3RhdmVzKSx0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZS8yKX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9mb2xsb3dlci5kaXNwb3NlKCksdGhpcy5fc3dlZXBSYW5nZS5kaXNwb3NlKCksdGhpcy5fYmFuZHBhc3MuZGlzcG9zZSgpLHRoaXMuX3BlYWtpbmcuZGlzcG9zZSgpLHRoaXMuX2lucHV0Qm9vc3QuZGlzcG9zZSgpLHRoaXN9fXRhKFwiYml0LWNydXNoZXJcIixcIlxcblxcdGNsYXNzIEJpdENydXNoZXJXb3JrbGV0IGV4dGVuZHMgU2luZ2xlSU9Qcm9jZXNzb3Ige1xcblxcblxcdFxcdHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7XFxuXFx0XFx0XFx0cmV0dXJuIFt7XFxuXFx0XFx0XFx0XFx0bmFtZTogXFxcImJpdHNcXFwiLFxcblxcdFxcdFxcdFxcdGRlZmF1bHRWYWx1ZTogMTIsXFxuXFx0XFx0XFx0XFx0bWluVmFsdWU6IDEsXFxuXFx0XFx0XFx0XFx0bWF4VmFsdWU6IDE2LFxcblxcdFxcdFxcdFxcdGF1dG9tYXRpb25SYXRlOiAnay1yYXRlJ1xcblxcdFxcdFxcdH1dO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRnZW5lcmF0ZShpbnB1dCwgX2NoYW5uZWwsIHBhcmFtZXRlcnMpIHtcXG5cXHRcXHRcXHRjb25zdCBzdGVwID0gTWF0aC5wb3coMC41LCBwYXJhbWV0ZXJzLmJpdHMgLSAxKTtcXG5cXHRcXHRcXHRjb25zdCB2YWwgPSBzdGVwICogTWF0aC5mbG9vcihpbnB1dCAvIHN0ZXAgKyAwLjUpO1xcblxcdFxcdFxcdHJldHVybiB2YWw7XFxuXFx0XFx0fVxcblxcdH1cXG5cIik7Y2xhc3MgTWEgZXh0ZW5kcyBUYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKE1hLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImJpdHNcIl0pKSx0aGlzLm5hbWU9XCJCaXRDcnVzaGVyXCI7Y29uc3QgdD1EaShNYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJiaXRzXCJdKTt0aGlzLl9iaXRDcnVzaGVyV29ya2xldD1uZXcgRWEoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGJpdHM6dC5iaXRzfSksdGhpcy5jb25uZWN0RWZmZWN0KHRoaXMuX2JpdENydXNoZXJXb3JrbGV0KSx0aGlzLmJpdHM9dGhpcy5fYml0Q3J1c2hlcldvcmtsZXQuYml0c31zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihUYS5nZXREZWZhdWx0cygpLHtiaXRzOjR9KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9iaXRDcnVzaGVyV29ya2xldC5kaXNwb3NlKCksdGhpc319Y2xhc3MgRWEgZXh0ZW5kcyBlYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKEVhLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSksdGhpcy5uYW1lPVwiQml0Q3J1c2hlcldvcmtsZXRcIjtjb25zdCB0PURpKEVhLmdldERlZmF1bHRzKCksYXJndW1lbnRzKTt0aGlzLmlucHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLm91dHB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5iaXRzPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6dC5iaXRzLHVuaXRzOlwicG9zaXRpdmVcIixtaW5WYWx1ZToxLG1heFZhbHVlOjE2LHBhcmFtOnRoaXMuX2R1bW15UGFyYW0sc3dhcHBhYmxlOiEwfSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oZWEuZ2V0RGVmYXVsdHMoKSx7Yml0czoxMn0pfV9hdWRpb1dvcmtsZXROYW1lKCl7cmV0dXJuXCJiaXQtY3J1c2hlclwifW9uUmVhZHkodCl7Ym8odGhpcy5pbnB1dCx0LHRoaXMub3V0cHV0KTtjb25zdCBlPXQucGFyYW1ldGVycy5nZXQoXCJiaXRzXCIpO3RoaXMuYml0cy5zZXRQYXJhbShlKX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmlucHV0LmRpc3Bvc2UoKSx0aGlzLm91dHB1dC5kaXNwb3NlKCksdGhpcy5iaXRzLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBSYSBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoUmEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wib3JkZXJcIl0pKSx0aGlzLm5hbWU9XCJDaGVieXNoZXZcIjtjb25zdCB0PURpKFJhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcIm9yZGVyXCJdKTt0aGlzLl9zaGFwZXI9bmV3IHJyKHtjb250ZXh0OnRoaXMuY29udGV4dCxsZW5ndGg6NDA5Nn0pLHRoaXMuX29yZGVyPXQub3JkZXIsdGhpcy5jb25uZWN0RWZmZWN0KHRoaXMuX3NoYXBlciksdGhpcy5vcmRlcj10Lm9yZGVyLHRoaXMub3ZlcnNhbXBsZT10Lm92ZXJzYW1wbGV9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oVGEuZ2V0RGVmYXVsdHMoKSx7b3JkZXI6MSxvdmVyc2FtcGxlOlwibm9uZVwifSl9X2dldENvZWZmaWNpZW50KHQsZSxzKXtyZXR1cm4gcy5oYXMoZSl8fCgwPT09ZT9zLnNldChlLDApOjE9PT1lP3Muc2V0KGUsdCk6cy5zZXQoZSwyKnQqdGhpcy5fZ2V0Q29lZmZpY2llbnQodCxlLTEscyktdGhpcy5fZ2V0Q29lZmZpY2llbnQodCxlLTIscykpKSxzLmdldChlKX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5fb3JkZXJ9c2V0IG9yZGVyKHQpe3RoaXMuX29yZGVyPXQsdGhpcy5fc2hhcGVyLnNldE1hcChlPT50aGlzLl9nZXRDb2VmZmljaWVudChlLHQsbmV3IE1hcCkpfWdldCBvdmVyc2FtcGxlKCl7cmV0dXJuIHRoaXMuX3NoYXBlci5vdmVyc2FtcGxlfXNldCBvdmVyc2FtcGxlKHQpe3RoaXMuX3NoYXBlci5vdmVyc2FtcGxlPXR9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fc2hhcGVyLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBxYSBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkocWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2hhbm5lbHNcIl0pKSx0aGlzLm5hbWU9XCJTcGxpdFwiO2NvbnN0IHQ9RGkocWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2hhbm5lbHNcIl0pO3RoaXMuX3NwbGl0dGVyPXRoaXMuaW5wdXQ9dGhpcy5vdXRwdXQ9dGhpcy5jb250ZXh0LmNyZWF0ZUNoYW5uZWxTcGxpdHRlcih0LmNoYW5uZWxzKSx0aGlzLl9pbnRlcm5hbENoYW5uZWxzPVt0aGlzLl9zcGxpdHRlcl19c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7Y2hhbm5lbHM6Mn0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3NwbGl0dGVyLmRpc2Nvbm5lY3QoKSx0aGlzfX1jbGFzcyBGYSBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoRmEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2hhbm5lbHNcIl0pKSx0aGlzLm5hbWU9XCJNZXJnZVwiO2NvbnN0IHQ9RGkoRmEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiY2hhbm5lbHNcIl0pO3RoaXMuX21lcmdlcj10aGlzLm91dHB1dD10aGlzLmlucHV0PXRoaXMuY29udGV4dC5jcmVhdGVDaGFubmVsTWVyZ2VyKHQuY2hhbm5lbHMpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse2NoYW5uZWxzOjJ9KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9tZXJnZXIuZGlzY29ubmVjdCgpLHRoaXN9fWNsYXNzIElhIGV4dGVuZHMgd297Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5uYW1lPVwiU3RlcmVvRWZmZWN0XCIsdGhpcy5pbnB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5pbnB1dC5jaGFubmVsQ291bnQ9Mix0aGlzLmlucHV0LmNoYW5uZWxDb3VudE1vZGU9XCJleHBsaWNpdFwiLHRoaXMuX2RyeVdldD10aGlzLm91dHB1dD1uZXcgYmEoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGZhZGU6dC53ZXR9KSx0aGlzLndldD10aGlzLl9kcnlXZXQuZmFkZSx0aGlzLl9zcGxpdD1uZXcgcWEoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGNoYW5uZWxzOjJ9KSx0aGlzLl9tZXJnZT1uZXcgRmEoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGNoYW5uZWxzOjJ9KSx0aGlzLmlucHV0LmNvbm5lY3QodGhpcy5fc3BsaXQpLHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLl9kcnlXZXQuYSksdGhpcy5fbWVyZ2UuY29ubmVjdCh0aGlzLl9kcnlXZXQuYiksVWkodGhpcyxbXCJ3ZXRcIl0pfWNvbm5lY3RFZmZlY3RMZWZ0KC4uLnQpe3RoaXMuX3NwbGl0LmNvbm5lY3QodFswXSwwLDApLGJvKC4uLnQpLFRvKHRbdC5sZW5ndGgtMV0sdGhpcy5fbWVyZ2UsMCwwKX1jb25uZWN0RWZmZWN0UmlnaHQoLi4udCl7dGhpcy5fc3BsaXQuY29ubmVjdCh0WzBdLDEsMCksYm8oLi4udCksVG8odFt0Lmxlbmd0aC0xXSx0aGlzLl9tZXJnZSwwLDEpfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse3dldDoxfSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZHJ5V2V0LmRpc3Bvc2UoKSx0aGlzLl9zcGxpdC5kaXNwb3NlKCksdGhpcy5fbWVyZ2UuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIFZhIGV4dGVuZHMgSWF7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5mZWVkYmFjaz1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQuZmVlZGJhY2ssdW5pdHM6XCJub3JtYWxSYW5nZVwifSksdGhpcy5fZmVlZGJhY2tMPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9mZWVkYmFja1I9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX2ZlZWRiYWNrU3BsaXQ9bmV3IHFhKHtjb250ZXh0OnRoaXMuY29udGV4dCxjaGFubmVsczoyfSksdGhpcy5fZmVlZGJhY2tNZXJnZT1uZXcgRmEoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGNoYW5uZWxzOjJ9KSx0aGlzLl9tZXJnZS5jb25uZWN0KHRoaXMuX2ZlZWRiYWNrU3BsaXQpLHRoaXMuX2ZlZWRiYWNrTWVyZ2UuY29ubmVjdCh0aGlzLl9zcGxpdCksdGhpcy5fZmVlZGJhY2tTcGxpdC5jb25uZWN0KHRoaXMuX2ZlZWRiYWNrTCwwLDApLHRoaXMuX2ZlZWRiYWNrTC5jb25uZWN0KHRoaXMuX2ZlZWRiYWNrTWVyZ2UsMCwwKSx0aGlzLl9mZWVkYmFja1NwbGl0LmNvbm5lY3QodGhpcy5fZmVlZGJhY2tSLDEsMCksdGhpcy5fZmVlZGJhY2tSLmNvbm5lY3QodGhpcy5fZmVlZGJhY2tNZXJnZSwwLDEpLHRoaXMuZmVlZGJhY2suZmFuKHRoaXMuX2ZlZWRiYWNrTC5nYWluLHRoaXMuX2ZlZWRiYWNrUi5nYWluKSxVaSh0aGlzLFtcImZlZWRiYWNrXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihJYS5nZXREZWZhdWx0cygpLHtmZWVkYmFjazouNX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuZmVlZGJhY2suZGlzcG9zZSgpLHRoaXMuX2ZlZWRiYWNrTC5kaXNwb3NlKCksdGhpcy5fZmVlZGJhY2tSLmRpc3Bvc2UoKSx0aGlzLl9mZWVkYmFja1NwbGl0LmRpc3Bvc2UoKSx0aGlzLl9mZWVkYmFja01lcmdlLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBOYSBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoTmEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJkZWxheVRpbWVcIixcImRlcHRoXCJdKSksdGhpcy5uYW1lPVwiQ2hvcnVzXCI7Y29uc3QgdD1EaShOYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcImRlbGF5VGltZVwiLFwiZGVwdGhcIl0pO3RoaXMuX2RlcHRoPXQuZGVwdGgsdGhpcy5fZGVsYXlUaW1lPXQuZGVsYXlUaW1lLzFlMyx0aGlzLl9sZm9MPW5ldyB5cih7Y29udGV4dDp0aGlzLmNvbnRleHQsZnJlcXVlbmN5OnQuZnJlcXVlbmN5LG1pbjowLG1heDoxfSksdGhpcy5fbGZvUj1uZXcgeXIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGZyZXF1ZW5jeTp0LmZyZXF1ZW5jeSxtaW46MCxtYXg6MSxwaGFzZToxODB9KSx0aGlzLl9kZWxheU5vZGVMPW5ldyBGbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9kZWxheU5vZGVSPW5ldyBGbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLmZyZXF1ZW5jeT10aGlzLl9sZm9MLmZyZXF1ZW5jeSxVaSh0aGlzLFtcImZyZXF1ZW5jeVwiXSksdGhpcy5fbGZvTC5mcmVxdWVuY3kuY29ubmVjdCh0aGlzLl9sZm9SLmZyZXF1ZW5jeSksdGhpcy5jb25uZWN0RWZmZWN0TGVmdCh0aGlzLl9kZWxheU5vZGVMKSx0aGlzLmNvbm5lY3RFZmZlY3RSaWdodCh0aGlzLl9kZWxheU5vZGVSKSx0aGlzLl9sZm9MLmNvbm5lY3QodGhpcy5fZGVsYXlOb2RlTC5kZWxheVRpbWUpLHRoaXMuX2xmb1IuY29ubmVjdCh0aGlzLl9kZWxheU5vZGVSLmRlbGF5VGltZSksdGhpcy5kZXB0aD10aGlzLl9kZXB0aCx0aGlzLnR5cGU9dC50eXBlLHRoaXMuc3ByZWFkPXQuc3ByZWFkfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKFZhLmdldERlZmF1bHRzKCkse2ZyZXF1ZW5jeToxLjUsZGVsYXlUaW1lOjMuNSxkZXB0aDouNyx0eXBlOlwic2luZVwiLHNwcmVhZDoxODAsZmVlZGJhY2s6MCx3ZXQ6LjV9KX1nZXQgZGVwdGgoKXtyZXR1cm4gdGhpcy5fZGVwdGh9c2V0IGRlcHRoKHQpe3RoaXMuX2RlcHRoPXQ7Y29uc3QgZT10aGlzLl9kZWxheVRpbWUqdDt0aGlzLl9sZm9MLm1pbj1NYXRoLm1heCh0aGlzLl9kZWxheVRpbWUtZSwwKSx0aGlzLl9sZm9MLm1heD10aGlzLl9kZWxheVRpbWUrZSx0aGlzLl9sZm9SLm1pbj1NYXRoLm1heCh0aGlzLl9kZWxheVRpbWUtZSwwKSx0aGlzLl9sZm9SLm1heD10aGlzLl9kZWxheVRpbWUrZX1nZXQgZGVsYXlUaW1lKCl7cmV0dXJuIDFlMyp0aGlzLl9kZWxheVRpbWV9c2V0IGRlbGF5VGltZSh0KXt0aGlzLl9kZWxheVRpbWU9dC8xZTMsdGhpcy5kZXB0aD10aGlzLl9kZXB0aH1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9sZm9MLnR5cGV9c2V0IHR5cGUodCl7dGhpcy5fbGZvTC50eXBlPXQsdGhpcy5fbGZvUi50eXBlPXR9Z2V0IHNwcmVhZCgpe3JldHVybiB0aGlzLl9sZm9SLnBoYXNlLXRoaXMuX2xmb0wucGhhc2V9c2V0IHNwcmVhZCh0KXt0aGlzLl9sZm9MLnBoYXNlPTkwLXQvMix0aGlzLl9sZm9SLnBoYXNlPXQvMis5MH1zdGFydCh0KXtyZXR1cm4gdGhpcy5fbGZvTC5zdGFydCh0KSx0aGlzLl9sZm9SLnN0YXJ0KHQpLHRoaXN9c3RvcCh0KXtyZXR1cm4gdGhpcy5fbGZvTC5zdG9wKHQpLHRoaXMuX2xmb1Iuc3RvcCh0KSx0aGlzfXN5bmMoKXtyZXR1cm4gdGhpcy5fbGZvTC5zeW5jKCksdGhpcy5fbGZvUi5zeW5jKCksdGhpc311bnN5bmMoKXtyZXR1cm4gdGhpcy5fbGZvTC51bnN5bmMoKSx0aGlzLl9sZm9SLnVuc3luYygpLHRoaXN9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fbGZvTC5kaXNwb3NlKCksdGhpcy5fbGZvUi5kaXNwb3NlKCksdGhpcy5fZGVsYXlOb2RlTC5kaXNwb3NlKCksdGhpcy5fZGVsYXlOb2RlUi5kaXNwb3NlKCksdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIFBhIGV4dGVuZHMgVGF7Y29uc3RydWN0b3IoKXtzdXBlcihEaShQYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJkaXN0b3J0aW9uXCJdKSksdGhpcy5uYW1lPVwiRGlzdG9ydGlvblwiO2NvbnN0IHQ9RGkoUGEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZGlzdG9ydGlvblwiXSk7dGhpcy5fc2hhcGVyPW5ldyBycih7Y29udGV4dDp0aGlzLmNvbnRleHQsbGVuZ3RoOjQwOTZ9KSx0aGlzLl9kaXN0b3J0aW9uPXQuZGlzdG9ydGlvbix0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fc2hhcGVyKSx0aGlzLmRpc3RvcnRpb249dC5kaXN0b3J0aW9uLHRoaXMub3ZlcnNhbXBsZT10Lm92ZXJzYW1wbGV9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oVGEuZ2V0RGVmYXVsdHMoKSx7ZGlzdG9ydGlvbjouNCxvdmVyc2FtcGxlOlwibm9uZVwifSl9Z2V0IGRpc3RvcnRpb24oKXtyZXR1cm4gdGhpcy5fZGlzdG9ydGlvbn1zZXQgZGlzdG9ydGlvbih0KXt0aGlzLl9kaXN0b3J0aW9uPXQ7Y29uc3QgZT0xMDAqdCxzPU1hdGguUEkvMTgwO3RoaXMuX3NoYXBlci5zZXRNYXAodD0+TWF0aC5hYnModCk8LjAwMT8wOigzK2UpKnQqMjAqcy8oTWF0aC5QSStlKk1hdGguYWJzKHQpKSl9Z2V0IG92ZXJzYW1wbGUoKXtyZXR1cm4gdGhpcy5fc2hhcGVyLm92ZXJzYW1wbGV9c2V0IG92ZXJzYW1wbGUodCl7dGhpcy5fc2hhcGVyLm92ZXJzYW1wbGU9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9zaGFwZXIuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIGphIGV4dGVuZHMgVGF7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5uYW1lPVwiRmVlZGJhY2tFZmZlY3RcIix0aGlzLl9mZWVkYmFja0dhaW49bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOnQuZmVlZGJhY2ssdW5pdHM6XCJub3JtYWxSYW5nZVwifSksdGhpcy5mZWVkYmFjaz10aGlzLl9mZWVkYmFja0dhaW4uZ2FpbixVaSh0aGlzLFwiZmVlZGJhY2tcIiksdGhpcy5lZmZlY3RSZXR1cm4uY2hhaW4odGhpcy5fZmVlZGJhY2tHYWluLHRoaXMuZWZmZWN0U2VuZCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oVGEuZ2V0RGVmYXVsdHMoKSx7ZmVlZGJhY2s6LjEyNX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2ZlZWRiYWNrR2Fpbi5kaXNwb3NlKCksdGhpcy5mZWVkYmFjay5kaXNwb3NlKCksdGhpc319Y2xhc3MgTGEgZXh0ZW5kcyBqYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKExhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImRlbGF5VGltZVwiLFwiZmVlZGJhY2tcIl0pKSx0aGlzLm5hbWU9XCJGZWVkYmFja0RlbGF5XCI7Y29uc3QgdD1EaShMYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJkZWxheVRpbWVcIixcImZlZWRiYWNrXCJdKTt0aGlzLl9kZWxheU5vZGU9bmV3IEZvKHtjb250ZXh0OnRoaXMuY29udGV4dCxkZWxheVRpbWU6dC5kZWxheVRpbWUsbWF4RGVsYXk6dC5tYXhEZWxheX0pLHRoaXMuZGVsYXlUaW1lPXRoaXMuX2RlbGF5Tm9kZS5kZWxheVRpbWUsdGhpcy5jb25uZWN0RWZmZWN0KHRoaXMuX2RlbGF5Tm9kZSksVWkodGhpcyxcImRlbGF5VGltZVwiKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihqYS5nZXREZWZhdWx0cygpLHtkZWxheVRpbWU6LjI1LG1heERlbGF5OjF9KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9kZWxheU5vZGUuZGlzcG9zZSgpLHRoaXMuZGVsYXlUaW1lLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyB6YSBleHRlbmRzIHdve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMubmFtZT1cIlBoYXNlU2hpZnRBbGxwYXNzXCIsdGhpcy5pbnB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5vdXRwdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMub2Zmc2V0OTA9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pO3RoaXMuX2JhbmswPXRoaXMuX2NyZWF0ZUFsbFBhc3NGaWx0ZXJCYW5rKFsuNjkyMzg3OCwuOTM2MDY1NDMyMjk1OSwuOTg4MjI5NTIyNjg2LC45OTg3NDg4NDUyNzM3XSksdGhpcy5fYmFuazE9dGhpcy5fY3JlYXRlQWxsUGFzc0ZpbHRlckJhbmsoWy40MDIxOTIxMTYyNDI2LC44NTYxNzEwODgyNDIsLjk3MjI5MDk1NDU2NTEsLjk5NTI4ODQ3OTEyNzhdKSx0aGlzLl9vbmVTYW1wbGVEZWxheT10aGlzLmNvbnRleHQuY3JlYXRlSUlSRmlsdGVyKFswLDFdLFsxLDBdKSxibyh0aGlzLmlucHV0LC4uLnRoaXMuX2JhbmswLHRoaXMuX29uZVNhbXBsZURlbGF5LHRoaXMub3V0cHV0KSxibyh0aGlzLmlucHV0LC4uLnRoaXMuX2JhbmsxLHRoaXMub2Zmc2V0OTApfV9jcmVhdGVBbGxQYXNzRmlsdGVyQmFuayh0KXtyZXR1cm4gdC5tYXAodD0+e2NvbnN0IGU9W1t0KnQsMCwtMV0sWzEsMCwtdCp0XV07cmV0dXJuIHRoaXMuY29udGV4dC5jcmVhdGVJSVJGaWx0ZXIoZVswXSxlWzFdKX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuaW5wdXQuZGlzcG9zZSgpLHRoaXMub3V0cHV0LmRpc3Bvc2UoKSx0aGlzLm9mZnNldDkwLmRpc3Bvc2UoKSx0aGlzLl9iYW5rMC5mb3JFYWNoKHQ9PnQuZGlzY29ubmVjdCgpKSx0aGlzLl9iYW5rMS5mb3JFYWNoKHQ9PnQuZGlzY29ubmVjdCgpKSx0aGlzLl9vbmVTYW1wbGVEZWxheS5kaXNjb25uZWN0KCksdGhpc319Y2xhc3MgQmEgZXh0ZW5kcyBUYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKEJhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiXSkpLHRoaXMubmFtZT1cIkZyZXF1ZW5jeVNoaWZ0ZXJcIjtjb25zdCB0PURpKEJhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiXSk7dGhpcy5mcmVxdWVuY3k9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx1bml0czpcImZyZXF1ZW5jeVwiLHZhbHVlOnQuZnJlcXVlbmN5LG1pblZhbHVlOi10aGlzLmNvbnRleHQuc2FtcGxlUmF0ZS8yLG1heFZhbHVlOnRoaXMuY29udGV4dC5zYW1wbGVSYXRlLzJ9KSx0aGlzLl9zaW5lPW5ldyBucih7Y29udGV4dDp0aGlzLmNvbnRleHQsdHlwZTpcInNpbmVcIn0pLHRoaXMuX2Nvc2luZT1uZXcgaXIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LHBoYXNlOi05MCx0eXBlOlwic2luZVwifSksdGhpcy5fc2luZU11bHRpcGx5PW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9jb3NpbmVNdWx0aXBseT1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5fbmVnYXRlPW5ldyBBcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9hZGQ9bmV3IG1yKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX3BoYXNlU2hpZnRlcj1uZXcgemEoe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5lZmZlY3RTZW5kLmNvbm5lY3QodGhpcy5fcGhhc2VTaGlmdGVyKSx0aGlzLmZyZXF1ZW5jeS5mYW4odGhpcy5fc2luZS5mcmVxdWVuY3ksdGhpcy5fY29zaW5lLmZyZXF1ZW5jeSksdGhpcy5fcGhhc2VTaGlmdGVyLm9mZnNldDkwLmNvbm5lY3QodGhpcy5fY29zaW5lTXVsdGlwbHkpLHRoaXMuX2Nvc2luZS5jb25uZWN0KHRoaXMuX2Nvc2luZU11bHRpcGx5LmZhY3RvciksdGhpcy5fcGhhc2VTaGlmdGVyLmNvbm5lY3QodGhpcy5fc2luZU11bHRpcGx5KSx0aGlzLl9zaW5lLmNvbm5lY3QodGhpcy5fc2luZU11bHRpcGx5LmZhY3RvciksdGhpcy5fc2luZU11bHRpcGx5LmNvbm5lY3QodGhpcy5fbmVnYXRlKSx0aGlzLl9jb3NpbmVNdWx0aXBseS5jb25uZWN0KHRoaXMuX2FkZCksdGhpcy5fbmVnYXRlLmNvbm5lY3QodGhpcy5fYWRkLmFkZGVuZCksdGhpcy5fYWRkLmNvbm5lY3QodGhpcy5lZmZlY3RSZXR1cm4pO2NvbnN0IGU9dGhpcy5pbW1lZGlhdGUoKTt0aGlzLl9zaW5lLnN0YXJ0KGUpLHRoaXMuX2Nvc2luZS5zdGFydChlKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihUYS5nZXREZWZhdWx0cygpLHtmcmVxdWVuY3k6MH0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLl9hZGQuZGlzcG9zZSgpLHRoaXMuX2Nvc2luZS5kaXNwb3NlKCksdGhpcy5fY29zaW5lTXVsdGlwbHkuZGlzcG9zZSgpLHRoaXMuX25lZ2F0ZS5kaXNwb3NlKCksdGhpcy5fcGhhc2VTaGlmdGVyLmRpc3Bvc2UoKSx0aGlzLl9zaW5lLmRpc3Bvc2UoKSx0aGlzLl9zaW5lTXVsdGlwbHkuZGlzcG9zZSgpLHRoaXN9fWNvbnN0IFdhPVsxNTU3LzQ0MTAwLDE2MTcvNDQxMDAsMTQ5MS80NDEwMCwxNDIyLzQ0MTAwLDEyNzcvNDQxMDAsMTM1Ni80NDEwMCwxMTg4LzQ0MTAwLDExMTYvNDQxMDBdLEdhPVsyMjUsNTU2LDQ0MSwzNDFdO2NsYXNzIFVhIGV4dGVuZHMgSWF7Y29uc3RydWN0b3IoKXtzdXBlcihEaShVYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJyb29tU2l6ZVwiLFwiZGFtcGVuaW5nXCJdKSksdGhpcy5uYW1lPVwiRnJlZXZlcmJcIix0aGlzLl9jb21iRmlsdGVycz1bXSx0aGlzLl9hbGxwYXNzRmlsdGVyc0w9W10sdGhpcy5fYWxscGFzc0ZpbHRlcnNSPVtdO2NvbnN0IHQ9RGkoVWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wicm9vbVNpemVcIixcImRhbXBlbmluZ1wiXSk7dGhpcy5yb29tU2l6ZT1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQucm9vbVNpemUsdW5pdHM6XCJub3JtYWxSYW5nZVwifSksdGhpcy5fYWxscGFzc0ZpbHRlcnNMPUdhLm1hcCh0PT57Y29uc3QgZT10aGlzLmNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7cmV0dXJuIGUudHlwZT1cImFsbHBhc3NcIixlLmZyZXF1ZW5jeS52YWx1ZT10LGV9KSx0aGlzLl9hbGxwYXNzRmlsdGVyc1I9R2EubWFwKHQ9Pntjb25zdCBlPXRoaXMuY29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtyZXR1cm4gZS50eXBlPVwiYWxscGFzc1wiLGUuZnJlcXVlbmN5LnZhbHVlPXQsZX0pLHRoaXMuX2NvbWJGaWx0ZXJzPVdhLm1hcCgoZSxzKT0+e2NvbnN0IG49bmV3IGlhKHtjb250ZXh0OnRoaXMuY29udGV4dCxkYW1wZW5pbmc6dC5kYW1wZW5pbmcsZGVsYXlUaW1lOmV9KTtyZXR1cm4gczxXYS5sZW5ndGgvMj90aGlzLmNvbm5lY3RFZmZlY3RMZWZ0KG4sLi4udGhpcy5fYWxscGFzc0ZpbHRlcnNMKTp0aGlzLmNvbm5lY3RFZmZlY3RSaWdodChuLC4uLnRoaXMuX2FsbHBhc3NGaWx0ZXJzUiksdGhpcy5yb29tU2l6ZS5jb25uZWN0KG4ucmVzb25hbmNlKSxufSksVWkodGhpcyxbXCJyb29tU2l6ZVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oSWEuZ2V0RGVmYXVsdHMoKSx7cm9vbVNpemU6LjcsZGFtcGVuaW5nOjNlM30pfWdldCBkYW1wZW5pbmcoKXtyZXR1cm4gdGhpcy5fY29tYkZpbHRlcnNbMF0uZGFtcGVuaW5nfXNldCBkYW1wZW5pbmcodCl7dGhpcy5fY29tYkZpbHRlcnMuZm9yRWFjaChlPT5lLmRhbXBlbmluZz10KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9hbGxwYXNzRmlsdGVyc0wuZm9yRWFjaCh0PT50LmRpc2Nvbm5lY3QoKSksdGhpcy5fYWxscGFzc0ZpbHRlcnNSLmZvckVhY2godD0+dC5kaXNjb25uZWN0KCkpLHRoaXMuX2NvbWJGaWx0ZXJzLmZvckVhY2godD0+dC5kaXNwb3NlKCkpLHRoaXMucm9vbVNpemUuZGlzcG9zZSgpLHRoaXN9fWNvbnN0IFFhPVsuMDY3NDgsLjA2NDA0LC4wODIxMiwuMDkwMDRdLFphPVsuNzczLC44MDIsLjc1MywuNzMzXSxYYT1bMzQ3LDExMywzN107Y2xhc3MgWWEgZXh0ZW5kcyBJYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKFlhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInJvb21TaXplXCJdKSksdGhpcy5uYW1lPVwiSkNSZXZlcmJcIix0aGlzLl9hbGxwYXNzRmlsdGVycz1bXSx0aGlzLl9mZWVkYmFja0NvbWJGaWx0ZXJzPVtdO2NvbnN0IHQ9RGkoWWEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wicm9vbVNpemVcIl0pO3RoaXMucm9vbVNpemU9bmV3IERvKHtjb250ZXh0OnRoaXMuY29udGV4dCx2YWx1ZTp0LnJvb21TaXplLHVuaXRzOlwibm9ybWFsUmFuZ2VcIn0pLHRoaXMuX3NjYWxlUm9vbVNpemU9bmV3IGdyKHtjb250ZXh0OnRoaXMuY29udGV4dCxtaW46LS43MzMsbWF4Oi4xOTd9KSx0aGlzLl9hbGxwYXNzRmlsdGVycz1YYS5tYXAodD0+e2NvbnN0IGU9dGhpcy5jb250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO3JldHVybiBlLnR5cGU9XCJhbGxwYXNzXCIsZS5mcmVxdWVuY3kudmFsdWU9dCxlfSksdGhpcy5fZmVlZGJhY2tDb21iRmlsdGVycz1RYS5tYXAoKHQsZSk9Pntjb25zdCBzPW5ldyBzYSh7Y29udGV4dDp0aGlzLmNvbnRleHQsZGVsYXlUaW1lOnR9KTtyZXR1cm4gdGhpcy5fc2NhbGVSb29tU2l6ZS5jb25uZWN0KHMucmVzb25hbmNlKSxzLnJlc29uYW5jZS52YWx1ZT1aYVtlXSxlPFFhLmxlbmd0aC8yP3RoaXMuY29ubmVjdEVmZmVjdExlZnQoLi4udGhpcy5fYWxscGFzc0ZpbHRlcnMscyk6dGhpcy5jb25uZWN0RWZmZWN0UmlnaHQoLi4udGhpcy5fYWxscGFzc0ZpbHRlcnMscyksc30pLHRoaXMucm9vbVNpemUuY29ubmVjdCh0aGlzLl9zY2FsZVJvb21TaXplKSxVaSh0aGlzLFtcInJvb21TaXplXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihJYS5nZXREZWZhdWx0cygpLHtyb29tU2l6ZTouNX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2FsbHBhc3NGaWx0ZXJzLmZvckVhY2godD0+dC5kaXNjb25uZWN0KCkpLHRoaXMuX2ZlZWRiYWNrQ29tYkZpbHRlcnMuZm9yRWFjaCh0PT50LmRpc3Bvc2UoKSksdGhpcy5yb29tU2l6ZS5kaXNwb3NlKCksdGhpcy5fc2NhbGVSb29tU2l6ZS5kaXNwb3NlKCksdGhpc319Y2xhc3MgSGEgZXh0ZW5kcyBWYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9mZWVkYmFja0wuZGlzY29ubmVjdCgpLHRoaXMuX2ZlZWRiYWNrTC5jb25uZWN0KHRoaXMuX2ZlZWRiYWNrTWVyZ2UsMCwxKSx0aGlzLl9mZWVkYmFja1IuZGlzY29ubmVjdCgpLHRoaXMuX2ZlZWRiYWNrUi5jb25uZWN0KHRoaXMuX2ZlZWRiYWNrTWVyZ2UsMCwwKSxVaSh0aGlzLFtcImZlZWRiYWNrXCJdKX19Y2xhc3MgJGEgZXh0ZW5kcyBIYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKCRhLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImRlbGF5VGltZVwiLFwiZmVlZGJhY2tcIl0pKSx0aGlzLm5hbWU9XCJQaW5nUG9uZ0RlbGF5XCI7Y29uc3QgdD1EaSgkYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJkZWxheVRpbWVcIixcImZlZWRiYWNrXCJdKTt0aGlzLl9sZWZ0RGVsYXk9bmV3IEZvKHtjb250ZXh0OnRoaXMuY29udGV4dCxtYXhEZWxheTp0Lm1heERlbGF5fSksdGhpcy5fcmlnaHREZWxheT1uZXcgRm8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LG1heERlbGF5OnQubWF4RGVsYXl9KSx0aGlzLl9yaWdodFByZURlbGF5PW5ldyBGbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsbWF4RGVsYXk6dC5tYXhEZWxheX0pLHRoaXMuZGVsYXlUaW1lPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJ0aW1lXCIsdmFsdWU6dC5kZWxheVRpbWV9KSx0aGlzLmNvbm5lY3RFZmZlY3RMZWZ0KHRoaXMuX2xlZnREZWxheSksdGhpcy5jb25uZWN0RWZmZWN0UmlnaHQodGhpcy5fcmlnaHRQcmVEZWxheSx0aGlzLl9yaWdodERlbGF5KSx0aGlzLmRlbGF5VGltZS5mYW4odGhpcy5fbGVmdERlbGF5LmRlbGF5VGltZSx0aGlzLl9yaWdodERlbGF5LmRlbGF5VGltZSx0aGlzLl9yaWdodFByZURlbGF5LmRlbGF5VGltZSksdGhpcy5fZmVlZGJhY2tMLmRpc2Nvbm5lY3QoKSx0aGlzLl9mZWVkYmFja0wuY29ubmVjdCh0aGlzLl9yaWdodERlbGF5KSxVaSh0aGlzLFtcImRlbGF5VGltZVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oSGEuZ2V0RGVmYXVsdHMoKSx7ZGVsYXlUaW1lOi4yNSxtYXhEZWxheToxfSl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fbGVmdERlbGF5LmRpc3Bvc2UoKSx0aGlzLl9yaWdodERlbGF5LmRpc3Bvc2UoKSx0aGlzLl9yaWdodFByZURlbGF5LmRpc3Bvc2UoKSx0aGlzLmRlbGF5VGltZS5kaXNwb3NlKCksdGhpc319Y2xhc3MgSmEgZXh0ZW5kcyBqYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKEphLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInBpdGNoXCJdKSksdGhpcy5uYW1lPVwiUGl0Y2hTaGlmdFwiO2NvbnN0IHQ9RGkoSmEuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wicGl0Y2hcIl0pO3RoaXMuX2ZyZXF1ZW5jeT1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5fZGVsYXlBPW5ldyBGbyh7bWF4RGVsYXk6MSxjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX2xmb0E9bmV3IHlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxtaW46MCxtYXg6LjEsdHlwZTpcInNhd3Rvb3RoXCJ9KS5jb25uZWN0KHRoaXMuX2RlbGF5QS5kZWxheVRpbWUpLHRoaXMuX2RlbGF5Qj1uZXcgRm8oe21heERlbGF5OjEsY29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9sZm9CPW5ldyB5cih7Y29udGV4dDp0aGlzLmNvbnRleHQsbWluOjAsbWF4Oi4xLHR5cGU6XCJzYXd0b290aFwiLHBoYXNlOjE4MH0pLmNvbm5lY3QodGhpcy5fZGVsYXlCLmRlbGF5VGltZSksdGhpcy5fY3Jvc3NGYWRlPW5ldyBiYSh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9jcm9zc0ZhZGVMRk89bmV3IHlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxtaW46MCxtYXg6MSx0eXBlOlwidHJpYW5nbGVcIixwaGFzZTo5MH0pLmNvbm5lY3QodGhpcy5fY3Jvc3NGYWRlLmZhZGUpLHRoaXMuX2ZlZWRiYWNrRGVsYXk9bmV3IEZvKHtkZWxheVRpbWU6dC5kZWxheVRpbWUsY29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLmRlbGF5VGltZT10aGlzLl9mZWVkYmFja0RlbGF5LmRlbGF5VGltZSxVaSh0aGlzLFwiZGVsYXlUaW1lXCIpLHRoaXMuX3BpdGNoPXQucGl0Y2gsdGhpcy5fd2luZG93U2l6ZT10LndpbmRvd1NpemUsdGhpcy5fZGVsYXlBLmNvbm5lY3QodGhpcy5fY3Jvc3NGYWRlLmEpLHRoaXMuX2RlbGF5Qi5jb25uZWN0KHRoaXMuX2Nyb3NzRmFkZS5iKSx0aGlzLl9mcmVxdWVuY3kuZmFuKHRoaXMuX2xmb0EuZnJlcXVlbmN5LHRoaXMuX2xmb0IuZnJlcXVlbmN5LHRoaXMuX2Nyb3NzRmFkZUxGTy5mcmVxdWVuY3kpLHRoaXMuZWZmZWN0U2VuZC5mYW4odGhpcy5fZGVsYXlBLHRoaXMuX2RlbGF5QiksdGhpcy5fY3Jvc3NGYWRlLmNoYWluKHRoaXMuX2ZlZWRiYWNrRGVsYXksdGhpcy5lZmZlY3RSZXR1cm4pO2NvbnN0IGU9dGhpcy5ub3coKTt0aGlzLl9sZm9BLnN0YXJ0KGUpLHRoaXMuX2xmb0Iuc3RhcnQoZSksdGhpcy5fY3Jvc3NGYWRlTEZPLnN0YXJ0KGUpLHRoaXMud2luZG93U2l6ZT10aGlzLl93aW5kb3dTaXplfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKGphLmdldERlZmF1bHRzKCkse3BpdGNoOjAsd2luZG93U2l6ZTouMSxkZWxheVRpbWU6MCxmZWVkYmFjazowfSl9Z2V0IHBpdGNoKCl7cmV0dXJuIHRoaXMuX3BpdGNofXNldCBwaXRjaCh0KXt0aGlzLl9waXRjaD10O2xldCBlPTA7dDwwPyh0aGlzLl9sZm9BLm1pbj0wLHRoaXMuX2xmb0EubWF4PXRoaXMuX3dpbmRvd1NpemUsdGhpcy5fbGZvQi5taW49MCx0aGlzLl9sZm9CLm1heD10aGlzLl93aW5kb3dTaXplLGU9bm8odC0xKSsxKToodGhpcy5fbGZvQS5taW49dGhpcy5fd2luZG93U2l6ZSx0aGlzLl9sZm9BLm1heD0wLHRoaXMuX2xmb0IubWluPXRoaXMuX3dpbmRvd1NpemUsdGhpcy5fbGZvQi5tYXg9MCxlPW5vKHQpLTEpLHRoaXMuX2ZyZXF1ZW5jeS52YWx1ZT1lKigxLjIvdGhpcy5fd2luZG93U2l6ZSl9Z2V0IHdpbmRvd1NpemUoKXtyZXR1cm4gdGhpcy5fd2luZG93U2l6ZX1zZXQgd2luZG93U2l6ZSh0KXt0aGlzLl93aW5kb3dTaXplPXRoaXMudG9TZWNvbmRzKHQpLHRoaXMucGl0Y2g9dGhpcy5fcGl0Y2h9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLl9kZWxheUEuZGlzcG9zZSgpLHRoaXMuX2RlbGF5Qi5kaXNwb3NlKCksdGhpcy5fbGZvQS5kaXNwb3NlKCksdGhpcy5fbGZvQi5kaXNwb3NlKCksdGhpcy5fY3Jvc3NGYWRlLmRpc3Bvc2UoKSx0aGlzLl9jcm9zc0ZhZGVMRk8uZGlzcG9zZSgpLHRoaXMuX2ZlZWRiYWNrRGVsYXkuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIEthIGV4dGVuZHMgSWF7Y29uc3RydWN0b3IoKXtzdXBlcihEaShLYS5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcIm9jdGF2ZXNcIixcImJhc2VGcmVxdWVuY3lcIl0pKSx0aGlzLm5hbWU9XCJQaGFzZXJcIjtjb25zdCB0PURpKEthLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwib2N0YXZlc1wiLFwiYmFzZUZyZXF1ZW5jeVwiXSk7dGhpcy5fbGZvTD1uZXcgeXIoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGZyZXF1ZW5jeTp0LmZyZXF1ZW5jeSxtaW46MCxtYXg6MX0pLHRoaXMuX2xmb1I9bmV3IHlyKHtjb250ZXh0OnRoaXMuY29udGV4dCxmcmVxdWVuY3k6dC5mcmVxdWVuY3ksbWluOjAsbWF4OjEscGhhc2U6MTgwfSksdGhpcy5fYmFzZUZyZXF1ZW5jeT10aGlzLnRvRnJlcXVlbmN5KHQuYmFzZUZyZXF1ZW5jeSksdGhpcy5fb2N0YXZlcz10Lm9jdGF2ZXMsdGhpcy5RPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6dC5RLHVuaXRzOlwicG9zaXRpdmVcIn0pLHRoaXMuX2ZpbHRlcnNMPXRoaXMuX21ha2VGaWx0ZXJzKHQuc3RhZ2VzLHRoaXMuX2xmb0wpLHRoaXMuX2ZpbHRlcnNSPXRoaXMuX21ha2VGaWx0ZXJzKHQuc3RhZ2VzLHRoaXMuX2xmb1IpLHRoaXMuZnJlcXVlbmN5PXRoaXMuX2xmb0wuZnJlcXVlbmN5LHRoaXMuZnJlcXVlbmN5LnZhbHVlPXQuZnJlcXVlbmN5LHRoaXMuY29ubmVjdEVmZmVjdExlZnQoLi4udGhpcy5fZmlsdGVyc0wpLHRoaXMuY29ubmVjdEVmZmVjdFJpZ2h0KC4uLnRoaXMuX2ZpbHRlcnNSKSx0aGlzLl9sZm9MLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX2xmb1IuZnJlcXVlbmN5KSx0aGlzLmJhc2VGcmVxdWVuY3k9dC5iYXNlRnJlcXVlbmN5LHRoaXMub2N0YXZlcz10Lm9jdGF2ZXMsdGhpcy5fbGZvTC5zdGFydCgpLHRoaXMuX2xmb1Iuc3RhcnQoKSxVaSh0aGlzLFtcImZyZXF1ZW5jeVwiLFwiUVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oSWEuZ2V0RGVmYXVsdHMoKSx7ZnJlcXVlbmN5Oi41LG9jdGF2ZXM6MyxzdGFnZXM6MTAsUToxMCxiYXNlRnJlcXVlbmN5OjM1MH0pfV9tYWtlRmlsdGVycyh0LGUpe2NvbnN0IHM9W107Zm9yKGxldCBuPTA7bjx0O24rKyl7Y29uc3QgdD10aGlzLmNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7dC50eXBlPVwiYWxscGFzc1wiLHRoaXMuUS5jb25uZWN0KHQuUSksZS5jb25uZWN0KHQuZnJlcXVlbmN5KSxzLnB1c2godCl9cmV0dXJuIHN9Z2V0IG9jdGF2ZXMoKXtyZXR1cm4gdGhpcy5fb2N0YXZlc31zZXQgb2N0YXZlcyh0KXt0aGlzLl9vY3RhdmVzPXQ7Y29uc3QgZT10aGlzLl9iYXNlRnJlcXVlbmN5Kk1hdGgucG93KDIsdCk7dGhpcy5fbGZvTC5tYXg9ZSx0aGlzLl9sZm9SLm1heD1lfWdldCBiYXNlRnJlcXVlbmN5KCl7cmV0dXJuIHRoaXMuX2Jhc2VGcmVxdWVuY3l9c2V0IGJhc2VGcmVxdWVuY3kodCl7dGhpcy5fYmFzZUZyZXF1ZW5jeT10aGlzLnRvRnJlcXVlbmN5KHQpLHRoaXMuX2xmb0wubWluPXRoaXMuX2Jhc2VGcmVxdWVuY3ksdGhpcy5fbGZvUi5taW49dGhpcy5fYmFzZUZyZXF1ZW5jeSx0aGlzLm9jdGF2ZXM9dGhpcy5fb2N0YXZlc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLlEuZGlzcG9zZSgpLHRoaXMuX2xmb0wuZGlzcG9zZSgpLHRoaXMuX2xmb1IuZGlzcG9zZSgpLHRoaXMuX2ZpbHRlcnNMLmZvckVhY2godD0+dC5kaXNjb25uZWN0KCkpLHRoaXMuX2ZpbHRlcnNSLmZvckVhY2godD0+dC5kaXNjb25uZWN0KCkpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyB0YyBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkodGMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wiZGVjYXlcIl0pKSx0aGlzLm5hbWU9XCJSZXZlcmJcIix0aGlzLl9jb252b2x2ZXI9dGhpcy5jb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpLHRoaXMucmVhZHk9UHJvbWlzZS5yZXNvbHZlKCk7Y29uc3QgdD1EaSh0Yy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJkZWNheVwiXSk7dGhpcy5fZGVjYXk9dC5kZWNheSx0aGlzLl9wcmVEZWxheT10LnByZURlbGF5LHRoaXMuZ2VuZXJhdGUoKSx0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fY29udm9sdmVyKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihUYS5nZXREZWZhdWx0cygpLHtkZWNheToxLjUscHJlRGVsYXk6LjAxfSl9Z2V0IGRlY2F5KCl7cmV0dXJuIHRoaXMuX2RlY2F5fXNldCBkZWNheSh0KXtlaSh0PXRoaXMudG9TZWNvbmRzKHQpLC4wMDEpLHRoaXMuX2RlY2F5PXQsdGhpcy5nZW5lcmF0ZSgpfWdldCBwcmVEZWxheSgpe3JldHVybiB0aGlzLl9wcmVEZWxheX1zZXQgcHJlRGVsYXkodCl7ZWkodD10aGlzLnRvU2Vjb25kcyh0KSwwKSx0aGlzLl9wcmVEZWxheT10LHRoaXMuZ2VuZXJhdGUoKX1nZW5lcmF0ZSgpe3JldHVybiB5aSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IHQ9dGhpcy5yZWFkeSxlPW5ldyBZaSgyLHRoaXMuX2RlY2F5K3RoaXMuX3ByZURlbGF5LHRoaXMuY29udGV4dC5zYW1wbGVSYXRlKSxzPW5ldyBKbyh7Y29udGV4dDplfSksbj1uZXcgSm8oe2NvbnRleHQ6ZX0pLGk9bmV3IEZhKHtjb250ZXh0OmV9KTtzLmNvbm5lY3QoaSwwLDApLG4uY29ubmVjdChpLDAsMSk7Y29uc3Qgbz1uZXcga28oe2NvbnRleHQ6ZX0pLnRvRGVzdGluYXRpb24oKTtpLmNvbm5lY3Qobykscy5zdGFydCgwKSxuLnN0YXJ0KDApLG8uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLDApLG8uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLHRoaXMuX3ByZURlbGF5KSxvLmdhaW4uZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKDAsdGhpcy5fcHJlRGVsYXksdGhpcy5kZWNheSk7Y29uc3Qgcj1lLnJlbmRlcigpO3JldHVybiB0aGlzLnJlYWR5PXIudGhlbihaaSkseWllbGQgdCx0aGlzLl9jb252b2x2ZXIuYnVmZmVyPSh5aWVsZCByKS5nZXQoKSx0aGlzfSkpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2NvbnZvbHZlci5kaXNjb25uZWN0KCksdGhpc319Y2xhc3MgZWMgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGVjLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSksdGhpcy5uYW1lPVwiTWlkU2lkZVNwbGl0XCIsdGhpcy5fc3BsaXQ9dGhpcy5pbnB1dD1uZXcgcWEoe2NoYW5uZWxzOjIsY29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9taWRBZGQ9bmV3IG1yKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMubWlkPW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6TWF0aC5TUVJUMV8yfSksdGhpcy5fc2lkZVN1YnRyYWN0PW5ldyBEcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLnNpZGU9bmV3IGNyKHtjb250ZXh0OnRoaXMuY29udGV4dCx2YWx1ZTpNYXRoLlNRUlQxXzJ9KSx0aGlzLl9zcGxpdC5jb25uZWN0KHRoaXMuX21pZEFkZCwwKSx0aGlzLl9zcGxpdC5jb25uZWN0KHRoaXMuX21pZEFkZC5hZGRlbmQsMSksdGhpcy5fc3BsaXQuY29ubmVjdCh0aGlzLl9zaWRlU3VidHJhY3QsMCksdGhpcy5fc3BsaXQuY29ubmVjdCh0aGlzLl9zaWRlU3VidHJhY3Quc3VidHJhaGVuZCwxKSx0aGlzLl9taWRBZGQuY29ubmVjdCh0aGlzLm1pZCksdGhpcy5fc2lkZVN1YnRyYWN0LmNvbm5lY3QodGhpcy5zaWRlKX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLm1pZC5kaXNwb3NlKCksdGhpcy5zaWRlLmRpc3Bvc2UoKSx0aGlzLl9taWRBZGQuZGlzcG9zZSgpLHRoaXMuX3NpZGVTdWJ0cmFjdC5kaXNwb3NlKCksdGhpcy5fc3BsaXQuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIHNjIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihEaShzYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpLHRoaXMubmFtZT1cIk1pZFNpZGVNZXJnZVwiLHRoaXMubWlkPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLnNpZGU9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX2xlZnQ9bmV3IG1yKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX2xlZnRNdWx0PW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6TWF0aC5TUVJUMV8yfSksdGhpcy5fcmlnaHQ9bmV3IERyKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX3JpZ2h0TXVsdD1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOk1hdGguU1FSVDFfMn0pLHRoaXMuX21lcmdlPXRoaXMub3V0cHV0PW5ldyBGYSh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLm1pZC5mYW4odGhpcy5fbGVmdCksdGhpcy5zaWRlLmNvbm5lY3QodGhpcy5fbGVmdC5hZGRlbmQpLHRoaXMubWlkLmNvbm5lY3QodGhpcy5fcmlnaHQpLHRoaXMuc2lkZS5jb25uZWN0KHRoaXMuX3JpZ2h0LnN1YnRyYWhlbmQpLHRoaXMuX2xlZnQuY29ubmVjdCh0aGlzLl9sZWZ0TXVsdCksdGhpcy5fcmlnaHQuY29ubmVjdCh0aGlzLl9yaWdodE11bHQpLHRoaXMuX2xlZnRNdWx0LmNvbm5lY3QodGhpcy5fbWVyZ2UsMCwwKSx0aGlzLl9yaWdodE11bHQuY29ubmVjdCh0aGlzLl9tZXJnZSwwLDEpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMubWlkLmRpc3Bvc2UoKSx0aGlzLnNpZGUuZGlzcG9zZSgpLHRoaXMuX2xlZnRNdWx0LmRpc3Bvc2UoKSx0aGlzLl9yaWdodE11bHQuZGlzcG9zZSgpLHRoaXMuX2xlZnQuZGlzcG9zZSgpLHRoaXMuX3JpZ2h0LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBuYyBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMubmFtZT1cIk1pZFNpZGVFZmZlY3RcIix0aGlzLl9taWRTaWRlTWVyZ2U9bmV3IHNjKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX21pZFNpZGVTcGxpdD1uZXcgZWMoe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5fbWlkU2VuZD10aGlzLl9taWRTaWRlU3BsaXQubWlkLHRoaXMuX3NpZGVTZW5kPXRoaXMuX21pZFNpZGVTcGxpdC5zaWRlLHRoaXMuX21pZFJldHVybj10aGlzLl9taWRTaWRlTWVyZ2UubWlkLHRoaXMuX3NpZGVSZXR1cm49dGhpcy5fbWlkU2lkZU1lcmdlLnNpZGUsdGhpcy5lZmZlY3RTZW5kLmNvbm5lY3QodGhpcy5fbWlkU2lkZVNwbGl0KSx0aGlzLl9taWRTaWRlTWVyZ2UuY29ubmVjdCh0aGlzLmVmZmVjdFJldHVybil9Y29ubmVjdEVmZmVjdE1pZCguLi50KXt0aGlzLl9taWRTZW5kLmNoYWluKC4uLnQsdGhpcy5fbWlkUmV0dXJuKX1jb25uZWN0RWZmZWN0U2lkZSguLi50KXt0aGlzLl9zaWRlU2VuZC5jaGFpbiguLi50LHRoaXMuX3NpZGVSZXR1cm4pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX21pZFNpZGVTcGxpdC5kaXNwb3NlKCksdGhpcy5fbWlkU2lkZU1lcmdlLmRpc3Bvc2UoKSx0aGlzLl9taWRTZW5kLmRpc3Bvc2UoKSx0aGlzLl9zaWRlU2VuZC5kaXNwb3NlKCksdGhpcy5fbWlkUmV0dXJuLmRpc3Bvc2UoKSx0aGlzLl9zaWRlUmV0dXJuLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBpYyBleHRlbmRzIG5je2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoaWMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wid2lkdGhcIl0pKSx0aGlzLm5hbWU9XCJTdGVyZW9XaWRlbmVyXCI7Y29uc3QgdD1EaShpYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ3aWR0aFwiXSk7dGhpcy53aWR0aD1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQud2lkdGgsdW5pdHM6XCJub3JtYWxSYW5nZVwifSksVWkodGhpcyxbXCJ3aWR0aFwiXSksdGhpcy5fdHdvVGltZXNXaWR0aE1pZD1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOjJ9KSx0aGlzLl90d29UaW1lc1dpZHRoU2lkZT1uZXcgY3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOjJ9KSx0aGlzLl9taWRNdWx0PW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl90d29UaW1lc1dpZHRoTWlkLmNvbm5lY3QodGhpcy5fbWlkTXVsdC5mYWN0b3IpLHRoaXMuY29ubmVjdEVmZmVjdE1pZCh0aGlzLl9taWRNdWx0KSx0aGlzLl9vbmVNaW51c1dpZHRoPW5ldyBEcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9vbmVNaW51c1dpZHRoLmNvbm5lY3QodGhpcy5fdHdvVGltZXNXaWR0aE1pZCksVG8odGhpcy5jb250ZXh0LmdldENvbnN0YW50KDEpLHRoaXMuX29uZU1pbnVzV2lkdGgpLHRoaXMud2lkdGguY29ubmVjdCh0aGlzLl9vbmVNaW51c1dpZHRoLnN1YnRyYWhlbmQpLHRoaXMuX3NpZGVNdWx0PW5ldyBjcih7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLndpZHRoLmNvbm5lY3QodGhpcy5fdHdvVGltZXNXaWR0aFNpZGUpLHRoaXMuX3R3b1RpbWVzV2lkdGhTaWRlLmNvbm5lY3QodGhpcy5fc2lkZU11bHQuZmFjdG9yKSx0aGlzLmNvbm5lY3RFZmZlY3RTaWRlKHRoaXMuX3NpZGVNdWx0KX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihuYy5nZXREZWZhdWx0cygpLHt3aWR0aDouNX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMud2lkdGguZGlzcG9zZSgpLHRoaXMuX21pZE11bHQuZGlzcG9zZSgpLHRoaXMuX3NpZGVNdWx0LmRpc3Bvc2UoKSx0aGlzLl90d29UaW1lc1dpZHRoTWlkLmRpc3Bvc2UoKSx0aGlzLl90d29UaW1lc1dpZHRoU2lkZS5kaXNwb3NlKCksdGhpcy5fb25lTWludXNXaWR0aC5kaXNwb3NlKCksdGhpc319Y2xhc3Mgb2MgZXh0ZW5kcyBJYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKG9jLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwiZGVwdGhcIl0pKSx0aGlzLm5hbWU9XCJUcmVtb2xvXCI7Y29uc3QgdD1EaShvYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcImRlcHRoXCJdKTt0aGlzLl9sZm9MPW5ldyB5cih7Y29udGV4dDp0aGlzLmNvbnRleHQsdHlwZTp0LnR5cGUsbWluOjEsbWF4OjB9KSx0aGlzLl9sZm9SPW5ldyB5cih7Y29udGV4dDp0aGlzLmNvbnRleHQsdHlwZTp0LnR5cGUsbWluOjEsbWF4OjB9KSx0aGlzLl9hbXBsaXR1ZGVMPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9hbXBsaXR1ZGVSPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLmZyZXF1ZW5jeT1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHZhbHVlOnQuZnJlcXVlbmN5LHVuaXRzOlwiZnJlcXVlbmN5XCJ9KSx0aGlzLmRlcHRoPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6dC5kZXB0aCx1bml0czpcIm5vcm1hbFJhbmdlXCJ9KSxVaSh0aGlzLFtcImZyZXF1ZW5jeVwiLFwiZGVwdGhcIl0pLHRoaXMuY29ubmVjdEVmZmVjdExlZnQodGhpcy5fYW1wbGl0dWRlTCksdGhpcy5jb25uZWN0RWZmZWN0UmlnaHQodGhpcy5fYW1wbGl0dWRlUiksdGhpcy5fbGZvTC5jb25uZWN0KHRoaXMuX2FtcGxpdHVkZUwuZ2FpbiksdGhpcy5fbGZvUi5jb25uZWN0KHRoaXMuX2FtcGxpdHVkZVIuZ2FpbiksdGhpcy5mcmVxdWVuY3kuZmFuKHRoaXMuX2xmb0wuZnJlcXVlbmN5LHRoaXMuX2xmb1IuZnJlcXVlbmN5KSx0aGlzLmRlcHRoLmZhbih0aGlzLl9sZm9SLmFtcGxpdHVkZSx0aGlzLl9sZm9MLmFtcGxpdHVkZSksdGhpcy5zcHJlYWQ9dC5zcHJlYWR9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oSWEuZ2V0RGVmYXVsdHMoKSx7ZnJlcXVlbmN5OjEwLHR5cGU6XCJzaW5lXCIsZGVwdGg6LjUsc3ByZWFkOjE4MH0pfXN0YXJ0KHQpe3JldHVybiB0aGlzLl9sZm9MLnN0YXJ0KHQpLHRoaXMuX2xmb1Iuc3RhcnQodCksdGhpc31zdG9wKHQpe3JldHVybiB0aGlzLl9sZm9MLnN0b3AodCksdGhpcy5fbGZvUi5zdG9wKHQpLHRoaXN9c3luYygpe3JldHVybiB0aGlzLl9sZm9MLnN5bmMoKSx0aGlzLl9sZm9SLnN5bmMoKSx0aGlzLmNvbnRleHQudHJhbnNwb3J0LnN5bmNTaWduYWwodGhpcy5mcmVxdWVuY3kpLHRoaXN9dW5zeW5jKCl7cmV0dXJuIHRoaXMuX2xmb0wudW5zeW5jKCksdGhpcy5fbGZvUi51bnN5bmMoKSx0aGlzLmNvbnRleHQudHJhbnNwb3J0LnVuc3luY1NpZ25hbCh0aGlzLmZyZXF1ZW5jeSksdGhpc31nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9sZm9MLnR5cGV9c2V0IHR5cGUodCl7dGhpcy5fbGZvTC50eXBlPXQsdGhpcy5fbGZvUi50eXBlPXR9Z2V0IHNwcmVhZCgpe3JldHVybiB0aGlzLl9sZm9SLnBoYXNlLXRoaXMuX2xmb0wucGhhc2V9c2V0IHNwcmVhZCh0KXt0aGlzLl9sZm9MLnBoYXNlPTkwLXQvMix0aGlzLl9sZm9SLnBoYXNlPXQvMis5MH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9sZm9MLmRpc3Bvc2UoKSx0aGlzLl9sZm9SLmRpc3Bvc2UoKSx0aGlzLl9hbXBsaXR1ZGVMLmRpc3Bvc2UoKSx0aGlzLl9hbXBsaXR1ZGVSLmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5kZXB0aC5kaXNwb3NlKCksdGhpc319Y2xhc3MgcmMgZXh0ZW5kcyBUYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKHJjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwiZGVwdGhcIl0pKSx0aGlzLm5hbWU9XCJWaWJyYXRvXCI7Y29uc3QgdD1EaShyYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcImRlcHRoXCJdKTt0aGlzLl9kZWxheU5vZGU9bmV3IEZvKHtjb250ZXh0OnRoaXMuY29udGV4dCxkZWxheVRpbWU6MCxtYXhEZWxheTp0Lm1heERlbGF5fSksdGhpcy5fbGZvPW5ldyB5cih7Y29udGV4dDp0aGlzLmNvbnRleHQsdHlwZTp0LnR5cGUsbWluOjAsbWF4OnQubWF4RGVsYXksZnJlcXVlbmN5OnQuZnJlcXVlbmN5LHBoYXNlOi05MH0pLnN0YXJ0KCkuY29ubmVjdCh0aGlzLl9kZWxheU5vZGUuZGVsYXlUaW1lKSx0aGlzLmZyZXF1ZW5jeT10aGlzLl9sZm8uZnJlcXVlbmN5LHRoaXMuZGVwdGg9dGhpcy5fbGZvLmFtcGxpdHVkZSx0aGlzLmRlcHRoLnZhbHVlPXQuZGVwdGgsVWkodGhpcyxbXCJmcmVxdWVuY3lcIixcImRlcHRoXCJdKSx0aGlzLmVmZmVjdFNlbmQuY2hhaW4odGhpcy5fZGVsYXlOb2RlLHRoaXMuZWZmZWN0UmV0dXJuKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihUYS5nZXREZWZhdWx0cygpLHttYXhEZWxheTouMDA1LGZyZXF1ZW5jeTo1LGRlcHRoOi4xLHR5cGU6XCJzaW5lXCJ9KX1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl9sZm8udHlwZX1zZXQgdHlwZSh0KXt0aGlzLl9sZm8udHlwZT10fWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2RlbGF5Tm9kZS5kaXNwb3NlKCksdGhpcy5fbGZvLmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5kZXB0aC5kaXNwb3NlKCksdGhpc319Y2xhc3MgYWMgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGFjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInR5cGVcIixcInNpemVcIl0pKSx0aGlzLm5hbWU9XCJBbmFseXNlclwiLHRoaXMuX2FuYWx5c2Vycz1bXSx0aGlzLl9idWZmZXJzPVtdO2NvbnN0IHQ9RGkoYWMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widHlwZVwiLFwic2l6ZVwiXSk7dGhpcy5pbnB1dD10aGlzLm91dHB1dD10aGlzLl9nYWluPW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9zcGxpdD1uZXcgcWEoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGNoYW5uZWxzOnQuY2hhbm5lbHN9KSx0aGlzLmlucHV0LmNvbm5lY3QodGhpcy5fc3BsaXQpLGVpKHQuY2hhbm5lbHMsMSk7Zm9yKGxldCBlPTA7ZTx0LmNoYW5uZWxzO2UrKyl0aGlzLl9hbmFseXNlcnNbZV09dGhpcy5jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCksdGhpcy5fc3BsaXQuY29ubmVjdCh0aGlzLl9hbmFseXNlcnNbZV0sZSwwKTt0aGlzLnNpemU9dC5zaXplLHRoaXMudHlwZT10LnR5cGV9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7c2l6ZToxMDI0LHNtb290aGluZzouOCx0eXBlOlwiZmZ0XCIsY2hhbm5lbHM6MX0pfWdldFZhbHVlKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2Vycy5mb3JFYWNoKCh0LGUpPT57Y29uc3Qgcz10aGlzLl9idWZmZXJzW2VdO1wiZmZ0XCI9PT10aGlzLl90eXBlP3QuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhKHMpOlwid2F2ZWZvcm1cIj09PXRoaXMuX3R5cGUmJnQuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShzKX0pLDE9PT10aGlzLmNoYW5uZWxzP3RoaXMuX2J1ZmZlcnNbMF06dGhpcy5fYnVmZmVyc31nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9hbmFseXNlcnNbMF0uZnJlcXVlbmN5QmluQ291bnR9c2V0IHNpemUodCl7dGhpcy5fYW5hbHlzZXJzLmZvckVhY2goKGUscyk9PntlLmZmdFNpemU9Mip0LHRoaXMuX2J1ZmZlcnNbc109bmV3IEZsb2F0MzJBcnJheSh0KX0pfWdldCBjaGFubmVscygpe3JldHVybiB0aGlzLl9hbmFseXNlcnMubGVuZ3RofWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9c2V0IHR5cGUodCl7dGkoXCJ3YXZlZm9ybVwiPT09dHx8XCJmZnRcIj09PXQsXCJBbmFseXNlcjogaW52YWxpZCB0eXBlOiBcIit0KSx0aGlzLl90eXBlPXR9Z2V0IHNtb290aGluZygpe3JldHVybiB0aGlzLl9hbmFseXNlcnNbMF0uc21vb3RoaW5nVGltZUNvbnN0YW50fXNldCBzbW9vdGhpbmcodCl7dGhpcy5fYW5hbHlzZXJzLmZvckVhY2goZT0+ZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQ9dCl9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fYW5hbHlzZXJzLmZvckVhY2godD0+dC5kaXNjb25uZWN0KCkpLHRoaXMuX3NwbGl0LmRpc3Bvc2UoKSx0aGlzLl9nYWluLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBjYyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoY2MuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMpKSx0aGlzLm5hbWU9XCJNZXRlckJhc2VcIix0aGlzLmlucHV0PXRoaXMub3V0cHV0PXRoaXMuX2FuYWx5c2VyPW5ldyBhYyh7Y29udGV4dDp0aGlzLmNvbnRleHQsc2l6ZToyNTYsdHlwZTpcIndhdmVmb3JtXCJ9KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9hbmFseXNlci5kaXNwb3NlKCksdGhpc319Y2xhc3MgaGMgZXh0ZW5kcyBjY3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGhjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInNtb290aGluZ1wiXSkpLHRoaXMubmFtZT1cIk1ldGVyXCIsdGhpcy5fcm1zPTA7Y29uc3QgdD1EaShoYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJzbW9vdGhpbmdcIl0pO3RoaXMuaW5wdXQ9dGhpcy5vdXRwdXQ9dGhpcy5fYW5hbHlzZXI9bmV3IGFjKHtjb250ZXh0OnRoaXMuY29udGV4dCxzaXplOjI1Nix0eXBlOlwid2F2ZWZvcm1cIixjaGFubmVsczp0LmNoYW5uZWxzfSksdGhpcy5zbW9vdGhpbmc9dC5zbW9vdGhpbmcsdGhpcy5ub3JtYWxSYW5nZT10Lm5vcm1hbFJhbmdlfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKGNjLmdldERlZmF1bHRzKCkse3Ntb290aGluZzouOCxub3JtYWxSYW5nZTohMSxjaGFubmVsczoxfSl9Z2V0TGV2ZWwoKXtyZXR1cm4gcmkoXCInZ2V0TGV2ZWwnIGhhcyBiZWVuIGNoYW5nZWQgdG8gJ2dldFZhbHVlJ1wiKSx0aGlzLmdldFZhbHVlKCl9Z2V0VmFsdWUoKXtjb25zdCB0PXRoaXMuX2FuYWx5c2VyLmdldFZhbHVlKCksZT0oMT09PXRoaXMuY2hhbm5lbHM/W3RdOnQpLm1hcCh0PT57Y29uc3QgZT10LnJlZHVjZSgodCxlKT0+dCtlKmUsMCkscz1NYXRoLnNxcnQoZS90Lmxlbmd0aCk7cmV0dXJuIHRoaXMuX3Jtcz1NYXRoLm1heChzLHRoaXMuX3Jtcyp0aGlzLnNtb290aGluZyksdGhpcy5ub3JtYWxSYW5nZT90aGlzLl9ybXM6c28odGhpcy5fcm1zKX0pO3JldHVybiAxPT09dGhpcy5jaGFubmVscz9lWzBdOmV9Z2V0IGNoYW5uZWxzKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2VyLmNoYW5uZWxzfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2FuYWx5c2VyLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyB1YyBleHRlbmRzIGNje2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkodWMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wic2l6ZVwiXSkpLHRoaXMubmFtZT1cIkZGVFwiO2NvbnN0IHQ9RGkodWMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wic2l6ZVwiXSk7dGhpcy5ub3JtYWxSYW5nZT10Lm5vcm1hbFJhbmdlLHRoaXMuX2FuYWx5c2VyLnR5cGU9XCJmZnRcIix0aGlzLnNpemU9dC5zaXplfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse25vcm1hbFJhbmdlOiExLHNpemU6MTAyNCxzbW9vdGhpbmc6Ljh9KX1nZXRWYWx1ZSgpe3JldHVybiB0aGlzLl9hbmFseXNlci5nZXRWYWx1ZSgpLm1hcCh0PT50aGlzLm5vcm1hbFJhbmdlP2VvKHQpOnQpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2VyLnNpemV9c2V0IHNpemUodCl7dGhpcy5fYW5hbHlzZXIuc2l6ZT10fWdldCBzbW9vdGhpbmcoKXtyZXR1cm4gdGhpcy5fYW5hbHlzZXIuc21vb3RoaW5nfXNldCBzbW9vdGhpbmcodCl7dGhpcy5fYW5hbHlzZXIuc21vb3RoaW5nPXR9Z2V0RnJlcXVlbmN5T2ZJbmRleCh0KXtyZXR1cm4gdGkoMDw9dCYmdDx0aGlzLnNpemUsXCJpbmRleCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwIGFuZCBsZXNzIHRoYW4gXCIrdGhpcy5zaXplKSx0KnRoaXMuY29udGV4dC5zYW1wbGVSYXRlLygyKnRoaXMuc2l6ZSl9fWNsYXNzIGxjIGV4dGVuZHMgY2N7Y29uc3RydWN0b3IoKXtzdXBlcihEaShsYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpLHRoaXMubmFtZT1cIkRDTWV0ZXJcIix0aGlzLl9hbmFseXNlci50eXBlPVwid2F2ZWZvcm1cIix0aGlzLl9hbmFseXNlci5zaXplPTI1Nn1nZXRWYWx1ZSgpe3JldHVybiB0aGlzLl9hbmFseXNlci5nZXRWYWx1ZSgpWzBdfX1jbGFzcyBwYyBleHRlbmRzIGNje2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkocGMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wic2l6ZVwiXSkpLHRoaXMubmFtZT1cIldhdmVmb3JtXCI7Y29uc3QgdD1EaShwYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJzaXplXCJdKTt0aGlzLl9hbmFseXNlci50eXBlPVwid2F2ZWZvcm1cIix0aGlzLnNpemU9dC5zaXplfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKGNjLmdldERlZmF1bHRzKCkse3NpemU6MTAyNH0pfWdldFZhbHVlKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2VyLmdldFZhbHVlKCl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fYW5hbHlzZXIuc2l6ZX1zZXQgc2l6ZSh0KXt0aGlzLl9hbmFseXNlci5zaXplPXR9fWNsYXNzIGRjIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihEaShkYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJzb2xvXCJdKSksdGhpcy5uYW1lPVwiU29sb1wiO2NvbnN0IHQ9RGkoZGMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wic29sb1wiXSk7dGhpcy5pbnB1dD10aGlzLm91dHB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksZGMuX2FsbFNvbG9zLmhhcyh0aGlzLmNvbnRleHQpfHxkYy5fYWxsU29sb3Muc2V0KHRoaXMuY29udGV4dCxuZXcgU2V0KSxkYy5fYWxsU29sb3MuZ2V0KHRoaXMuY29udGV4dCkuYWRkKHRoaXMpLHRoaXMuc29sbz10LnNvbG99c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7c29sbzohMX0pfWdldCBzb2xvKCl7cmV0dXJuIHRoaXMuX2lzU29sb2VkKCl9c2V0IHNvbG8odCl7dD90aGlzLl9hZGRTb2xvKCk6dGhpcy5fcmVtb3ZlU29sbygpLGRjLl9hbGxTb2xvcy5nZXQodGhpcy5jb250ZXh0KS5mb3JFYWNoKHQ9PnQuX3VwZGF0ZVNvbG8oKSl9Z2V0IG11dGVkKCl7cmV0dXJuIDA9PT10aGlzLmlucHV0LmdhaW4udmFsdWV9X2FkZFNvbG8oKXtkYy5fc29sb2VkLmhhcyh0aGlzLmNvbnRleHQpfHxkYy5fc29sb2VkLnNldCh0aGlzLmNvbnRleHQsbmV3IFNldCksZGMuX3NvbG9lZC5nZXQodGhpcy5jb250ZXh0KS5hZGQodGhpcyl9X3JlbW92ZVNvbG8oKXtkYy5fc29sb2VkLmhhcyh0aGlzLmNvbnRleHQpJiZkYy5fc29sb2VkLmdldCh0aGlzLmNvbnRleHQpLmRlbGV0ZSh0aGlzKX1faXNTb2xvZWQoKXtyZXR1cm4gZGMuX3NvbG9lZC5oYXModGhpcy5jb250ZXh0KSYmZGMuX3NvbG9lZC5nZXQodGhpcy5jb250ZXh0KS5oYXModGhpcyl9X25vU29sb3MoKXtyZXR1cm4hZGMuX3NvbG9lZC5oYXModGhpcy5jb250ZXh0KXx8ZGMuX3NvbG9lZC5oYXModGhpcy5jb250ZXh0KSYmMD09PWRjLl9zb2xvZWQuZ2V0KHRoaXMuY29udGV4dCkuc2l6ZX1fdXBkYXRlU29sbygpe3RoaXMuX2lzU29sb2VkKCl8fHRoaXMuX25vU29sb3MoKT90aGlzLmlucHV0LmdhaW4udmFsdWU9MTp0aGlzLmlucHV0LmdhaW4udmFsdWU9MH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSxkYy5fYWxsU29sb3MuZ2V0KHRoaXMuY29udGV4dCkuZGVsZXRlKHRoaXMpLHRoaXMuX3JlbW92ZVNvbG8oKSx0aGlzfX1kYy5fYWxsU29sb3M9bmV3IE1hcCxkYy5fc29sb2VkPW5ldyBNYXA7Y2xhc3MgZmMgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKGZjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInBhblwiLFwidm9sdW1lXCJdKSksdGhpcy5uYW1lPVwiUGFuVm9sXCI7Y29uc3QgdD1EaShmYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJwYW5cIixcInZvbHVtZVwiXSk7dGhpcy5fcGFubmVyPXRoaXMuaW5wdXQ9bmV3IENhKHtjb250ZXh0OnRoaXMuY29udGV4dCxwYW46dC5wYW4sY2hhbm5lbENvdW50OnQuY2hhbm5lbENvdW50fSksdGhpcy5wYW49dGhpcy5fcGFubmVyLnBhbix0aGlzLl92b2x1bWU9dGhpcy5vdXRwdXQ9bmV3IEdvKHtjb250ZXh0OnRoaXMuY29udGV4dCx2b2x1bWU6dC52b2x1bWV9KSx0aGlzLnZvbHVtZT10aGlzLl92b2x1bWUudm9sdW1lLHRoaXMuX3Bhbm5lci5jb25uZWN0KHRoaXMuX3ZvbHVtZSksdGhpcy5tdXRlPXQubXV0ZSxVaSh0aGlzLFtcInBhblwiLFwidm9sdW1lXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHttdXRlOiExLHBhbjowLHZvbHVtZTowLGNoYW5uZWxDb3VudDoxfSl9Z2V0IG11dGUoKXtyZXR1cm4gdGhpcy5fdm9sdW1lLm11dGV9c2V0IG11dGUodCl7dGhpcy5fdm9sdW1lLm11dGU9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9wYW5uZXIuZGlzcG9zZSgpLHRoaXMucGFuLmRpc3Bvc2UoKSx0aGlzLl92b2x1bWUuZGlzcG9zZSgpLHRoaXMudm9sdW1lLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBfYyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoX2MuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widm9sdW1lXCIsXCJwYW5cIl0pKSx0aGlzLm5hbWU9XCJDaGFubmVsXCI7Y29uc3QgdD1EaShfYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ2b2x1bWVcIixcInBhblwiXSk7dGhpcy5fc29sbz10aGlzLmlucHV0PW5ldyBkYyh7c29sbzp0LnNvbG8sY29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9wYW5Wb2w9dGhpcy5vdXRwdXQ9bmV3IGZjKHtjb250ZXh0OnRoaXMuY29udGV4dCxwYW46dC5wYW4sdm9sdW1lOnQudm9sdW1lLG11dGU6dC5tdXRlLGNoYW5uZWxDb3VudDp0LmNoYW5uZWxDb3VudH0pLHRoaXMucGFuPXRoaXMuX3BhblZvbC5wYW4sdGhpcy52b2x1bWU9dGhpcy5fcGFuVm9sLnZvbHVtZSx0aGlzLl9zb2xvLmNvbm5lY3QodGhpcy5fcGFuVm9sKSxVaSh0aGlzLFtcInBhblwiLFwidm9sdW1lXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHtwYW46MCx2b2x1bWU6MCxtdXRlOiExLHNvbG86ITEsY2hhbm5lbENvdW50OjF9KX1nZXQgc29sbygpe3JldHVybiB0aGlzLl9zb2xvLnNvbG99c2V0IHNvbG8odCl7dGhpcy5fc29sby5zb2xvPXR9Z2V0IG11dGVkKCl7cmV0dXJuIHRoaXMuX3NvbG8ubXV0ZWR8fHRoaXMubXV0ZX1nZXQgbXV0ZSgpe3JldHVybiB0aGlzLl9wYW5Wb2wubXV0ZX1zZXQgbXV0ZSh0KXt0aGlzLl9wYW5Wb2wubXV0ZT10fV9nZXRCdXModCl7cmV0dXJuIF9jLmJ1c2VzLmhhcyh0KXx8X2MuYnVzZXMuc2V0KHQsbmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pKSxfYy5idXNlcy5nZXQodCl9c2VuZCh0LGU9MCl7Y29uc3Qgcz10aGlzLl9nZXRCdXModCksbj1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwiZGVjaWJlbHNcIixnYWluOmV9KTtyZXR1cm4gdGhpcy5jb25uZWN0KG4pLG4uY29ubmVjdChzKSxufXJlY2VpdmUodCl7cmV0dXJuIHRoaXMuX2dldEJ1cyh0KS5jb25uZWN0KHRoaXMpLHRoaXN9ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fcGFuVm9sLmRpc3Bvc2UoKSx0aGlzLnBhbi5kaXNwb3NlKCksdGhpcy52b2x1bWUuZGlzcG9zZSgpLHRoaXMuX3NvbG8uZGlzcG9zZSgpLHRoaXN9fV9jLmJ1c2VzPW5ldyBNYXA7Y2xhc3MgbWMgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKG1jLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSksdGhpcy5uYW1lPVwiTW9ub1wiLHRoaXMuaW5wdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX21lcmdlPXRoaXMub3V0cHV0PW5ldyBGYSh7Y2hhbm5lbHM6Mixjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLl9tZXJnZSwwLDApLHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLl9tZXJnZSwwLDEpfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX21lcmdlLmRpc3Bvc2UoKSx0aGlzLmlucHV0LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBnYyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoZ2MuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wibG93RnJlcXVlbmN5XCIsXCJoaWdoRnJlcXVlbmN5XCJdKSksdGhpcy5uYW1lPVwiTXVsdGliYW5kU3BsaXRcIix0aGlzLmlucHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLm91dHB1dD12b2lkIDAsdGhpcy5sb3c9bmV3IFdyKHtjb250ZXh0OnRoaXMuY29udGV4dCxmcmVxdWVuY3k6MCx0eXBlOlwibG93cGFzc1wifSksdGhpcy5fbG93TWlkRmlsdGVyPW5ldyBXcih7Y29udGV4dDp0aGlzLmNvbnRleHQsZnJlcXVlbmN5OjAsdHlwZTpcImhpZ2hwYXNzXCJ9KSx0aGlzLm1pZD1uZXcgV3Ioe2NvbnRleHQ6dGhpcy5jb250ZXh0LGZyZXF1ZW5jeTowLHR5cGU6XCJsb3dwYXNzXCJ9KSx0aGlzLmhpZ2g9bmV3IFdyKHtjb250ZXh0OnRoaXMuY29udGV4dCxmcmVxdWVuY3k6MCx0eXBlOlwiaGlnaHBhc3NcIn0pLHRoaXMuX2ludGVybmFsQ2hhbm5lbHM9W3RoaXMubG93LHRoaXMubWlkLHRoaXMuaGlnaF07Y29uc3QgdD1EaShnYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJsb3dGcmVxdWVuY3lcIixcImhpZ2hGcmVxdWVuY3lcIl0pO3RoaXMubG93RnJlcXVlbmN5PW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJmcmVxdWVuY3lcIix2YWx1ZTp0Lmxvd0ZyZXF1ZW5jeX0pLHRoaXMuaGlnaEZyZXF1ZW5jeT1uZXcgRG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHVuaXRzOlwiZnJlcXVlbmN5XCIsdmFsdWU6dC5oaWdoRnJlcXVlbmN5fSksdGhpcy5RPW5ldyBEbyh7Y29udGV4dDp0aGlzLmNvbnRleHQsdW5pdHM6XCJwb3NpdGl2ZVwiLHZhbHVlOnQuUX0pLHRoaXMuaW5wdXQuZmFuKHRoaXMubG93LHRoaXMuaGlnaCksdGhpcy5pbnB1dC5jaGFpbih0aGlzLl9sb3dNaWRGaWx0ZXIsdGhpcy5taWQpLHRoaXMubG93RnJlcXVlbmN5LmZhbih0aGlzLmxvdy5mcmVxdWVuY3ksdGhpcy5fbG93TWlkRmlsdGVyLmZyZXF1ZW5jeSksdGhpcy5oaWdoRnJlcXVlbmN5LmZhbih0aGlzLm1pZC5mcmVxdWVuY3ksdGhpcy5oaWdoLmZyZXF1ZW5jeSksdGhpcy5RLmNvbm5lY3QodGhpcy5sb3cuUSksdGhpcy5RLmNvbm5lY3QodGhpcy5fbG93TWlkRmlsdGVyLlEpLHRoaXMuUS5jb25uZWN0KHRoaXMubWlkLlEpLHRoaXMuUS5jb25uZWN0KHRoaXMuaGlnaC5RKSxVaSh0aGlzLFtcImhpZ2hcIixcIm1pZFwiLFwibG93XCIsXCJoaWdoRnJlcXVlbmN5XCIsXCJsb3dGcmVxdWVuY3lcIl0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse1E6MSxoaWdoRnJlcXVlbmN5OjI1MDAsbG93RnJlcXVlbmN5OjQwMH0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLFFpKHRoaXMsW1wiaGlnaFwiLFwibWlkXCIsXCJsb3dcIixcImhpZ2hGcmVxdWVuY3lcIixcImxvd0ZyZXF1ZW5jeVwiXSksdGhpcy5sb3cuZGlzcG9zZSgpLHRoaXMuX2xvd01pZEZpbHRlci5kaXNwb3NlKCksdGhpcy5taWQuZGlzcG9zZSgpLHRoaXMuaGlnaC5kaXNwb3NlKCksdGhpcy5sb3dGcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuaGlnaEZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5RLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyB2YyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5hbWU9XCJMaXN0ZW5lclwiLHRoaXMucG9zaXRpb25YPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIucG9zaXRpb25YfSksdGhpcy5wb3NpdGlvblk9bmV3IHhvKHtjb250ZXh0OnRoaXMuY29udGV4dCxwYXJhbTp0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5wb3NpdGlvbll9KSx0aGlzLnBvc2l0aW9uWj1uZXcgeG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHBhcmFtOnRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnBvc2l0aW9uWn0pLHRoaXMuZm9yd2FyZFg9bmV3IHhvKHtjb250ZXh0OnRoaXMuY29udGV4dCxwYXJhbTp0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5mb3J3YXJkWH0pLHRoaXMuZm9yd2FyZFk9bmV3IHhvKHtjb250ZXh0OnRoaXMuY29udGV4dCxwYXJhbTp0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5mb3J3YXJkWX0pLHRoaXMuZm9yd2FyZFo9bmV3IHhvKHtjb250ZXh0OnRoaXMuY29udGV4dCxwYXJhbTp0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5mb3J3YXJkWn0pLHRoaXMudXBYPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIudXBYfSksdGhpcy51cFk9bmV3IHhvKHtjb250ZXh0OnRoaXMuY29udGV4dCxwYXJhbTp0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci51cFl9KSx0aGlzLnVwWj1uZXcgeG8oe2NvbnRleHQ6dGhpcy5jb250ZXh0LHBhcmFtOnRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnVwWn0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse3Bvc2l0aW9uWDowLHBvc2l0aW9uWTowLHBvc2l0aW9uWjowLGZvcndhcmRYOjAsZm9yd2FyZFk6MCxmb3J3YXJkWjotMSx1cFg6MCx1cFk6MSx1cFo6MH0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMucG9zaXRpb25YLmRpc3Bvc2UoKSx0aGlzLnBvc2l0aW9uWS5kaXNwb3NlKCksdGhpcy5wb3NpdGlvblouZGlzcG9zZSgpLHRoaXMuZm9yd2FyZFguZGlzcG9zZSgpLHRoaXMuZm9yd2FyZFkuZGlzcG9zZSgpLHRoaXMuZm9yd2FyZFouZGlzcG9zZSgpLHRoaXMudXBYLmRpc3Bvc2UoKSx0aGlzLnVwWS5kaXNwb3NlKCksdGhpcy51cFouZGlzcG9zZSgpLHRoaXN9fWppKHQ9Pnt0Lmxpc3RlbmVyPW5ldyB2Yyh7Y29udGV4dDp0fSl9KSx6aSh0PT57dC5saXN0ZW5lci5kaXNwb3NlKCl9KTtjbGFzcyB5YyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoeWMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wicG9zaXRpb25YXCIsXCJwb3NpdGlvbllcIixcInBvc2l0aW9uWlwiXSkpLHRoaXMubmFtZT1cIlBhbm5lcjNEXCI7Y29uc3QgdD1EaSh5Yy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJwb3NpdGlvblhcIixcInBvc2l0aW9uWVwiLFwicG9zaXRpb25aXCJdKTt0aGlzLl9wYW5uZXI9dGhpcy5pbnB1dD10aGlzLm91dHB1dD10aGlzLmNvbnRleHQuY3JlYXRlUGFubmVyKCksdGhpcy5wYW5uaW5nTW9kZWw9dC5wYW5uaW5nTW9kZWwsdGhpcy5tYXhEaXN0YW5jZT10Lm1heERpc3RhbmNlLHRoaXMuZGlzdGFuY2VNb2RlbD10LmRpc3RhbmNlTW9kZWwsdGhpcy5jb25lT3V0ZXJHYWluPXQuY29uZU91dGVyR2Fpbix0aGlzLmNvbmVPdXRlckFuZ2xlPXQuY29uZU91dGVyQW5nbGUsdGhpcy5jb25lSW5uZXJBbmdsZT10LmNvbmVJbm5lckFuZ2xlLHRoaXMucmVmRGlzdGFuY2U9dC5yZWZEaXN0YW5jZSx0aGlzLnJvbGxvZmZGYWN0b3I9dC5yb2xsb2ZmRmFjdG9yLHRoaXMucG9zaXRpb25YPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fcGFubmVyLnBvc2l0aW9uWCx2YWx1ZTp0LnBvc2l0aW9uWH0pLHRoaXMucG9zaXRpb25ZPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fcGFubmVyLnBvc2l0aW9uWSx2YWx1ZTp0LnBvc2l0aW9uWX0pLHRoaXMucG9zaXRpb25aPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fcGFubmVyLnBvc2l0aW9uWix2YWx1ZTp0LnBvc2l0aW9uWn0pLHRoaXMub3JpZW50YXRpb25YPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fcGFubmVyLm9yaWVudGF0aW9uWCx2YWx1ZTp0Lm9yaWVudGF0aW9uWH0pLHRoaXMub3JpZW50YXRpb25ZPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fcGFubmVyLm9yaWVudGF0aW9uWSx2YWx1ZTp0Lm9yaWVudGF0aW9uWX0pLHRoaXMub3JpZW50YXRpb25aPW5ldyB4byh7Y29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fcGFubmVyLm9yaWVudGF0aW9uWix2YWx1ZTp0Lm9yaWVudGF0aW9uWn0pfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse2NvbmVJbm5lckFuZ2xlOjM2MCxjb25lT3V0ZXJBbmdsZTozNjAsY29uZU91dGVyR2FpbjowLGRpc3RhbmNlTW9kZWw6XCJpbnZlcnNlXCIsbWF4RGlzdGFuY2U6MWU0LG9yaWVudGF0aW9uWDowLG9yaWVudGF0aW9uWTowLG9yaWVudGF0aW9uWjowLHBhbm5pbmdNb2RlbDpcImVxdWFscG93ZXJcIixwb3NpdGlvblg6MCxwb3NpdGlvblk6MCxwb3NpdGlvblo6MCxyZWZEaXN0YW5jZToxLHJvbGxvZmZGYWN0b3I6MX0pfXNldFBvc2l0aW9uKHQsZSxzKXtyZXR1cm4gdGhpcy5wb3NpdGlvblgudmFsdWU9dCx0aGlzLnBvc2l0aW9uWS52YWx1ZT1lLHRoaXMucG9zaXRpb25aLnZhbHVlPXMsdGhpc31zZXRPcmllbnRhdGlvbih0LGUscyl7cmV0dXJuIHRoaXMub3JpZW50YXRpb25YLnZhbHVlPXQsdGhpcy5vcmllbnRhdGlvblkudmFsdWU9ZSx0aGlzLm9yaWVudGF0aW9uWi52YWx1ZT1zLHRoaXN9Z2V0IHBhbm5pbmdNb2RlbCgpe3JldHVybiB0aGlzLl9wYW5uZXIucGFubmluZ01vZGVsfXNldCBwYW5uaW5nTW9kZWwodCl7dGhpcy5fcGFubmVyLnBhbm5pbmdNb2RlbD10fWdldCByZWZEaXN0YW5jZSgpe3JldHVybiB0aGlzLl9wYW5uZXIucmVmRGlzdGFuY2V9c2V0IHJlZkRpc3RhbmNlKHQpe3RoaXMuX3Bhbm5lci5yZWZEaXN0YW5jZT10fWdldCByb2xsb2ZmRmFjdG9yKCl7cmV0dXJuIHRoaXMuX3Bhbm5lci5yb2xsb2ZmRmFjdG9yfXNldCByb2xsb2ZmRmFjdG9yKHQpe3RoaXMuX3Bhbm5lci5yb2xsb2ZmRmFjdG9yPXR9Z2V0IGRpc3RhbmNlTW9kZWwoKXtyZXR1cm4gdGhpcy5fcGFubmVyLmRpc3RhbmNlTW9kZWx9c2V0IGRpc3RhbmNlTW9kZWwodCl7dGhpcy5fcGFubmVyLmRpc3RhbmNlTW9kZWw9dH1nZXQgY29uZUlubmVyQW5nbGUoKXtyZXR1cm4gdGhpcy5fcGFubmVyLmNvbmVJbm5lckFuZ2xlfXNldCBjb25lSW5uZXJBbmdsZSh0KXt0aGlzLl9wYW5uZXIuY29uZUlubmVyQW5nbGU9dH1nZXQgY29uZU91dGVyQW5nbGUoKXtyZXR1cm4gdGhpcy5fcGFubmVyLmNvbmVPdXRlckFuZ2xlfXNldCBjb25lT3V0ZXJBbmdsZSh0KXt0aGlzLl9wYW5uZXIuY29uZU91dGVyQW5nbGU9dH1nZXQgY29uZU91dGVyR2Fpbigpe3JldHVybiB0aGlzLl9wYW5uZXIuY29uZU91dGVyR2Fpbn1zZXQgY29uZU91dGVyR2Fpbih0KXt0aGlzLl9wYW5uZXIuY29uZU91dGVyR2Fpbj10fWdldCBtYXhEaXN0YW5jZSgpe3JldHVybiB0aGlzLl9wYW5uZXIubWF4RGlzdGFuY2V9c2V0IG1heERpc3RhbmNlKHQpe3RoaXMuX3Bhbm5lci5tYXhEaXN0YW5jZT10fWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX3Bhbm5lci5kaXNjb25uZWN0KCksdGhpcy5vcmllbnRhdGlvblguZGlzcG9zZSgpLHRoaXMub3JpZW50YXRpb25ZLmRpc3Bvc2UoKSx0aGlzLm9yaWVudGF0aW9uWi5kaXNwb3NlKCksdGhpcy5wb3NpdGlvblguZGlzcG9zZSgpLHRoaXMucG9zaXRpb25ZLmRpc3Bvc2UoKSx0aGlzLnBvc2l0aW9uWi5kaXNwb3NlKCksdGhpc319Y2xhc3MgeGMgZXh0ZW5kcyB3b3tjb25zdHJ1Y3Rvcigpe3N1cGVyKERpKHhjLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSksdGhpcy5uYW1lPVwiUmVjb3JkZXJcIjtjb25zdCB0PURpKHhjLmdldERlZmF1bHRzKCksYXJndW1lbnRzKTt0aGlzLmlucHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aSh4Yy5zdXBwb3J0ZWQsXCJNZWRpYSBSZWNvcmRlciBBUEkgaXMgbm90IGF2YWlsYWJsZVwiKSx0aGlzLl9zdHJlYW09dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSx0aGlzLmlucHV0LmNvbm5lY3QodGhpcy5fc3RyZWFtKSx0aGlzLl9yZWNvcmRlcj1uZXcgTWVkaWFSZWNvcmRlcih0aGlzLl9zdHJlYW0uc3RyZWFtLHttaW1lVHlwZTp0Lm1pbWVUeXBlfSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIHdvLmdldERlZmF1bHRzKCl9Z2V0IG1pbWVUeXBlKCl7cmV0dXJuIHRoaXMuX3JlY29yZGVyLm1pbWVUeXBlfXN0YXRpYyBnZXQgc3VwcG9ydGVkKCl7cmV0dXJuIG51bGwhPT1taSYmUmVmbGVjdC5oYXMobWksXCJNZWRpYVJlY29yZGVyXCIpfWdldCBzdGF0ZSgpe3JldHVyblwiaW5hY3RpdmVcIj09PXRoaXMuX3JlY29yZGVyLnN0YXRlP1wic3RvcHBlZFwiOlwicGF1c2VkXCI9PT10aGlzLl9yZWNvcmRlci5zdGF0ZT9cInBhdXNlZFwiOlwic3RhcnRlZFwifXN0YXJ0KCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dGkoXCJzdGFydGVkXCIhPT10aGlzLnN0YXRlLFwiUmVjb3JkZXIgaXMgYWxyZWFkeSBzdGFydGVkXCIpO2NvbnN0IHQ9bmV3IFByb21pc2UodD0+e2NvbnN0IGU9KCk9Pnt0aGlzLl9yZWNvcmRlci5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RhcnRcIixlLCExKSx0KCl9O3RoaXMuX3JlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGFydFwiLGUsITEpfSk7cmV0dXJuIHRoaXMuX3JlY29yZGVyLnN0YXJ0KCkseWllbGQgdH0pKX1zdG9wKCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dGkoXCJzdG9wcGVkXCIhPT10aGlzLnN0YXRlLFwiUmVjb3JkZXIgaXMgbm90IHN0YXJ0ZWRcIik7Y29uc3QgdD1uZXcgUHJvbWlzZSh0PT57Y29uc3QgZT1zPT57dGhpcy5fcmVjb3JkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRhdGFhdmFpbGFibGVcIixlLCExKSx0KHMuZGF0YSl9O3RoaXMuX3JlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJkYXRhYXZhaWxhYmxlXCIsZSwhMSl9KTtyZXR1cm4gdGhpcy5fcmVjb3JkZXIuc3RvcCgpLHlpZWxkIHR9KSl9cGF1c2UoKXtyZXR1cm4gdGkoXCJzdGFydGVkXCI9PT10aGlzLnN0YXRlLFwiUmVjb3JkZXIgbXVzdCBiZSBzdGFydGVkXCIpLHRoaXMuX3JlY29yZGVyLnBhdXNlKCksdGhpc31kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmlucHV0LmRpc3Bvc2UoKSx0aGlzLl9zdHJlYW0uZGlzY29ubmVjdCgpLHRoaXN9fWNsYXNzIHdjIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihEaSh3Yy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ0aHJlc2hvbGRcIixcInJhdGlvXCJdKSksdGhpcy5uYW1lPVwiQ29tcHJlc3NvclwiLHRoaXMuX2NvbXByZXNzb3I9dGhpcy5jb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpLHRoaXMuaW5wdXQ9dGhpcy5fY29tcHJlc3Nvcix0aGlzLm91dHB1dD10aGlzLl9jb21wcmVzc29yO2NvbnN0IHQ9RGkod2MuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widGhyZXNob2xkXCIsXCJyYXRpb1wiXSk7dGhpcy50aHJlc2hvbGQ9bmV3IHhvKHttaW5WYWx1ZTp0aGlzLl9jb21wcmVzc29yLnRocmVzaG9sZC5taW5WYWx1ZSxtYXhWYWx1ZTp0aGlzLl9jb21wcmVzc29yLnRocmVzaG9sZC5tYXhWYWx1ZSxjb250ZXh0OnRoaXMuY29udGV4dCxjb252ZXJ0OiExLHBhcmFtOnRoaXMuX2NvbXByZXNzb3IudGhyZXNob2xkLHVuaXRzOlwiZGVjaWJlbHNcIix2YWx1ZTp0LnRocmVzaG9sZH0pLHRoaXMuYXR0YWNrPW5ldyB4byh7bWluVmFsdWU6dGhpcy5fY29tcHJlc3Nvci5hdHRhY2subWluVmFsdWUsbWF4VmFsdWU6dGhpcy5fY29tcHJlc3Nvci5hdHRhY2subWF4VmFsdWUsY29udGV4dDp0aGlzLmNvbnRleHQscGFyYW06dGhpcy5fY29tcHJlc3Nvci5hdHRhY2ssdW5pdHM6XCJ0aW1lXCIsdmFsdWU6dC5hdHRhY2t9KSx0aGlzLnJlbGVhc2U9bmV3IHhvKHttaW5WYWx1ZTp0aGlzLl9jb21wcmVzc29yLnJlbGVhc2UubWluVmFsdWUsbWF4VmFsdWU6dGhpcy5fY29tcHJlc3Nvci5yZWxlYXNlLm1heFZhbHVlLGNvbnRleHQ6dGhpcy5jb250ZXh0LHBhcmFtOnRoaXMuX2NvbXByZXNzb3IucmVsZWFzZSx1bml0czpcInRpbWVcIix2YWx1ZTp0LnJlbGVhc2V9KSx0aGlzLmtuZWU9bmV3IHhvKHttaW5WYWx1ZTp0aGlzLl9jb21wcmVzc29yLmtuZWUubWluVmFsdWUsbWF4VmFsdWU6dGhpcy5fY29tcHJlc3Nvci5rbmVlLm1heFZhbHVlLGNvbnRleHQ6dGhpcy5jb250ZXh0LGNvbnZlcnQ6ITEscGFyYW06dGhpcy5fY29tcHJlc3Nvci5rbmVlLHVuaXRzOlwiZGVjaWJlbHNcIix2YWx1ZTp0LmtuZWV9KSx0aGlzLnJhdGlvPW5ldyB4byh7bWluVmFsdWU6dGhpcy5fY29tcHJlc3Nvci5yYXRpby5taW5WYWx1ZSxtYXhWYWx1ZTp0aGlzLl9jb21wcmVzc29yLnJhdGlvLm1heFZhbHVlLGNvbnRleHQ6dGhpcy5jb250ZXh0LGNvbnZlcnQ6ITEscGFyYW06dGhpcy5fY29tcHJlc3Nvci5yYXRpbyx1bml0czpcInBvc2l0aXZlXCIsdmFsdWU6dC5yYXRpb30pLFVpKHRoaXMsW1wia25lZVwiLFwicmVsZWFzZVwiLFwiYXR0YWNrXCIsXCJyYXRpb1wiLFwidGhyZXNob2xkXCJdKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHthdHRhY2s6LjAwMyxrbmVlOjMwLHJhdGlvOjEyLHJlbGVhc2U6LjI1LHRocmVzaG9sZDotMjR9KX1nZXQgcmVkdWN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXByZXNzb3IucmVkdWN0aW9ufWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMuX2NvbXByZXNzb3IuZGlzY29ubmVjdCgpLHRoaXMuYXR0YWNrLmRpc3Bvc2UoKSx0aGlzLnJlbGVhc2UuZGlzcG9zZSgpLHRoaXMudGhyZXNob2xkLmRpc3Bvc2UoKSx0aGlzLnJhdGlvLmRpc3Bvc2UoKSx0aGlzLmtuZWUuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIGJjIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihPYmplY3QuYXNzaWduKERpKGJjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInRocmVzaG9sZFwiLFwic21vb3RoaW5nXCJdKSkpLHRoaXMubmFtZT1cIkdhdGVcIjtjb25zdCB0PURpKGJjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInRocmVzaG9sZFwiLFwic21vb3RoaW5nXCJdKTt0aGlzLl9mb2xsb3dlcj1uZXcgRGEoe2NvbnRleHQ6dGhpcy5jb250ZXh0LHNtb290aGluZzp0LnNtb290aGluZ30pLHRoaXMuX2d0PW5ldyBNcih7Y29udGV4dDp0aGlzLmNvbnRleHQsdmFsdWU6ZW8odC50aHJlc2hvbGQpfSksdGhpcy5pbnB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5fZ2F0ZT10aGlzLm91dHB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMuX2dhdGUpLHRoaXMuaW5wdXQuY2hhaW4odGhpcy5fZm9sbG93ZXIsdGhpcy5fZ3QsdGhpcy5fZ2F0ZS5nYWluKX1zdGF0aWMgZ2V0RGVmYXVsdHMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih3by5nZXREZWZhdWx0cygpLHtzbW9vdGhpbmc6LjEsdGhyZXNob2xkOi00MH0pfWdldCB0aHJlc2hvbGQoKXtyZXR1cm4gc28odGhpcy5fZ3QudmFsdWUpfXNldCB0aHJlc2hvbGQodCl7dGhpcy5fZ3QudmFsdWU9ZW8odCl9Z2V0IHNtb290aGluZygpe3JldHVybiB0aGlzLl9mb2xsb3dlci5zbW9vdGhpbmd9c2V0IHNtb290aGluZyh0KXt0aGlzLl9mb2xsb3dlci5zbW9vdGhpbmc9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLmlucHV0LmRpc3Bvc2UoKSx0aGlzLl9mb2xsb3dlci5kaXNwb3NlKCksdGhpcy5fZ3QuZGlzcG9zZSgpLHRoaXMuX2dhdGUuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIFRjIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihPYmplY3QuYXNzaWduKERpKFRjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcInRocmVzaG9sZFwiXSkpKSx0aGlzLm5hbWU9XCJMaW1pdGVyXCI7Y29uc3QgdD1EaShUYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyxbXCJ0aHJlc2hvbGRcIl0pO3RoaXMuX2NvbXByZXNzb3I9dGhpcy5pbnB1dD10aGlzLm91dHB1dD1uZXcgd2Moe2NvbnRleHQ6dGhpcy5jb250ZXh0LHJhdGlvOjIwLGF0dGFjazouMDAzLHJlbGVhc2U6LjAxLHRocmVzaG9sZDp0LnRocmVzaG9sZH0pLHRoaXMudGhyZXNob2xkPXRoaXMuX2NvbXByZXNzb3IudGhyZXNob2xkLFVpKHRoaXMsXCJ0aHJlc2hvbGRcIil9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7dGhyZXNob2xkOi0xMn0pfWdldCByZWR1Y3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcHJlc3Nvci5yZWR1Y3Rpb259ZGlzcG9zZSgpe3JldHVybiBzdXBlci5kaXNwb3NlKCksdGhpcy5fY29tcHJlc3Nvci5kaXNwb3NlKCksdGhpcy50aHJlc2hvbGQuZGlzcG9zZSgpLHRoaXN9fWNsYXNzIFNjIGV4dGVuZHMgd297Y29uc3RydWN0b3IoKXtzdXBlcihPYmplY3QuYXNzaWduKERpKFNjLmdldERlZmF1bHRzKCksYXJndW1lbnRzKSkpLHRoaXMubmFtZT1cIk1pZFNpZGVDb21wcmVzc29yXCI7Y29uc3QgdD1EaShTYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyk7dGhpcy5fbWlkU2lkZVNwbGl0PXRoaXMuaW5wdXQ9bmV3IGVjKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMuX21pZFNpZGVNZXJnZT10aGlzLm91dHB1dD1uZXcgc2Moe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5taWQ9bmV3IHdjKE9iamVjdC5hc3NpZ24odC5taWQse2NvbnRleHQ6dGhpcy5jb250ZXh0fSkpLHRoaXMuc2lkZT1uZXcgd2MoT2JqZWN0LmFzc2lnbih0LnNpZGUse2NvbnRleHQ6dGhpcy5jb250ZXh0fSkpLHRoaXMuX21pZFNpZGVTcGxpdC5taWQuY2hhaW4odGhpcy5taWQsdGhpcy5fbWlkU2lkZU1lcmdlLm1pZCksdGhpcy5fbWlkU2lkZVNwbGl0LnNpZGUuY2hhaW4odGhpcy5zaWRlLHRoaXMuX21pZFNpZGVNZXJnZS5zaWRlKSxVaSh0aGlzLFtcIm1pZFwiLFwic2lkZVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7bWlkOntyYXRpbzozLHRocmVzaG9sZDotMjQscmVsZWFzZTouMDMsYXR0YWNrOi4wMixrbmVlOjE2fSxzaWRlOntyYXRpbzo2LHRocmVzaG9sZDotMzAscmVsZWFzZTouMjUsYXR0YWNrOi4wMyxrbmVlOjEwfX0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLHRoaXMubWlkLmRpc3Bvc2UoKSx0aGlzLnNpZGUuZGlzcG9zZSgpLHRoaXMuX21pZFNpZGVTcGxpdC5kaXNwb3NlKCksdGhpcy5fbWlkU2lkZU1lcmdlLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBrYyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoT2JqZWN0LmFzc2lnbihEaShrYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cykpKSx0aGlzLm5hbWU9XCJNdWx0aWJhbmRDb21wcmVzc29yXCI7Y29uc3QgdD1EaShrYy5nZXREZWZhdWx0cygpLGFyZ3VtZW50cyk7dGhpcy5fc3BsaXR0ZXI9dGhpcy5pbnB1dD1uZXcgZ2Moe2NvbnRleHQ6dGhpcy5jb250ZXh0LGxvd0ZyZXF1ZW5jeTp0Lmxvd0ZyZXF1ZW5jeSxoaWdoRnJlcXVlbmN5OnQuaGlnaEZyZXF1ZW5jeX0pLHRoaXMubG93RnJlcXVlbmN5PXRoaXMuX3NwbGl0dGVyLmxvd0ZyZXF1ZW5jeSx0aGlzLmhpZ2hGcmVxdWVuY3k9dGhpcy5fc3BsaXR0ZXIuaGlnaEZyZXF1ZW5jeSx0aGlzLm91dHB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5sb3c9bmV3IHdjKE9iamVjdC5hc3NpZ24odC5sb3cse2NvbnRleHQ6dGhpcy5jb250ZXh0fSkpLHRoaXMubWlkPW5ldyB3YyhPYmplY3QuYXNzaWduKHQubWlkLHtjb250ZXh0OnRoaXMuY29udGV4dH0pKSx0aGlzLmhpZ2g9bmV3IHdjKE9iamVjdC5hc3NpZ24odC5oaWdoLHtjb250ZXh0OnRoaXMuY29udGV4dH0pKSx0aGlzLl9zcGxpdHRlci5sb3cuY2hhaW4odGhpcy5sb3csdGhpcy5vdXRwdXQpLHRoaXMuX3NwbGl0dGVyLm1pZC5jaGFpbih0aGlzLm1pZCx0aGlzLm91dHB1dCksdGhpcy5fc3BsaXR0ZXIuaGlnaC5jaGFpbih0aGlzLmhpZ2gsdGhpcy5vdXRwdXQpLFVpKHRoaXMsW1wiaGlnaFwiLFwibWlkXCIsXCJsb3dcIixcImhpZ2hGcmVxdWVuY3lcIixcImxvd0ZyZXF1ZW5jeVwiXSl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7bG93RnJlcXVlbmN5OjI1MCxoaWdoRnJlcXVlbmN5OjJlMyxsb3c6e3JhdGlvOjYsdGhyZXNob2xkOi0zMCxyZWxlYXNlOi4yNSxhdHRhY2s6LjAzLGtuZWU6MTB9LG1pZDp7cmF0aW86Myx0aHJlc2hvbGQ6LTI0LHJlbGVhc2U6LjAzLGF0dGFjazouMDIsa25lZToxNn0saGlnaDp7cmF0aW86Myx0aHJlc2hvbGQ6LTI0LHJlbGVhc2U6LjAzLGF0dGFjazouMDIsa25lZToxNn19KX1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9zcGxpdHRlci5kaXNwb3NlKCksdGhpcy5sb3cuZGlzcG9zZSgpLHRoaXMubWlkLmRpc3Bvc2UoKSx0aGlzLmhpZ2guZGlzcG9zZSgpLHRoaXMub3V0cHV0LmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBDYyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoQ2MuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1wibG93XCIsXCJtaWRcIixcImhpZ2hcIl0pKSx0aGlzLm5hbWU9XCJFUTNcIix0aGlzLm91dHB1dD1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0fSksdGhpcy5faW50ZXJuYWxDaGFubmVscz1bXTtjb25zdCB0PURpKENjLmdldERlZmF1bHRzKCksYXJndW1lbnRzLFtcImxvd1wiLFwibWlkXCIsXCJoaWdoXCJdKTt0aGlzLmlucHV0PXRoaXMuX211bHRpYmFuZFNwbGl0PW5ldyBnYyh7Y29udGV4dDp0aGlzLmNvbnRleHQsaGlnaEZyZXF1ZW5jeTp0LmhpZ2hGcmVxdWVuY3ksbG93RnJlcXVlbmN5OnQubG93RnJlcXVlbmN5fSksdGhpcy5fbG93R2Fpbj1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0LGdhaW46dC5sb3csdW5pdHM6XCJkZWNpYmVsc1wifSksdGhpcy5fbWlkR2Fpbj1uZXcga28oe2NvbnRleHQ6dGhpcy5jb250ZXh0LGdhaW46dC5taWQsdW5pdHM6XCJkZWNpYmVsc1wifSksdGhpcy5faGlnaEdhaW49bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dCxnYWluOnQuaGlnaCx1bml0czpcImRlY2liZWxzXCJ9KSx0aGlzLmxvdz10aGlzLl9sb3dHYWluLmdhaW4sdGhpcy5taWQ9dGhpcy5fbWlkR2Fpbi5nYWluLHRoaXMuaGlnaD10aGlzLl9oaWdoR2Fpbi5nYWluLHRoaXMuUT10aGlzLl9tdWx0aWJhbmRTcGxpdC5RLHRoaXMubG93RnJlcXVlbmN5PXRoaXMuX211bHRpYmFuZFNwbGl0Lmxvd0ZyZXF1ZW5jeSx0aGlzLmhpZ2hGcmVxdWVuY3k9dGhpcy5fbXVsdGliYW5kU3BsaXQuaGlnaEZyZXF1ZW5jeSx0aGlzLl9tdWx0aWJhbmRTcGxpdC5sb3cuY2hhaW4odGhpcy5fbG93R2Fpbix0aGlzLm91dHB1dCksdGhpcy5fbXVsdGliYW5kU3BsaXQubWlkLmNoYWluKHRoaXMuX21pZEdhaW4sdGhpcy5vdXRwdXQpLHRoaXMuX211bHRpYmFuZFNwbGl0LmhpZ2guY2hhaW4odGhpcy5faGlnaEdhaW4sdGhpcy5vdXRwdXQpLFVpKHRoaXMsW1wibG93XCIsXCJtaWRcIixcImhpZ2hcIixcImxvd0ZyZXF1ZW5jeVwiLFwiaGlnaEZyZXF1ZW5jeVwiXSksdGhpcy5faW50ZXJuYWxDaGFubmVscz1bdGhpcy5fbXVsdGliYW5kU3BsaXRdfXN0YXRpYyBnZXREZWZhdWx0cygpe3JldHVybiBPYmplY3QuYXNzaWduKHdvLmdldERlZmF1bHRzKCkse2hpZ2g6MCxoaWdoRnJlcXVlbmN5OjI1MDAsbG93OjAsbG93RnJlcXVlbmN5OjQwMCxtaWQ6MH0pfWRpc3Bvc2UoKXtyZXR1cm4gc3VwZXIuZGlzcG9zZSgpLFFpKHRoaXMsW1wibG93XCIsXCJtaWRcIixcImhpZ2hcIixcImxvd0ZyZXF1ZW5jeVwiLFwiaGlnaEZyZXF1ZW5jeVwiXSksdGhpcy5fbXVsdGliYW5kU3BsaXQuZGlzcG9zZSgpLHRoaXMubG93RnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmhpZ2hGcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuX2xvd0dhaW4uZGlzcG9zZSgpLHRoaXMuX21pZEdhaW4uZGlzcG9zZSgpLHRoaXMuX2hpZ2hHYWluLmRpc3Bvc2UoKSx0aGlzLmxvdy5kaXNwb3NlKCksdGhpcy5taWQuZGlzcG9zZSgpLHRoaXMuaGlnaC5kaXNwb3NlKCksdGhpcy5RLmRpc3Bvc2UoKSx0aGlzfX1jbGFzcyBBYyBleHRlbmRzIHdve2NvbnN0cnVjdG9yKCl7c3VwZXIoRGkoQWMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widXJsXCIsXCJvbmxvYWRcIl0pKSx0aGlzLm5hbWU9XCJDb252b2x2ZXJcIix0aGlzLl9jb252b2x2ZXI9dGhpcy5jb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpO2NvbnN0IHQ9RGkoQWMuZ2V0RGVmYXVsdHMoKSxhcmd1bWVudHMsW1widXJsXCIsXCJvbmxvYWRcIl0pO3RoaXMuX2J1ZmZlcj1uZXcgWGkodC51cmwsZT0+e3RoaXMuYnVmZmVyPWUsdC5vbmxvYWQoKX0pLHRoaXMuaW5wdXQ9bmV3IGtvKHtjb250ZXh0OnRoaXMuY29udGV4dH0pLHRoaXMub3V0cHV0PW5ldyBrbyh7Y29udGV4dDp0aGlzLmNvbnRleHR9KSx0aGlzLl9idWZmZXIubG9hZGVkJiYodGhpcy5idWZmZXI9dGhpcy5fYnVmZmVyKSx0aGlzLm5vcm1hbGl6ZT10Lm5vcm1hbGl6ZSx0aGlzLmlucHV0LmNoYWluKHRoaXMuX2NvbnZvbHZlcix0aGlzLm91dHB1dCl9c3RhdGljIGdldERlZmF1bHRzKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24od28uZ2V0RGVmYXVsdHMoKSx7bm9ybWFsaXplOiEwLG9ubG9hZDpaaX0pfWxvYWQodCl7cmV0dXJuIHlpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dGhpcy5idWZmZXI9eWllbGQgdGhpcy5fYnVmZmVyLmxvYWQodCl9KSl9Z2V0IGJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXIubGVuZ3RoP3RoaXMuX2J1ZmZlcjpudWxsfXNldCBidWZmZXIodCl7dCYmdGhpcy5fYnVmZmVyLnNldCh0KSx0aGlzLl9jb252b2x2ZXIuYnVmZmVyJiYodGhpcy5pbnB1dC5kaXNjb25uZWN0KCksdGhpcy5fY29udm9sdmVyLmRpc2Nvbm5lY3QoKSx0aGlzLl9jb252b2x2ZXI9dGhpcy5jb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpLHRoaXMuaW5wdXQuY2hhaW4odGhpcy5fY29udm9sdmVyLHRoaXMub3V0cHV0KSk7Y29uc3QgZT10aGlzLl9idWZmZXIuZ2V0KCk7dGhpcy5fY29udm9sdmVyLmJ1ZmZlcj1lfHxudWxsfWdldCBub3JtYWxpemUoKXtyZXR1cm4gdGhpcy5fY29udm9sdmVyLm5vcm1hbGl6ZX1zZXQgbm9ybWFsaXplKHQpe3RoaXMuX2NvbnZvbHZlci5ub3JtYWxpemU9dH1kaXNwb3NlKCl7cmV0dXJuIHN1cGVyLmRpc3Bvc2UoKSx0aGlzLl9idWZmZXIuZGlzcG9zZSgpLHRoaXMuX2NvbnZvbHZlci5kaXNjb25uZWN0KCksdGhpc319ZnVuY3Rpb24gRGMoKXtyZXR1cm4gSmkoKS5ub3coKX1mdW5jdGlvbiBPYygpe3JldHVybiBKaSgpLmltbWVkaWF0ZSgpfWNvbnN0IE1jPUppKCkudHJhbnNwb3J0O2Z1bmN0aW9uIEVjKCl7cmV0dXJuIEppKCkudHJhbnNwb3J0fWNvbnN0IFJjPUppKCkuZGVzdGluYXRpb24scWM9SmkoKS5kZXN0aW5hdGlvbjtmdW5jdGlvbiBGYygpe3JldHVybiBKaSgpLmRlc3RpbmF0aW9ufWNvbnN0IEljPUppKCkubGlzdGVuZXI7ZnVuY3Rpb24gVmMoKXtyZXR1cm4gSmkoKS5saXN0ZW5lcn1jb25zdCBOYz1KaSgpLmRyYXc7ZnVuY3Rpb24gUGMoKXtyZXR1cm4gSmkoKS5kcmF3fWNvbnN0IGpjPUppKCk7ZnVuY3Rpb24gTGMoKXtyZXR1cm4gWGkubG9hZGVkKCl9Y29uc3QgemM9WGksQmM9Vm8sV2M9JG99XSl9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub25lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/tone@14.7.77/node_modules/tone/build/Tone.js\n");

/***/ })

};
;